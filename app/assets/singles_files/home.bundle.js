webpackJsonp([0],[,,,,,function(e,t,n){var i=n(47)("wks"),r=n(34),o=n(6).Symbol,a="function"==typeof o,s=e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))};s.store=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(14);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(20),r=n(46);e.exports=n(12)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},,function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){e.exports=!n(42)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var i=n(6),r=n(9),o=n(13),a=n(34)("src"),s="toString",d=Function[s],c=(""+d).split(s);n(8).inspectSource=function(e){return d.call(e)},(e.exports=function(e,t,n,s){var d="function"==typeof n;d&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(d&&(o(n,a)||r(n,a,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||d.call(this)})},function(e,t,n){var i=n(27);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(6),r=n(8),o=n(9),a=n(16),s=n(17),d="prototype",c=function(e,t,n){var l,u,f,p,h=e&c.F,g=e&c.G,m=e&c.S,v=e&c.P,y=e&c.B,b=g?i:m?i[t]||(i[t]={}):(i[t]||{})[d],w=g?r:r[t]||(r[t]={}),x=w[d]||(w[d]={});g&&(n=t);for(l in n)u=!h&&b&&void 0!==b[l],f=(u?b:n)[l],p=y&&u?s(f,i):v&&"function"==typeof f?s(Function.call,f):f,b&&a(b,l,f,e&c.U),w[l]!=f&&o(w,l,p),v&&x[l]!=f&&(x[l]=f)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var i=n(7),r=n(121),o=n(141),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(32),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){"use strict";function i(e){return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e=d.extend({bidders:[]},e),y.registerBidder(e.bidders),window.googletag.cmd.push(function(){document.getElementById("dfp-ad-o1")&&(h.add("dfp-ad-o1",window.googletag.defineOutOfPageSlot(window.PGM.ads.adUnit,"dfp-ad-o1").addService(window.googletag.pubads())),f("defined o1 ad"),p("dfpauto","o1",{},{})),window.googletag.pubads().addEventListener("slotRenderEnded",m),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices()}),v("screen and (min-width: 767px) and (max-width: 1023px)"),Promise.all([l.createScriptTag("//www.googletagservices.com/tag/js/gpt.js"),l.createScriptTag("//c.amazon-adsystem.com/aax2/amzn_ads.js")])}function r(e){var t;e.find(".dfp-ad:not([id])").each(function(){try{t=JSON.parse(this.getElementsByTagName("script")[0].textContent)}catch(e){return void f("could not extract ad data from",this)}this.id=d.uniqueId("dfp-ad-"),g.define(this.id,t,this)})}function o(e){"string"==typeof e?e=[e]:Array.isArray(e)||(e=d.pluck(e.filter(".dfp-ad"),"id")),window.googletag.cmd.push(function(){return y.auction(e).then(function(){return g.refresh(e)})})}function a(e){r(e),o(e.find(".dfp-ad"))}function s(e,t){var n=x(e)(t);n.filter(".dfp-ad-o1").length&&"function"==typeof window.jpUnloadUnits&&window.jpUnloadUnits(),b(t),o(n)}var d=n(1),c=n(4),l=n(10),u=n(2),f=u("dfp"),p=u("dfpauto"),h=n(23),g=n(71),m=n(75),v=n(73),y=n(72),b=n(74),w=n(76),x=n(70);c.on("contentLoaded",r),c.on("initialContentLoaded",a),c.on("adTemplatesInserted",r),c.on("contentDisplayed",s),c.on("urlChange:post",s),c.on("ads:refresh",g.refresh),e.exports={setup:d.once(i),stickyLeaderboard:w,refresh:o}},function(e,t){"use strict";function n(e,t,n){a[e]=t,s[e]=n}function i(e){return a[e]||null}function r(e){return s[e]||[]}function o(e){var t={};return a[e].getTargetingKeys().forEach(function(n){t[n]=a[e].getTargeting(n)}),t}var a={},s={};e.exports={add:n,get:i,getSlotSizes:r,getSlotTargeting:o}},,function(e,t){"use strict";e.exports=function(e){return{id:e.data("id"),canonical:e.data("canonical"),title:e.data("page-title"),authors:e.find(".js-authors-list").text().replace(/(^\s+|\s+$)/g,""),publishDate:e.find(".js-publish-date").data("pubdate-value"),analyticsCategory:e.data("analytics-category"),analyticsTags:e.data("analytics-tags"),chartbeatSection:e.data("chartbeatSection")}}},,function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(11),r=n(5)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var i=n(14),r=n(6).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(20).f,r=n(13),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(47)("keys"),r=n(34);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(123),r=n(18);e.exports=function(e){return i(r(e))}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){"use strict";var i=n(0),r=n(4),o=n(100),a=n(99),s=n(101),d=n(98),c=n(25);window._gaq=window._gaq||[],window.dataLayer=window.dataLayer||[],r.on("trackEvent",o.trackEvent),r.on("trackPageview",o.trackPageview),i("body").on("click","a[data-tracklabel], button[data-tracklabel], [data-tracklabel] a:not([data-tracklabel]), [data-tracklabel] button:not([data-tracklabel])",function(){var e=i(this),t=e.attr("data-tracklabel")||e.parents("[data-tracklabel]").attr("data-tracklabel")||!1,n=e.attr("data-trackaction")||e.parents("[data-trackaction]").attr("data-trackaction")||!1,o={nonInteraction:!0};!1!==t&&(o.label=t),!1!==n&&(o.action=n),r.trigger("trackEvent",o)}),window.PGM.events.on("urlChange:post",s),window.PGM.events.on("urlChange:post",a),window.PGM.events.on("urlChange:post",d),window.PGM.events.on("trackComscore",a),r.on("asyncContentLoaded",function(){r.trigger("trackEvent",{action:"Scroll",label:"New Content Loaded"})}),e.exports={setCategory:o.setCategory,setAction:o.setAction,getContentInfo:c}},function(e,t,n){"use strict";var i=n(4),r=n(90),o=n(79),a=n(78),s=n(85),d=n(89),c=n(91),l=n(92),u=n(93),f=n(94),p=n(80),h=n(81),g=n(83),m=n(84),v=n(82);r.register("standard",{}),r.register("article",c),r.register("longform",l),r.register("topicIndex",u),r.register("topicSplash",f),o.register("promo",p.Model,p.View),o.register("gallery",h.Model,h.View),o.register("image",g.Model,g.View),o.register("readmore",m.Model,m.View),o.register("hybridPlayer",v.Model,v.View),i.on("contentReady",function(){i.trigger("contentLoaded",r.attach().add(o.attach()))}),i.on("asyncContentReady",function(){var e=Array.prototype.slice.apply(arguments);i.trigger.apply(i,["contentReady"].concat(e)),i.trigger.apply(i,["asyncContentLoaded"].concat(e)),d()}),s.init(),i.on("contentLoaded",a),e.exports={types:r,embeds:o}},function(e,t,n){"use strict";var i=n(3),r={LeftRailItem:i.Model.extend({}),TopicBlock:i.Model.extend({}),Ad:i.Model.extend({}),Taboola:i.Model.extend({})};r.LeftRailItemCollection=i.Collection.extend({model:r.LeftRailItem}),r.LeftRail=i.Model.extend({initialize:function(e){this.set("options",e.options),this.set("title",e.title);var t=new r.LeftRailItemCollection(e.mainList),n=e.initialItem.id;if(t.remove(n),t.add(e.initialItem,{at:0}),this.set("mainList",t),e.topicBlock){var i=new r.TopicBlock(e.topicBlock);this.set("topicBlock",i)}else window.PGM.debug("leftRail","no topic block found")},getPathAfterId:function(e){e=parseInt(e);var t=this.get("mainList");if(0===t.length)return null;var n=!1,i=t.find(function(t){return!!n||void(n=t.get("id")===e)});return"undefined"==typeof i?null:i.get("path")}}),e.exports=r},,function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var i=n(5)("unscopables"),r=Array.prototype;void 0==r[i]&&n(9)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){e.exports=n(6).document&&document.documentElement},function(e,t,n){"use strict";var i=n(45),r=n(19),o=n(16),a=n(9),s=n(13),d=n(15),c=n(127),l=n(30),u=n(133),f=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",g="keys",m="values",v=function(){return this};e.exports=function(e,t,n,y,b,w,x){c(n,t,y);var _,S,I,T=function(e){if(!p&&e in C)return C[e];switch(e){case g:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",k=b==m,E=!1,C=e.prototype,P=C[f]||C[h]||b&&C[b],j=P||T(b),O=b?k?T("entries"):j:void 0,R="Array"==t?C.entries||P:P;if(R&&(I=u(R.call(new e)),I!==Object.prototype&&(l(I,A,!0),i||s(I,f)||a(I,f,v))),k&&P&&P.name!==m&&(E=!0,j=function(){return P.call(this)}),i&&!x||!p&&!E&&C[f]||a(C,f,j),d[t]=j,d[A]=v,b)if(_={values:k?j:T(m),keys:w?j:T(g),entries:O},x)for(S in _)S in C||o(C,S,_[S]);else r(r.P+r.F*(p||E),t,_);return _}},function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(6),r="__core-js_shared__",o=i[r]||(i[r]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var i,r,o,a=n(17),s=n(122),d=n(43),c=n(29),l=n(6),u=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,g=0,m={},v="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete m[e]},"process"==n(11)(u)?i=function(e){u.nextTick(a(y,e,1))}:h?(r=new h,o=r.port2,r.port1.onmessage=b,i=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):i=v in c("script")?function(e){d.appendChild(c("script"))[v]=function(){d.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){var i=n(32),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(18);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i;!function(r,o,a){var s=window.matchMedia;"undefined"!=typeof e&&e.exports?e.exports=a(s):(i=function(){return o[r]=a(s)}.call(t,n,t,e),!(void 0!==i&&(e.exports=i)))}("enquire",this,function(e){"use strict";function t(e,t){var n,i=0,r=e.length;for(i;i<r&&(n=t(e[i],i),n!==!1);i++);}function n(e){return"[object Array]"===Object.prototype.toString.apply(e)}function i(e){return"function"==typeof e}function r(e){this.options=e,!e.deferSetup&&this.setup()}function o(t,n){this.query=t,this.isUnconditional=n,this.handlers=[],this.mql=e(t);var i=this;this.listener=function(e){i.mql=e,i.assess()},this.mql.addListener(this.listener)}function a(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return r.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},o.prototype={addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,i){if(t.equals(e))return t.destroy(),!n.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},a.prototype={register:function(e,r,a){var s=this.queries,d=a&&this.browserIsIncapable;return s[e]||(s[e]=new o(e,d)),i(r)&&(r={match:r}),n(r)||(r=[r]),t(r,function(t){s[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},new a})},,function(e,t,n){"use strict";function i(e){var t=a(".js-leftRail-container");if(1!==t.length)return void u("Could not find a leftRail to set up.");try{h=new p.Model.LeftRail(JSON.parse(t.find("script").text()))}catch(n){return void u("Error parsing script leftRail script",n,t.find("script"))}p.start(),c.on("contentLoaded",o),a(".site-footer").addClass("perma-hidden"),r(),e=e||0,d.register(window.PGM.mediaQueries.large,{match:function(){(new p.View.Layout).getRegion("leftRail").show(new p.View.LeftRail({leftRailModel:h,behavior:p.ViewModel.Behavior})),t.waypoint("sticky",{offset:e}).css("top",e).parent().css("float","left")},unmatch:function(){t.waypoint("unsticky")}})}function r(){var e=a(".js-mainWell article").first().position().top,t=a(".js-mainWell article").first().height(),n=a(".rail-item__progress").first().attr("max",t).attr("value",Math.min(0,window.pageYOffset-e));a(window).scroll(s.throttle(function(){n.attr("value",Math.min(0,window.pageYOffset-e))},100)),c.on("urlChange:post",function(i,r){e=r.position().top,t=r.height(),n=a(".rail-item__progress").first().attr("max",t).attr("value",Math.min(0,window.pageYOffset-e))})}function o(){var e=a(".js-leftRail-loadNewContent:not(.is-leftrail-autoload-processed)");return 0===e.length?void a(".site-footer").removeClass("perma-hidden"):void e.each(function(){var e=a(this);e.waypoint(function(){var t=e.data("currentid"),n=e.data("urlprefix"),i=h.getPathAfterId(t);return"undefined"==typeof t||"undefined"==typeof n?void f("currentId or urlPrefix are null",t,n):"undefined"==typeof h?void f("leftRail model is undefined, bailing."):"undefined"==typeof i||null===i?void f("leftRailModel nextPath is undefined for",t):(e.addClass("autoload-spinner"),void a.ajax({url:n+i+(document.location.search||""),success:function(t){e.replaceWith(t),window.PGM.events.trigger("asyncContentReady")}}))},{offset:"150%",triggerOnce:!0})}).addClass("is-leftrail-autoload-processed")}var a=n(0),s=n(1),d=n(51),c=n(4),l=n(2),u=l("init"),f=l("infinite"),p=n(86),h=void 0;e.exports={setup:s.once(i)}},function(e,t,n){"use strict";var i=n(0),r=n(2)("lazyload"),o=n(4),a=n(10),s=n(151);s.makeJQueryPlugin(i);var d="skip"===r.getData();d&&r("skipping lazyload");var c=function(){i("img[data-src]:not(.js-lazyload-skip)").each(function(){var e=i(this),t=e.attr("data-src");r("img",t),e.attr("src",t),e.attr("data-srcwas",t),e.attr("data-src",null)})},l=function(){i("script[data-src]").each(function(){var e=i(this),t=e.attr("data-src");r("script",t),a.createScript(t),e.attr("data-srcwas",t),e.attr("data-src",null)})},u=function(){i("[data-bgsrc]").each(function(){var e=i(this),t="url("+i(this).attr("data-bgsrc")+")";r("background image",t),e.css("background-image",t),e.attr("data-bgsrcwas",t),e.attr("data-bgsrc",null)})},f=function(e){var t=i("script.js-lazyload-noscroll");if(0!==t.length){var n=t.last().next(),r=p(n,e.offsetter);t.each(function(){var e=i(this),t=i(e.html().replace(/scriptToBe/g,"script"));e.replaceWith(t),t.imagesLoaded().progress(function(){r()})}),r()}},p=function(e,t){if(0===e.length)return i.noop;var n="undefined"!=typeof t?t.height():0;return function(){window.scrollTo(0,e.offset().top-n)}},h=d?function(){}:function(){o.on("asyncContentLoaded",function(){c(),l()})};e.exports={loadImages:d?function(){}:c,loadScripts:d?function(){}:l,loadBackgroundImages:d?function(){}:u,loadOnAsyncContentLoaded:d?function(){}:h,loadScriptTemplates:d?function(){}:f}},function(e,t,n){"use strict";n(156);var i=n(1),r=n(0),o=n(2)("floater"),a=0,s=[],d=[200,400,400,2e3],c=d.reduce(function(e,t){return e+t},0),l=function h(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.length,r=window.videojs&&"function"==typeof window.videojs&&window.videojs(e);"undefined"==typeof r||null!==t&&"undefined"==typeof r[t]?i>=0?setTimeout(function(){h(e,t,n,--i)},d[i]):o("no videojs object found for "+e+" after "+c+" millis"):n(r)},u=function(e,t){this.id=a++,this.options=t;var n=e.find(".video-js").attr("id"),s=0;return e.prepend('<div class="js-floater-transition"></div>'),this.createWaypoint=function(){this.waypoint=new window.Waypoint({element:e[0],handler:i.bind(function(t){if("down"===t){var n=["div.js-floater-media > video[autoplay]","div[autoplay=true].vjs-ima3-not-playing-yet:not(.vjs-ima3-paused)","div.vjs-playing","div.vjs-ad-playing:not(.vjs-ima3-paused)"],i=n.join(", ");e.find(i).length>0?this["float"]():(o("not floating due to"),n.forEach(function(e){o(e,r(e).length)}),o(e.html()))}else this.unfloat()},this),offset:function(){return-.5*this.element.clientHeight}})},this["float"]=function(){o("floating"),e.find(".js-floater-media").append('<div class="floater__close fa fa-close js-floater-close"></div>'),e.find(".js-floater-media").addClass("floating"),e.find(".js-floater-transition").addClass("active"),e.find(".js-floater-media").addClass("transitioning"),setTimeout(function(){e.find(".js-floater-media").removeClass("transitioning")},50),l(n,"mediainfo",function(e){e.width(420),e.height(240),s=Date.now(),window.PGM.events.trigger("trackEvent",{action:"sticky start",category:"video",label:[e.mediainfo.id,e.mediainfo.name].join(" - ")})})},this.unfloat=function(){o("unfloating"),e.find(".floating").length>0&&(e.find(".floater__close").remove(),e.find(".js-floater-media").removeClass("floating"),e.find(".js-floater-transition").removeClass("active"),l(n,"mediainfo",function(e){e.width("auto"),e.height("auto"),window.PGM.events.trigger("trackEvent",{action:"sticky close",category:"video",label:[e.mediainfo.id,e.mediainfo.name].join(" - "),value:Math.round((Date.now()-s)/1e3)})}))},e.on("click",".floater__close",{floater:this},function(e){l(n,"ads",function(e){if("ad-playback"===e.ads.state){var t=e.ima3&&e.ima3.adsManager;"undefined"!=typeof t?t.pause():o("video.ima3.adsManager cannot pause due to being ",e.ima3,e.ima3&&e.ima3.adsManager)}else e.pause()}),e.data.floater.unfloat()}),this},f=function(e,t){o("new floater for",e);var n=new u(e,t);return s.push(n),n},p=function(e){["wrapper","unfloatSelector"].forEach(function(t){if("undefined"==typeof e[t])throw{name:"InitializationException",message:"options."+t+" is required"}});var t=r(e.wrapper);if(!t.hasClass("is-floater-processed")){t.addClass("is-floater-processed");var n=f(t,e);n.createWaypoint()}};e.exports=p},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(3),a=n(4),s=n(22),d=void 0,c=void 0,l=o.Model.extend({defaults:{type:"",content:"",trackingLabel:"Main Image"}}),u=o.View.extend({adTemplate:window.PGM.JST["ads/slot"],tagName:"article",className:function(){return"lightbox-content lightbox-content--"+this.model.get("type")},render:function(){return this.$el.html(this.model.get("content")),this.onRender(),a.trigger("contentLoaded",this.$el),this},onRender:r.noop}),f={};f.gallery=u.extend({initialize:function(){this.counter=0,this.track({action:"Expand",label:this.model.get("trackingLabel")})},onRender:function(){this.$el.append(this.adTemplate({slot:window.PGM.ads.data.slots.lightbox})),this.slider=this.$(".js-slider").bxSlider({pager:!1,infiniteLoop:!0,slideMargin:40,nextText:"",prevText:"",onSlideBefore:r.bind(this.slideBeforeHandler,this)}),d.on("keyup."+this.cid,r.bind(this.keyupHandler,this)),r.defer(r.bind(function(){this.slider.redrawSlider()},this))},slideBeforeHandler:function(e,t,n){this.$(".js-slide-count").text(n+1),this.$(".js-slide-title").text(e.data("title")),this.$(".js-slide-description").text(e.data("description")),this.$(".js-slide-credit").text(e.data("credit")),++this.counter%3===0&&s.refresh(this.$(".dfp-ad")),this.track({action:"Item",label:"Click"})},keyupHandler:function(e){switch(e.keyCode){case 39:this.slider.goToNextSlide();break;case 37:this.slider.goToPrevSlide()}},track:function(e){a.trigger("trackEvent",r.extend({category:"Gallery"},e))},events:{"click .js-gallery-meta-toggle":"toggleMeta"},toggleMeta:function(){this.$(".js-gallery-meta").toggleClass("collapsed"),this.$(".js-gallery-meta-toggle").toggleClass("gallery-slide__meta-toggle--expand fa fa-angle-down")},remove:function(){this.slider&&this.slider.destroySlider&&this.slider.destroySlider(),this.slider=null,d.off("."+this.cid),this.track({action:"Close"}),o.View.prototype.remove.call(this)}});var p=o.View.extend({className:"lightbox lightbox--loading",events:{"click .js-lightbox-close":"remove"},render:function(){return d.on("keyup."+this.cid,r.bind(this.keyupHandler,this)),this.model&&!this.contentView&&this.loadContent(this.model),this},loadContent:function(e){var t=f[e.get("type")]||u;this.model=e,this.$el.removeClass("lightbox--loading"),this.contentView=new t({model:e}).render(),this.contentView.$el.appendTo(this.el),a.trigger("contentDisplayed","lightbox-"+e.get("type"),this.contentView.$el)},keyupHandler:function(e){27===e.keyCode&&this.remove()},remove:function(){this.contentView&&this.contentView.remove(),this.contentView=null,c=null,d.off("."+this.cid),o.View.prototype.remove.call(this)}});e.exports=function(){d=i(document),i("body").on("click","[data-lightbox-content-path]",function(){var e=this.getAttribute("data-lightbox-tracking-label"),t=this.getAttribute("data-lightbox-content-path");t.startsWith("/")||(t="/"+t),c&&c.remove(),c=new p,c.render().$el.appendTo(document.body),i.ajax({url:"/fe_data/lightbox"+t,success:function(t){c.loadContent(new l({type:"gallery",trackingLabel:e,content:t}))},error:function(){c.remove()}})})}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(2)("video"),a=n(4),s=!0,d=function l(){return"function"!=typeof window.videojs?(o("no videojs, try again once."),void(s&&(s=!1,setTimeout(l,2e3)))):void r.each(window.videojs.getPlayers(),function(e){null!==e&&"undefined"!=typeof e&&"undefined"==typeof e.pgm&&(o("setting up new player ",e.id()),e.ready(function(){this.on(["play","ads-play"],function(){c(e)}),this.pgm={},this.paused()||c(this)}))})},c=function(e){o("stopping players besides",e.id()),r.each(window.videojs.getPlayers(),function(t){t.id()!==e.id()&&(t.pause(),t.ima3&&t.ima3.adsManager&&"function"==typeof t.ima3.adsManager.pause&&t.ima3.adsManager.pause())}),0===i(e.el()).parents(".js-floater-media.floating").length&&(window.PGM.debug("floater","closing due to other video playing"),i(".js-floater-close").trigger("click"))};a.on("asyncContentLoaded",d),i("body").on("click",".video-js",d),e.exports=d},function(e,t){"use strict";function n(){return document.documentElement.clientWidth<767?"mobile":"desktop"}function i(){return document.body.className.indexOf("homepage")!==-1?"homepage":"ros"}function r(e){return e.length>1?e.shift():e[0]}function o(e,t){return{getBid:function(o){if(o.sizes.map(function(e){return e.join("x")}).indexOf(e)===-1)return null;var a=r(t[n()][i()]);return"undefined"==typeof a?null:{bidder:"aol",params:{network:"10189.1",placement:a}}}}}var a={homepage:[],ros:[]},s={"300x250":{mobile:a,desktop:{homepage:["4326067","4326062"],ros:["4326092","4326091"]}},"300x600":{mobile:a,desktop:{homepage:["4326066","4326063"],ros:["4326098","4326100"]}},"728x90":{mobile:a,desktop:{homepage:["4326069","4326064"],ros:["4326097","4326094"]}},"970x250":{mobile:a,desktop:{homepage:["4326065"],ros:["4326096","4326099"]}},"970x90":{mobile:a,desktop:{homepage:["4326061","4326068"],ros:["4326093","4326095"]}},"300x50":{desktop:a,mobile:{homepage:["4326085","4326087"],ros:["4326116","4326114","4326117"]}},"320x50":{desktop:a,mobile:{homepage:["4326086","4326088"],ros:["4326115","4326112","4326113"]}}};e.exports=Object.keys(s).map(function(e){return o(e,s[e])})},function(e,t){"use strict";function n(){return document.documentElement.clientWidth<767?"mobile":"desktop"}function i(){return document.body.className.indexOf("homepage")!==-1?"homepage":"ros"}function r(e){return"m1"===e||"t"===e?"highViewability":"other"}function o(e){for(var t=s[n()],i=e.length,r=0;r<i;r++)if(-1!==t.indexOf(e[r]))return!0;return!1}var a={desktop:{homepage:{highViewability:"9985683",other:"9985684"},ros:{highViewability:"9985685",other:"9985686"}},mobile:{homepage:{highViewability:"9985687",other:"9985688"},ros:{highViewability:"9985689",other:"9985690"}}},s={desktop:["728x90","970x250","970x90","300x250","300x600"],mobile:["300x250","320x50","300x50"]};e.exports=[{getBid:function(e){return Array.isArray(e.targeting.pos)&&o(e.sizes.map(function(e){return e.join("x")}))?{bidder:"appnexus",params:{placementId:a[n()][i()][r(e.targeting.pos[0])]}}:null}}]},function(e,t){"use strict";function n(){switch(document.body.getAttribute("data-trackcategory")){case"Article":case"longform":return"177044";case"Photos":return"177046"}return document.body.className.indexOf("chart-page")!==-1||document.body.className.indexOf("ye-charts-page")!==-1?"177042":document.body.className.indexOf("homepage")!==-1&&"177040"}function i(e){var t={bidder:"rubicon",params:{accountId:"11872",siteId:"41400",zoneId:n()||"177038",sizes:e.sizes.map(function(e){return r[e.join("x")]}).filter(function(e){return!!e})}};return!Array.isArray(e.targeting.pos)||"m1"!==e.targeting.pos[0]&&"t"!==e.targeting.pos[0]||(t.params.zoneId="177038",t.params.position="atf"),0===t.params.sizes.length?null:t}var r={"728x90":2,"160x600":9,"300x600":10,"300x250":15,"320x50":43,"300x50":44,"970x250":57};e.exports={bidderSettings:{rubicon:{bidCpmAdjustment:function(e){return.85*e}}},getBid:i}},function(e,t,n){"use strict";var i=n(36),r=n(102),o=n(103);i.embeds.setBaseModel(r),i.types.register("yearEndChart",o),e.exports=i},function(e,t,n){"use strict";var i=n(1),r=n(0),o=n(155);n(154);var a=n(2)("vote"),s=["one","up","down"],d=r(".ye-chart__header"),c=d.data("chart-code"),l=d.data("chart-date"),u=c+"__"+l,f="",p=r.cookie("_ga");if("undefined"!=typeof p){var h=p.split(".");h.length>3&&(f=o(h[2]))}var g=function(){return new Promise(function(e,t){r.ajax("/fe_data/charts/getVotes/"+c+"/"+l,{success:function(t){r.each(t,function(e,t){try{for(var n=0;n<s.length;n++){var i=+t[s[n]];a.getData()>0&&(i+=+a.getData()),null===i?i=0:i>1e3&&i<1e6?i=Math.round(i/100)/10+"K":i>=1e6&&(i=Math.round(i/1e5)/10+"M"),r(".ye-chart__item[data-rank="+e+"] .ye-chart__vote-label--"+s[n]).text(i)}}catch(o){console.log(o)}}),e()},error:function(){a("Trouble retrieving vote count :("),t()}})})},m=function(e){"undefined"!=typeof e&&null!==e&&e.match(/^[-012,]+$/)||(e=null);var t=new Array(r(".ye-chart__item").length).fill(-1);if(null===e||"undefined"==typeof e)return t;var n=e.split(",");n=i.map(n,i.partial(parseInt,i,10));for(var o=Math.max(n.length,t.length),a=0;a<o;a++){var d=n[a];d<0||d>=s.length||(t[a]=d)}return t},v=function(e){for(var t=0;t<e.length;t++)"undefined"!=typeof e[t]&&e[t]>=0&&r(".ye-chart__item[data-rank='"+(t+1)+"'] input[value='"+s[e[t]]+"']").attr("checked",!0)},y=function(e){r("input.ye-chart__vote-input[type=radio]").change(function(){var t=r(this),n=this.value,i=+t.closest(".ye-chart__item").data("rank"),o=i-1;if(e[o]>=0){var d,p,h;!function(){d=s[e[o]],p=r(".ye-chart__item[data-rank="+i+"] .ye-chart__vote-label--"+d),h=+p.text(),h-1>=0&&p.text(h-1);var t=["/fe_data/charts/vote",f,c,l,i,d,"down"].join("/");r.ajax(t,{success:function(){a("vote decremented",t)},error:function(){a("trouble decrementing vote",t)}})}()}var g=r(".ye-chart__item[data-rank="+i+"] .ye-chart__vote-label--"+n),m=+g.text();m+1>0&&g.text(m+1),e[o]=s.indexOf(n),r.cookie(u,e.join(","));var v=["/fe_data/charts/vote",f,c,l,i,this.value,"up"].join("/");r.ajax(v,{success:function(){a("vote incremented",v)},error:function(){a("trouble incrementing vote",v)}})})},b=function(){var e=m(r.cookie(u));v(e),y(e)};e.exports={setup:b,getVotes:g}},,function(e,t,n){n(145),n(147),n(148),n(146),e.exports=n(8).Promise},function(e,t,n){n(143),e.exports=n(8).Array.fill},function(e,t,n){"use strict";var i=n(19),r=n(21),o=n(140),a="startsWith",s=""[a];i(i.P+i.F*n(119)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return s?s.call(t,i,n):t.slice(n,n+i.length)===i}})},,function(e,t,n){"use strict";var i=n(2)("dfp");e.exports=function(e){return function(){return{callBids:function(){try{window.amznads.getAdsCallback("3125",function(){e.bidsAvailableForadapter("amazon")})}catch(t){i("failed asking amazon if it wants the user",t)}}}}}},function(e,t,n){"use strict";function i(e){(Array.isArray(e)?e:[e]).forEach(function(e){return s.push(e)})}function r(e){return a.getSlotSizes(e)[o.find(Object.keys(a.getSlotSizes(e)).sort(function(e,t){return parseInt(t,10)-parseInt(e,10)}),function(e){return e<window.innerWidth})]}var o=n(1),a=n(23),s=[],d=function(e){return e.filter(function(e){return"dfp-ad-o1"!==e}).map(function(e){var t=r(e);return Array.isArray(t)?{code:e,sizes:t,bids:s.map(function(n){return n.getBid({sizes:t,targeting:a.getSlotTargeting(e)})}).filter(function(e){return!!e})}:{bids:[]}}).filter(function(e){return e.bids.length>0})};e.exports={registerBidder:i,createBidsArray:d}},function(e,t){"use strict";function n(e){return e.find(".dfp-ad")}function i(e){return n(e).add(".dfp-ad-o1").add(e.attr("data-refresh-ads")||"")}function r(e){return i(e).add(".dfp-ad-m1")}var o={article:r,"lightbox-gallery":n};e.exports=function(e){return o[e]||i}},function(e,t,n){"use strict";function i(e,t,n){var i,u=t.slot,f=u.sizeMapping[o.max(Object.keys(u.sizeMapping),function(e){return parseInt(e,10)})];if(o.extend(u.targetingParameters,t.extraTargeting),c){if(i=u.sizeMapping[o.find(Object.keys(u.sizeMapping).sort(function(e,t){return parseInt(t,10)-parseInt(e,10)}),function(e){return e<window.innerWidth})],null===i||"undefined"==typeof i.length||0===i.length)return;return r(n).data({"ad-width":i[0][0],"ad-height":i[0][1],"ad-slot":u.targetingParameters&&u.targetingParameters.pos&&u.targetingParameters.pos[0]||u.slotName}),void a("fakeads","defined fake ad "+e,u.slotName,i[0])}window.googletag.cmd.push(function(){var t=window.googletag.defineSlot(window.PGM.ads.adUnit,f,e).addService(window.googletag.pubads());
o.each(u.targetingParameters,function(e,n){t.setTargeting(n,e)}),u.responsive&&!function(){var e=window.googletag.sizeMapping();Object.keys(u.sizeMapping).sort(function(e,t){return parseInt(t,10)-parseInt(e,10)}).forEach(function(t){e.addSize([parseInt(t,10),0],u.sizeMapping[t])}),t.defineSizeMapping(e.build())}(),window.googletag.display(e),l.add(e,t,u.sizeMapping),s("defined "+e,t.getTargeting("pos")[0],u.sizeMapping,u.targetingParameters),d(t.getTargeting("pos")[0],u.sizeMapping,u.targetingParameters)})}var r=n(0),o=n(1),a=n(2),s=a("dfp"),d=a("dfpauto"),c=a.isEnabled("fakeads"),l=n(23),u=function(e){var t;if(a.isEnabled("dfpwhy")&&console.trace(),"undefined"!=typeof e)return"string"==typeof e&&(e=[e]),c?(t=[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())],void o.each(e,function(e){a("fakeads","displaying colored box ad for",e);var n=r("#"+e);if(1!==n.length)return void s("fakeads","could not find slot",e);var i=n.data("ad-width"),o=n.data("ad-height");return"undefined"==typeof i||"undefined"==typeof o?void a("fakeads","could not find width or height",e,i,o):void n.html('<div class="fake-ad" style="background-color:rgb('+t.join(",")+");width:"+i+"px;height:"+o+'px;margin:auto"><h1 style="background:black;color:white;width:50px;margin:auto">'+n.data("ad-slot")+"</h1></div>")})):void window.googletag.cmd.push(function(){window.googletag.pubads().refresh(e.map(l.get)),s("refreshing "+e.join(", "),e.map(l.get))})};e.exports={define:i,refresh:u}},function(e,t,n){"use strict";function i(e){var t=l.createBidsArray(e).concat({code:"fakeSlotForAmazon",sizes:[[300,250]],bids:[{bidder:"amazon"}]});return d("setting up prebid for",t,"with a timeout of ",f),new Promise(function(e){c.que.push(function(){c.addAdUnits(t),c.requestBids({timeout:f,bidsBackHandler:function(){d("received bids back",c.getBidResponses()),c.setTargetingForGPTAsync();try{window.amznads.setTargetingForGPTAsync("amznslots")}catch(t){}e()}})})})}function r(){return Promise.resolve(!0)}function o(e){e&&(Array.isArray(e)||(e=[e]),l.registerBidder(e),e.forEach(function(e){a.extend(c.bidderSettings,e.bidderSettings)}))}var a=n(1),s=n(2),d=s("dfp"),c=n(152),l=n(69),u=n(68),f=s("prebid").getData()||500;c.registerBidAdapter(u(c),"amazon"),c.bidderTimeout=f,c.que.push(function(){window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("ads_requested"),c.enableSendAllBids()}),e.exports={auction:s.isEnabled("fakeads")?r:i,registerBidder:o}},function(e,t,n){"use strict";function i(){return r?r=!1:(document.body.className=document.body.className.replace("full-page-ad",""),void window.googletag.cmd.push(function(){window.googletag.pubads().refresh()}))}var r,o=n(51);e.exports=function(e){"string"==typeof e&&(r=window.matchMedia(e).matches,o.register(e,{match:i,unmatch:i}))}},function(e,t,n){"use strict";function i(e){window.googletag.cmd.push(function(){var t=e.find(".js-ad-pageTargeting script");if(!t.length)return void a("Cannot retartget page; no tracking script found in ",e);try{r.each(JSON.parse(t.text()),function(e,t){window.googletag.pubads().setTargeting(t,e),o("dfpauto","PAGE",t,e)})}catch(n){a("Error parsing page targeting script data.",t,n)}})}var r=n(1),o=n(2),a=o("dfp");e.exports=i},function(e,t,n){"use strict";var i=n(4),r=n(2)("dfp");e.exports=function(e){var t=document.getElementById(e.slot.getSlotElementId()),n=void 0;t&&("dfp-ad-o1"===t.id&&(e.isEmpty?document.body.className=document.body.className.replace(" full-page-ad",""):-1===document.body.className.indexOf("full-page-ad")&&(document.body.className+=" full-page-ad")),-1===t.className.indexOf("is-dfp-returned")&&(t.className+=" is-dfp-returned"),n=t.getAttribute("data-prepend"),n&&t.setAttribute("data-visibleprepend",n)),e.isEmpty&&r("dfp","Ad unit "+t.id+" is empty."),i.trigger("ads:slotRenderEnded",{el:t,slot:e.slot})}},function(e,t,n){"use strict";function i(e){function t(){u.waypoint(function(e){if(!c){if(d("sticky leaderboard is "+("down"===e?"":"un")+"sticking"),"down"===e)return d("sticky leaderboard is sticking"),u.css("height",l.outerHeight(!0)),void l.addClass(h).css("top",a.offset()+"px");l.removeClass(h).css("top","auto"),u.css("height","auto")}},{offset:a.offset}),f.waypoint(function(){c||(d("sticky leaderboard moving out of the way of "+a.avoidCollision),m())},{offset:function(){var e=l.outerHeight(!0)+a.offset();return isNaN(e)?0:e}}),setTimeout(function(){r.waypoints("refresh")},2500)}function n(e){e.slot.getTargeting("pos").indexOf(a.position)!==-1&&(d("leaderboard (pos: "+a.position+") is visible at "+Date.now()),setTimeout(function(){d("leaderboard (pos: "+a.position+") has been visible for at least "+a.stickyTime+"ms"),m()},a.stickyTime))}function i(e){e.slot.getTargeting("pos").indexOf(a.position)!==-1&&(e.size[1]>=a.min&&e.size[1]<=a.max?(d("leaderboard (pos: "+a.position+") should be sticky"),t(),window.googletag.pubads().addEventListener("impressionViewable",n)):d("leaderboard should not be sticky (pos: "+a.position+", size: "+e.size.join("x")+")"))}var a=r.extend({position:"t",className:"leaderboard--top",stickyTime:5e3,avoidCollision:!1,min:10,max:100,offset:function(){return 0}},e);s.getData("stickyt")&&(a.stickyTime=1e3*s.getData("stickyt")),"function"!=typeof a.offset&&(a.offset=function(e){return function(){return e}}(parseInt(a.offset,10)));var c=!1,l=r((0===a.className.indexOf(".")?"":".")+a.className),u=l.wrap("<div>").parent(),f="string"==typeof a.avoidCollision?r((0===a.avoidCollision.indexOf(".")?"":".")+a.avoidCollision):r(),p=a.className.replace(/^\./,"").split("--")[0],h=p+"--is-sticky",g=p+"--is-sliding-up",m=o.once(function(){d("removing sticky leaderboard"),c=!0,l.addClass(g),setTimeout(function(){l.removeClass(h).removeClass(g),u.css("height","auto"),d("sticky leaderboard removed")},500)});window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotRenderEnded",i)})}var r=n(0),o=n(1),a=n(96),s=n(2),d=s("dfp");e.exports=a.touch?r.noop:i},function(e,t,n){"use strict";var i=n(3);e.exports=i.View.extend({render:function(){return this.onRender(),this},onRender:function(){}})},function(e,t,n){"use strict";function i(){var e=r(".autoload-direct-render");return 0===e.length?void(r(".js-autoloadStop").length&&r(".site-footer").removeClass("perma-hidden")):(s(),void e.filter(":not(.processed-by-autoloader)").each(function(){var e=r(this),t=this.getAttribute("data-url-prefix")||"",n=this.getAttribute("data-url"),i=document.location.search||"";"undefined"!=typeof n&&e.waypoint({handler:function(){e.addClass("autoload-spinner"),r.ajax({url:t+n+i,success:function(t){e.replaceWith(t),a.trigger("asyncContentReady")}})},offset:"150%",triggerOnce:!0})}).addClass("processed-by-autoloader"))}var r=n(0),o=n(1),a=n(4),s=o.once(function(){r(".site-footer").addClass("perma-hidden").waypoint("destroy"),r.waypoints("refresh")});e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(2)("init"),a=r.Model.extend({fetch:function(){this.trigger("change")},slashify:function(e){return e=e||"",e.startsWith("http")?e:(e.startsWith("/")?"":"/")+e},makeImageSrc:function(e){return e=this.slashify(e),e.startsWith("http")?e:window.THR&&window.THR.config&&window.THR.config.getMediaHost?window.THR.config.getMediaHost(e):window.BB&&window.BB.config&&window.BB.config.mediaHost?window.BB.config.mediaHost+e:e},makeImagecacheSrc:function(e){return this.makeImageSrc(e.path)}}),s=r.View.extend({initialize:function(){this.listenTo(this.model,"change",this.render)},template:function(){return""},serializeData:function(){return this.model.toJSON()},render:function(){return this.$el.html(this.template(this.serializeData())),this.onRender(),this},onRender:function(){}}),d={};e.exports={setBaseView:function(e){s=e},getBaseView:function(){return s},setBaseModel:function(e){a=e},getBaseModel:function(){return a},register:function(e,t,n){d[e]={modelData:t||{},viewData:n||{}}},attach:function(){var e=i();return i(".embedded-content[data-template]:not(.is-embed-initialized)").each(function(){var t,n,r,c,l,u=this.getAttribute("data-template");if(u&&d[u]){try{t=JSON.parse(i(this).find('script[type="application/json"]').html())}catch(f){return void o("Could not find embed data in",this)}n="function"==typeof d[u].modelData.extend?d[u].modelData:a.extend(d[u].modelData),c="function"==typeof d[u].viewData.extend?d[u].viewData:s.extend(d[u].viewData),r=new n(t,{parse:!0}),l=new c({model:r,el:this}),l.$el.addClass("embedded-content--"+u),i.data(this,"embedModel",r),i.data(this,"embedView",l),r.fetch(),e=e.add(l.$el),o("Initializing Embed",u,"on",this)}else o("Could Not Initialize Embed",u,"on",this)}).addClass("is-embed-initialized"),e}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=i(window);e.exports={Model:{parse:function(e){var t=this;return i.each(e.items,function(n){e.items[n].path=window.PGM.config.contentHost+t.slashify(e.items[n].path),e.items[n].image&&(e.items[n].media=e.items[n].image,delete e.items[n].image),e.items[n].media.image&&(e.items[n].media=e.items[n].media.image),e.items[n].media&&e.items[n].media.path?e.items[n].media.path=t.makeImageSrc(e.items[n].media.path):e.items[n].media&&e.items[n].media.crop&&(e.items[n].media.path=e.items[n].media.crop["768x433"])}),e}},View:{initialize:function(){this.listenTo(this.model,"change",this.render),o.on("resize",r.debounce(r.bind(this.render,this),150))},template:window.PGM.JST["longform/promo"],onRender:function(){var e=1===this.model.get("items").length;this.$el.addClass("longform-rail-promo longform-rail-promo--"+(e?"single":"multiple"))}}}},function(e,t){"use strict";e.exports={Model:{parse:function(e){return e.image&&(e.media=e.image,delete e.image),e.path=e["relative-path"]||e.relative_path,e.media.src=this.makeImageSrc(e.media.path),e}},View:{template:window.PGM.JST["embeds/gallery"]}}},function(e,t,n){"use strict";function i(e){var t=h;switch(e.get("type")){case"youtube":t=g;break;case"brightcove":t=m}return new t({model:e})}var r=n(0),o=n(1),a=n(3),s=n(4),d=n(2),c=d("hybridPlayer"),l=n(10),u=o.once(function(){return new Promise(function(e){window.onYouTubeIframeAPIReady=e,l.createScriptTag("https://www.youtube.com/iframe_api")})}),f=a.Model.extend(),p={toJSON:function(){var e=a.Model.prototype.toJSON.call(this);return e.items=this.get("items").toJSON(),e},parse:function(e){return o.extend(e,{items:new a.Collection(e.items,{model:function(t,n){return"brightcove"===t.type&&o.extend(t,{accountId:e.accountId,playerId:e.playerId}),new f(t,n)}}),currentIndex:0})},setIndex:function(e){if(e<0||e>=this.get("items").size())throw{name:"Invalid Index",message:"You tried to set a bad video index"};this.set("currentIndex",e)},getCurrentVideo:function(){return this.get("items").at(this.get("currentIndex"))}},h=a.View.extend({initialize:function(){this.listenTo(s,"hybridPlayer:videoStart",this.stop),this.template=this.getTemplate(),this.onInitialize()},onInitialize:o.noop,getTemplate:function(){return window.PGM.JST["hybrid_player/player"]},events:{"click .hybrid-player-video__container":"play"},className:function(){return"hybrid-player-video hybrid-player-video--"+this.model.get("type")},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},play:function(){this.$el.is(".is-video-playing")||(s.trigger("hybridPlayer:videoStart"),this.$el.addClass("is-video-playing"),this.trackPlayEvent(),this.instantiatePlayer())},trackPlayEvent:function(){s.trigger("trackEvent",{category:"Video - UserInitiated - BB Watch",action:"Play",label:[this.model.get("title"),this.model.get("id")].join(" - ")})},stop:function(){this.$el.is(".is-video-playing")&&(this.destroyPlayerInstance(),this.$(".hybrid-player-video__container").empty(),this.$el.removeClass("is-video-playing"))},instantiatePlayer:function(){c("Called instantiatePlayer on the base class.")},destroyPlayerInstance:function(){c("Called destroyPlayerInstance on the base class.")},remove:function(){this.stop(),a.View.prototype.remove.call(this)}}),g=h.extend({getTemplate:function(){return window.PGM.JST["hybrid_player/player-youtube"]},onInitialize:function(){o.bindAll(this,"onPlayerStateChange","play","trackPlayEvent","createYouTubeApiPlayer"),this.trackPlayEvent=o.once(this.trackPlayEvent),this.play=o.after(1,this.play)},events:{},render:function(){return h.prototype.render.call(this),this.$(".hybrid-player-video__player-instance").append('<div id="'+this.cid+'"></div>'),this.instantiatePlayer(),this},play:function(){this.$el.is(".is-video-playing")||(s.trigger("hybridPlayer:videoStart",this.cid),this.$el.addClass("is-video-playing"),this.trackPlayEvent())},stop:function(e){e!==this.cid&&this.player.pauseVideo(),this.$el.removeClass("is-video-playing")},onPlayerStateChange:function(e){e.data!==window.YT.PlayerState.ENDED&&e.data!==window.YT.PlayerState.PAUSED||this.stop(),e.data===window.YT.PlayerState.PLAYING&&this.play()},instantiatePlayer:function(){u().then(this.createYouTubeApiPlayer)},createYouTubeApiPlayer:function(){var e=this.$(".hybrid-player-video__container");this.player=new window.YT.Player(this.cid,{height:e.outerHeight(),width:e.outerWidth(),videoId:this.model.get("videoId"),playerVars:{color:"white",autohide:1,modestbranding:1,showinfo:0,rel:0},events:{onStateChange:o.bind(this.onPlayerStateChange,this)}})},destroyPlayerInstance:function(){this.player&&this.player.destroy()},remove:function(){this.destroyPlayerInstance(),a.View.prototype.remove.call(this)}}),m=h.extend({instantiatePlayer:function(){var e=this.$(".hybrid-player-video__container"),t=document.createElement("script");t.src="//players.brightcove.net/"+this.model.get("accountId")+"/"+this.model.get("playerId")+"_default/index.min.js",t.onload=o.bind(this.getPlayerObject,this),r("<video>").attr({"class":"video-js",id:"video-js-"+this.model.get("videoId"),"data-video-id":this.model.get("videoId"),"data-account":this.model.get("accountId"),"data-player":d.getData("player")||this.model.get("playerId"),"data-embed":"default",width:e.outerWidth(),height:e.outerHeight(),autoplay:"true",controls:"controls"}).wrap('<div class="hybrid-player-video__player-instance"></div>').parent().append(t).appendTo(e)},getPlayerObject:function(){this.player=window.videojs("video-js-"+this.model.get("videoId"))},destroyPlayerInstance:function(){this.player&&this.player.remove()}}),v=a.View.extend({initialize:function(){this.listenTo(this.model,"change:currentIndex",this.setCurrentVideo),o.bindAll(this,"setupPlaylistScrollBehavior","calculateNavButtonStates"),this.template=window.PGM.JST["hybrid_player/playlist"]},tagName:"nav",className:"hybrid-player-playlist",events:{"click .hybrid-player-playlist__item":"selectNewVideo"},deferredEvents:{"click .hybrid-player-playlist__nav":"scrollPlaylist"},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.setCurrentVideo(),o.defer(this.setupPlaylistScrollBehavior),this},selectNewVideo:function(e){var t=this.$(".hybrid-player-playlist__item").index(e.currentTarget);t!==this.model.get("currentIndex")&&this.model.set("currentIndex",t)},setCurrentVideo:function(){this.$(".hybrid-player-playlist__item").removeClass("is-current-video").eq(this.model.get("currentIndex")).addClass("is-current-video")},setupPlaylistScrollBehavior:function(){var e=0;this.$(".hybrid-player-playlist__item").each(function(){e+=r(this).outerWidth(!0)}),this.$(".hybrid-player-playlist__items").width(e),this.itemsWidth=e,this.$prev=this.$(".hybrid-player-playlist__nav--previous"),this.$next=this.$(".hybrid-player-playlist__nav--next"),this.$container=this.$(".hybrid-player-playlist__container"),this.delegateEvents(o.extend(this.events,this.deferredEvents)),this.$container.on("scroll",o.debounce(this.calculateNavButtonStates,100))},scrollPlaylist:function(e){var t=-1!==e.currentTarget.className.search(/next/);this.$container.scrollLeft(this.$container.scrollLeft()+(t?245:-245)),this.calculateNavButtonStates()},calculateNavButtonStates:function(){var e=this.$container.scrollLeft();0===e?this.$prev.attr("disabled",!0):this.$prev.removeAttr("disabled"),e>=this.itemsWidth-this.$container.width()?this.$next.attr("disabled",!0):this.$next.removeAttr("disabled")}}),y=a.View.extend({initialize:function(){this.model.get("items").size()>1&&(this.playlist=new v({model:this.model})),this.listenToOnce(this.model,"change",this.render),this.listenTo(this.model,"change:currentIndex",this.insertPlayerAndAutoplay),this.template=window.PGM.JST["hybrid_player/mainView"],this.adTemplate=window.PGM.JST["ads/slot"]},render:function(){this.$el.html(this.template(this.model.toJSON()));var e=window.PGM.ads.data.slots[this.model.get("adSlot")];return e&&r(this.adTemplate({slot:e,prepend:"Presented by:"})).appendTo(this.$(".hybrid-player__header")),this.insertPlayer(),this.playlist&&this.playlist.render().$el.appendTo(this.$el),this},insertPlayer:function(){this.player&&this.player.remove(),this.player=i(this.model.getCurrentVideo()),this.player.$el.insertAfter(this.$(".hybrid-player__header")),this.player.render()},insertPlayerAndAutoplay:function(){this.insertPlayer(),this.player.play()},remove:function(){this.player&&this.player.remove(),this.playlist&&this.playlist.remove(),a.View.prototype.remove.call(this)}});e.exports={Model:p,View:y}},function(e,t){"use strict";e.exports={Model:{parse:function(e){return e.path=this.makeImageSrc(e.path),e}},View:{template:window.PGM.JST["embeds/image"]}}},function(e,t){"use strict";var n={gallery:"See",video:"Watch","default":"Read"};e.exports={Model:{parse:function(e){return e.verb=n[e.type]||n["default"],e.image&&(e.media=e.image,delete e.image),e.media&&(e.media.image&&(e.media=e.media.image),e.media.url=this.makeImagecacheSrc(e.media)),e}},View:{template:window.PGM.JST["embeds/readmore"]}}},function(e,t,n){"use strict";function i(e){if("undefined"!=typeof this.href){e.preventDefault(),o("html, body").stop(!0).animate({scrollTop:0},"slow");var t=this.href.replace(/^http:\/\/[^\/]*/,"");o.ajax({url:"/fe_data"+t,success:function(e){var n=a.uniqueId("alterResponse:");s.on(n,function(t){e=t}),s.trigger("loadInPageResponseReceived",{uid:n,href:t,contentType:u,response:e}),s.off(n),s.trigger("asyncContentUnloaded",u,l),l.html(e),s.trigger("asyncContentReady",u,e);var i=l.find(".js-mainContent");0!==i.length&&c.changeUrl(t,u,i,"down",{replace:!0})}})}}function r(){return l=o(".js-pageContent"),0===l.length?void d("Not setting up in-page loading: no `.js-pageContent` element present."):(u=l.attr("data-content-type"),"undefined"==typeof u?void d("Aborting in-page loading setup. No content type present."):(d("Setting up in-page loading for "+u+" on",l),void o("body").on("click",".js-loadInPage",i)))}var o=n(0),a=n(1),s=n(4),d=n(2)("init"),c=n(95),l=void 0,u=void 0;e.exports={init:r}},function(e,t,n){"use strict";var i=n(26),r=new i.Application;r.Model=n(37),r.View=n(88),r.ViewModel={Behavior:n(87)(r)},e.exports=r},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(3),a=n(4),s=n(2)("leftRail");e.exports=function(e){return o.Collection.extend({initialize:function(e,t){this.leftRailModel=t.leftRailModel,this.listenTo(this.leftRailModel.get("mainList"),"update",this.refresh),this.activeIndex=1,this.leftRailModel.get("options")&&this.leftRailModel.get("options").showActiveItem&&(this.activeIndex=0),this.maxIndex=this.activeIndex,this.currentAd=null,this.adDiv=i(".js-leftRail-slot-m1"),s("first adDiv is",this.adDiv),this.lastAdDiv=null,this.taboola=this.generateRailTaboola(),this.refresh(),this.lastAdDiv=this.adDiv,a.on("urlChange:pre",r.bind(function(e,t){var n,i=t.data("id"),r=this.leftRailModel.get("mainList").get(i);if(r){var o=1;this.leftRailModel.get("options")&&this.leftRailModel.get("options").showActiveItem&&(o=0),n=this.leftRailModel.get("mainList").indexOf(r)+o}else s("not changing active index, could not find id",t,i),n=0;this.activeIndex=n,this.maxIndex=Math.max(this.maxIndex,this.activeIndex),this.adDiv=t.find(".js-leftRail-slot-m1"),s("next adDiv is",this.adDiv),this.refresh(),this.lastAdDiv=this.adDiv},this))},refresh:function(){var e=this.leftRailModel.get("mainList"),t=this.leftRailModel.get("topicBlock"),n=this.activeIndex;this.leftRailModel.get("options")&&this.leftRailModel.get("options").leftRailHighwater&&(n=this.maxIndex),s("refreshing to index ",n);var i=n+1,r=e.slice(n,i),o=this.generateRailAd();null!==o&&(r=r.concat(o)),null!==this.taboola&&(r=r.concat(this.taboola)),n=i,i=n+2,r=r.concat(e.slice(n,i)),t&&(r=r.concat(t)),n=i;var a=e.slice(n);r=r.concat(a),s("setting models"),this.set(r)},generateRailAd:function(){if(this.adDiv===this.lastAdDiv&&null!==this.currentAd)return this.currentAd;var t=this.adDiv.find("script");if(1===t.length)try{var n=JSON.parse(t.text());return this.currentAd=new e.Model.Ad({slot:n,extraClass:"is-dfp-deferred"}),this.currentAd}catch(i){s("Error parsing left rail ad data.",this.adDiv,i)}else s("no ad data found.",this.adDiv);return null},generateRailTaboola:function(){return this.taboola=new e.Model.Taboola,this.taboola}})}},function(e,t,n){"use strict";var i=n(0),r=n(26),o=n(4),a=n(37),s=n(2),d={};d.LeftRailItem=r.ItemView.extend({tagName:"article",className:"rail-item",template:window.PGM.JST["left_rail/rail_item"],attributes:function(){return{"data-id":this.model.get("id")}}}),d.TopicBlock=r.ItemView.extend({tagName:"div",className:"rail-topic-block",template:window.PGM.JST["left_rail/topic_block"]}),d.Ad=r.ItemView.extend({className:"rail-ad",template:window.PGM.JST["ads/slot"],onShow:function(){o.trigger("adTemplatesInserted",this.$el)}}),d.Taboola=r.ItemView.extend({initialize:function(){this.model.set("breadcrumb","")},template:function(){return""},className:"taboola-left-rail-wrapper",onShow:function(){var e=i(".article__content-well.is-active").data("url-breadcrumb");if(!e||e===this.model.get("breadcrumb"))return void s("taboola","not refreshing",e,this.model.get("breadcrumb"));s("taboola","refreshing",e,this.model.get("breadcrumb")),this.model.set("breadcrumb",e);var t=[window.document.location.protocol,window.PGM.config.contentHost,this.model.get("breadcrumb")].join("");this.$el.empty(),window.PGM.taboola.createWidget(this.el,{mode:"thumbnails-rr",container:"taboola-left-rail-thumbnails",placement:"Left Rail Thumbnails"},t)}}),d.LeftRail=r.CompositeView.extend({initialize:function(e){this.model=e.leftRailModel,this.collection=new e.behavior(null,e)},childView:d.LeftRailItem,template:window.PGM.JST["left_rail/left_rail"],childViewContainer:".js-rail-items",getChildView:function(e){return e instanceof a.Ad?d.Ad:e instanceof a.Taboola?d.Taboola:e instanceof a.TopicBlock?d.TopicBlock:e instanceof a.LeftRailItem?d.LeftRailItem:void s("leftRail","unknown child view for ",e)}}),d.Layout=r.LayoutView.extend({el:".article-page",regions:{leftRail:".js-leftRail"}}),e.exports=d},function(e,t,n){"use strict";var i=n(2)("3p");e.exports=function(){window.instgrm&&window.instgrm.Embeds&&"function"==typeof window.instgrm.Embeds.process?(i("refreshing instagram"),window.instgrm.Embeds.process()):i("not refreshing instagram"),window.FB&&window.FB.XFBML&&"function"==typeof window.FB.XFBML.parse?(i("refreshing facebook"),window.FB.XFBML.parse()):i("not refreshing facebook")}},function(e,t,n){"use strict";var i=n(0),r=n(2)("init"),o=n(77),a={};e.exports={setBaseView:function(e){o=e},getBaseView:function(){return o},register:function(e,t){a[e]="function"==typeof t.extend?t:o.extend(t)},attach:function(){var e=i();return i("[data-content-type]:not(.autoload-direct-render):not(.is-content-initialized)").each(function(){var t,n=this.getAttribute("data-content-type");n&&a[n]?(t=new a[n]({el:this}),i.data(this,"contentView",t.render()),e=e.add(t.$el),r("Initializing Content Type",n,"on",this)):r("Could Not Initialize Content Type",n,"on",this)}).addClass("is-content-initialized"),e}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(4),a=n(2),s=a("list"),d=n(22);e.exports={initialize:function(){this.setupListItemRefresh=r.once(this.setupListItemRefresh)},onRender:function(){try{var e=JSON.parse(i(".js-leftRail-container").children("script").text()).options;this.setupListItemRefresh(this.$el,e),this.insertTaboola(this.$el,e)}catch(t){a("init","Failed to parse data for left rail options.",i(".js-leftRail-container").children("script"))}},setupListItemRefresh:function(e,t){!e.hasClass("is-list-item-refresh-processed")&&t.listPageviewInterval&&i.isNumeric(t.listPageviewInterval)&&e.addClass("is-list-item-refresh-processed").find(".js-revarticle-listItem").each(function(e,n){if(0!==e){var r=i(n);r.waypoint({handler:function(){e%t.listPageviewInterval===0&&(s("triggering pageview for list item",e),o.trigger("trackPageview",{fireGTM:"on"})),e%t.listComscoreInterval===0&&(s("triggering comscore for",e),o.trigger("trackComscore",n,r)),e%t.listItemRailAdInterval===0&&(s("triggering left rail refresh for",e),d.refresh(i(".dfp-ad-m1")))},offset:"50%"})}})},insertTaboola:function(e,t){var n=e.find(".taboola-wrapper");e.data("url-breadcrumb")&&n.is(":empty")&&window.PGM.taboola.createWidget(n.get(0),{mode:t.contentWellTaboolaMode,container:"taboola-below-article-thumbnails",placement:"Below Article Thumbnails"},document.location.protocol+window.PGM.config.contentHost+e.data("url-breadcrumb"))}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(3),a=o.View.extend({tagName:"aside",className:"longform__body-supplementary",insertAd:function(){this.$el.append(window.PGM.JST["ads/slot"]({slot:window.PGM.ads.data.slots.m}))}});e.exports={initialize:function(){var e=i(".longform__body-primary").children("p");window.PGM.Header.initializeScrollTracking(this.$el),e.eq(Math.floor(e.length/2)).after(window.PGM.JST["ads/slot"]({slot:window.PGM.ads.data.slots.longform_t2})),this.$bodyElements=i(".longform__body-primary").children().clone()},onRender:function(){this.layoutArticle()},layoutArticle:function(){this.$(".longform__body .container:not(:first-of-type)").remove();var e=this.$(".longform__body .container"),t=e.find(".longform__body-primary").empty(),n=function(e){return-1!==e.className.indexOf("dfp-ad-longform_t2")},o=function(e){return-1!==e.className.indexOf("embedded-content")&&"promo"===e.getAttribute("data-template")},s=function(n){var o=r.extend({insertAd:!1},n),s=new a;t=i("<div>").addClass("longform__body-primary"),e=i("<div>").addClass("container").insertAfter(e).append(s.render().$el).append(t),o.insertAd&&s.insertAd()},d=r.bind(function(){var e;try{e=JSON.parse(this.$("#feature_promos").text())}catch(t){return!1}return e&&e[0]},this),c=function(t){i("<div>").attr({"class":"embedded-content","data-template":"promo"}).append(i('<script type="application/json">').text(JSON.stringify(t))).prependTo(e.find(".longform__body-supplementary"))};this.$bodyElements.each(function(){var i;n(this)?(i=d(),s({insertAd:!!i}),i&&c(i),e.before(this)):o(this)?(s({insertAd:!0}),e.find(".longform__body-supplementary").prepend(this)):t.append(this)}),this.$(".longform__body p").each(function(){""===this.innerHTML.trim()&&this.parentNode.removeChild(this)}),window.enquire.register(window.PGM.mediaQueries.large,{match:function(){i(".dfp-ad-m, .dfp-ad-m1").railSlider({headerOffset:i("#site-header").height()+8})},unmatch:function(){i(".dfp-ad-m, .dfp-ad-m1").each(function(){i.railSliders.disable()})}}),r.defer(function(){i.railSliders.recalculate()})}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(3),a=n(2)("topic"),s="/fe_data/topic_blocks/",d=r.debounce(function(){i.railSliders&&i.railSliders.recalculate()},200),c=o.Model.extend({}),l=o.Model.extend({initialize:function(){var e=this.get("type");"multiple"!==e&&(this.pageLength="video"===e||"gallery"===e?2:3,this.on("change:currentIndex",this.setCurrentPage),this.set("totalPages",Math.ceil(this.get("items").length/this.pageLength)),this.set("currentIndex",0))},setCurrentPage:function(){var e=this.get("currentIndex");this.set("currentPageItems",this.get("items").slice(this.pageLength*e,this.pageLength*e+this.pageLength)),this.set("currentPage",e+1)},nextPage:function(){var e=this.get("currentIndex")+1;this.set("currentIndex",e<this.get("totalPages")?e:0)},prevPage:function(){var e=this.get("currentIndex")-1;this.set("currentIndex",e<0?this.get("totalPages")-1:e)}}),u=o.Collection.extend({initialize:function(){this.currentIndex=0},model:l,getCurrentIndex:function(){return this.currentIndex},next:function(){return a("topic","rendering "+this.currentIndex+" of "+this.length),this.at(this.currentIndex++%this.length)},reset:function(e){this.currentIndex=e||0}}),f=o.View.extend({tagName:"aside",className:function(){return["capsule","capsule--"+this.model.get("type"),"capsule--"+("pushdown"===this.model.get("type")?"horizontal":"vertical")].join(" ")},initialize:function(){var e=this.model.get("type");"video"===e||"gallery"===e?e="media":"list_index"!==e&&"review"!==e||(e="list"),this.template=window.PGM.JST["topic_index/capsule-"+e],this.listenTo(this.model,"change:currentPage",this.render)},events:{"click .capsule__nav-button--next":"nextPage","click .capsule__nav-button--prev":"prevPage"},render:function(){return this.$el.html(this.template(this.model.toJSON())),d(),this},nextPage:function(){this.model.nextPage()},prevPage:function(){this.model.prevPage()}}),p=o.View.extend({tagName:"aside",className:function(){var e="pushdown"===this.model.get("type")?"horizontal":"vertical";return["capsule","capsule--swipe","capsule--swipe-"+e,"capsule--"+e].join(" ")},initialize:function(){var e=this.model.get("type"),t="";"chart"!==e&&"pushdown"!==e||(t="-"+e),this.template=window.PGM.JST["topic_index/capsule-swipe"+t]},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),h=r.once(function(){return new u}),g=r.once(function(){return new c}),m=function(e,t,n){i.ajax({url:s+e,success:function(e){"undefined"!=typeof e.pushdownPromo&&null!==e.pushdownPromo&&t.set(e.pushdownPromo),n.set(e.blocks)},error:function(){a("topic","could not fetch topic blocks")}})};e.exports=o.View.extend({initialize:function(){this.blockViews=[],this.pushdownPromo=g(),this.blocksCollection=h(),m(this.$el.data("topicslug"),this.pushdownPromo,this.blocksCollection),this.collectionResetTarget=this.blocksCollection.getCurrentIndex(),this.resizeSlidersForAds(),i(window).on("resize",r.debounce(r.bind(this.render,this),150))},resizeSlidersForAds:function(){var e=this;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotRenderEnded",r.bind(e.handleSlotRenderEnded,e))})},events:r.extend({"click .topic-index__summary-toggle":"toggleSummary","click .topic-share__toggle":"toggleShare"},window.PGM.touch?{"touchend .topic-card__featured-flag":"toggleFeaturedFlagIndicator"}:{"mouseenter .topic-card__featured-flag":"toggleFeaturedFlagIndicator","mouseleave .topic-card__featured-flag":"toggleFeaturedFlagIndicator"}),isDesktop:function(){return document.documentElement.clientWidth>=1024},render:function(){return this.$rail=this.$rail||this.$(".js-leftRail"),this.$well=this.$well||this.$(".js-mainWell"),this.removeBlockViews(),this.isDesktop()&&this.insertLeftRailAds(),this.blocksCollection.length?this.insertBlockViews():this.listenTo(this.blocksCollection,"add",this.render),this},toggleFeaturedFlagIndicator:function(e){/is-expanded/.test(e.currentTarget.className)?e.currentTarget.className=e.currentTarget.className.replace(" is-expanded",""):e.currentTarget.className+=" is-expanded"},toggleSummary:function(){this.$(".topic-index__summary").toggleClass("is-closed"),r.defer(d)},toggleShare:function(e){/is-expanded/.test(e.target.parentNode.className)?e.target.parentNode.className=e.target.parentNode.className.replace(" is-expanded",""):e.target.parentNode.className+=" is-expanded"},insertLeftRailAds:function(){for(var e=['<div class="topic-index__slide-container">',window.PGM.JST["ads/slot"]({slot:window.PGM.ads.data.slots.rail}),"</div>"].join("");this.$rail.find(".topic-index__slide-container").length<3;)this.$rail.append(e);this.$rail.find(".dfp-ad").railSlider({
context:".topic-index__slide-container",headerOffset:function(){return i("#site-header").outerHeight(!0)+24}})},insertBlockViews:function(){var e=this.isDesktop()?this.$rail.find(".topic-index__slide-container"):this.$well.find(".dfp-ad"),t=this.isDesktop()?f:p;e.each(r.bind(function(e,n){var i=new t({model:this.blocksCollection.next()});this.blockViews.push(i.render()),i.$el.insertAfter(n)},this)),this.pushdownPromo.has("title")&&this.$(".js-pushdownPromo").append(new t({model:this.pushdownPromo}).render().$el)},removeBlockViews:function(){r.each(this.blockViews,function(e){e.remove()}),this.$(".js-pushdownPromo").empty(),this.blockViews=[],this.blocksCollection.reset(this.collectionResetTarget)},handleSlotRenderEnded:function(e){if(!e.isEmpty&&this.isDesktop()){var t=document.getElementById(e.slot.getSlotElementId());/(dfp-ad-(rail|m1))/.test(t.className)&&(t.parentNode.style.minHeight=parseInt(e.size[1],10)+1e3+"px",d())}}})},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(3);e.exports=o.View.extend({initialize:function(){r.bindAll(this,"render"),i(window).on("resize."+this.cid,r.debounce(this.render,200))},render:function(){return document.documentElement.clientWidth>1023&&this.el.getAttribute("data-background-desktop")?this.layoutBackground("desktop"):document.documentElement.clientWidth>767&&this.el.getAttribute("data-background-tablet")?this.layoutBackground("tablet"):this.$el.removeAttr("style"),this},layoutBackground:function(e){this.$el.css({backgroundImage:"url("+this.el.getAttribute("data-background-"+e)+")",minHeight:9*document.documentElement.clientWidth/16+"px",height:this.$(".topic-splash__content").height()+"px"})},remove:function(){i(window).off("."+this.cid),o.View.prototype.remove.call(this)}})},function(e,t,n){"use strict";function i(){a(".url-breadcrumb.is-unprocessed").each(function(){var e=a(this),t=e.prevAll(".url-breadcrumb").first();e.removeClass("is-unprocessed").waypoint({handler:function(n){var i=e;if("up"===n){if(0===t.length)return;i=t}i.hasClass("is-active")||o(i.data("url-breadcrumb"),i.data("content-type")||"unknown",i,n)},offset:"30%"})})}function r(e,t){a(".url-breadcrumb").removeClass("is-active"),t.addClass("is-active")}function o(e,t,n,i,r){f(),c.trigger("urlChange:pre",t,n),h(l(n).title),u.navigate(e+p,r),window.PGM.events.trigger("urlChange:post",t,n,i)}var a=n(0),s=n(1),d=n(3),c=n(4),l=n(35).getContentInfo,u=new d.Router,f=s.once(function(){d.history.start({pushState:!0})}),p=document.location.search||"",h=function(e,t){var n=e.lastIndexOf("|");return n>-1&&(t=" "+e.substr(n)),function(e){"undefined"!=typeof e&&e.length&&(document.title=e+t)}}(document.title,"");window.PGM.events.on("urlChange:pre",r),window.PGM.events.on("contentLoaded",i),e.exports={changeUrl:o}},function(e,t){"use strict";e.exports={touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}},,function(e,t,n){"use strict";var i=n(2)("chartbeat"),r=n(25);e.exports=function(e,t){var n=r(t);"undefined"!=typeof window._sf_async_config&&(window._sf_async_config.authors=n.authors,window._sf_async_config.sections=n.chartbeatSection,window._sf_async_config.title=n.title,window._sf_async_config.path=n.canonical),"undefined"!=typeof window.pSUPERFLY&&"function"==typeof window.pSUPERFLY.virtualPage?(i("Calling virtualPage on",n.canonical,n.title,window._sf_async_config),window.pSUPERFLY.virtualPage(n.canonical,n.title)):i("Cannot call virtualPage due to",window.pSUPERFLY)}},function(e,t,n){"use strict";function i(){"undefined"!=typeof window.COMSCORE&&"function"==typeof window.COMSCORE.beacon&&window.comscoreVars?(a("call beacon",window.COMSCORE,window.comscoreVars),window.COMSCORE.beacon(window.comscoreVars)):a("did not call beacon",window.COMSCORE,window.comscoreVars)}function r(e,t){return"undefined"==typeof t||"function"!=typeof t.data?void a("unable to track with content",t):(a("request to track via",document.location.href),void o.ajax("/fe_data/pageview_candidate/"+(t.data("id")||++s),{data:{_pgmignore:Date.now()},success:i,error:function(){a("error on ajax return",arguments)}}))}var o=n(0),a=n(2)("comscore"),s=0;e.exports=r},function(e,t,n){"use strict";var i=n(0),r=n(2)("ga"),o=null,a=null;e.exports={setCategory:function(e){o=e.toString(),r("tracking category set to "+o)},setAction:function(e){a=e.toString(),r("tracking action set to "+a)},trackEvent:function(e){var t=i.extend({event:"trackEvent",category:o,action:a,label:null,value:null,nonInteraction:!0},e);r("trackEvent",e,t),window._gaq.push(["_trackEvent",t.category,t.action,t.label,t.value,t.nonInteraction]),window.dataLayer.push(t)},trackPageview:function(e){var t=i.extend({event:"scrollPageview",path:window.location.pathname},e);t.pathName=t.path,delete t.path,r("trackPageview",e,t),window._gaq.push(["_trackPageview",t.pathName]),window.dataLayer.push(t)}}},function(e,t,n){"use strict";var i=n(4),r=n(25);e.exports=function(e,t){var n=r(t);i.trigger("trackPageview",{fireGTM:"on",contentId:n.id,author:n.authors,publishDate:n.publishDate,category:n.analyticsCategory,tags:n.analyticsTags})}},function(e,t,n){"use strict";var i=n(36);e.exports=i.embeds.getBaseModel().extend({makeImagecacheSrc:function(e){var t="files",n={portrait:"320x416_gallery",square:"320x320","default":"480x270"};return this.makeImageSrc(e.path).replace(t,[t,"styles",n[e.orientation]||n["default"],"public"].join("/"))}})},function(e,t,n){"use strict";var i=n(104),r=n(106),o=n(105);e.exports={initialize:function(){var e=this.$(".js-hasSpotifyType"),t=this.$(".js-audio-element");this.$(".time-machine").length>0&&new r({el:this.$(".time-machine")}).render(),this.$(".ye-chart__how-it-works").length>0&&new i({el:this.$(".ye-chart__how-it-works")}).render(),this.$(".ye-chart__item").each(function(n,i){return new o({el:i,$spotifyDataSource:e,$audioElement:t}).render()})}}},function(e,t,n){"use strict";var i=n(3);e.exports=i.View.extend({events:{"click .js-toggle-modal":"toggleModal"},toggleModal:function(){this.$el.toggleClass("ye-chart__how-it-works--visible")}})},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(3),a=n(4),s=n(108),d=n(112);e.exports=o.View.extend({initialize:function(e){var t=this.$el.attr("data-spotify-id"),n=this.$el.attr("data-spotify-url"),i=this.$(".ye-chart__item-title").first().text().trim();if(this.spotifyPreviewView=null,this.spotifyFooterView=null,t&&t.length>1){var o={title:i,spotifyId:t,spotifyUrl:n,$dataSource:e.$spotifyDataSource,$audioElement:e.$audioElement};this.spotifyPreviewView=new d(r.extend({},o,{template:window.PGM.JST["chart/spotify/preview"],el:this.$(".js-spotifyPreview-wrapper")})),this.spotifyFooterView=new d(r.extend({},o,{template:window.PGM.JST["chart/spotify/footer"],el:this.$(".js-spotifyFooter-wrapper")})),this.listenTo(this.spotifyPreviewView,"change",this.render),this.listenTo(this.spotifyFooterView,"change",this.render)}parseInt(this.$el.data("rank"),10)%10===0&&this.$el.waypoint({triggerOnce:!0,offset:"100%",handler:function(){a.trigger("trackEvent",{category:"chart",action:"item",label:"scroll",value:10})}}),new s({el:this.$(".ye-chart__vote")}).render()},render:function(){return null!==this.spotifyPreviewView&&(this.$(".js-spotifyPreview").html(this.spotifyPreviewView.render().$el),this.$(".js-spotifyFooter").html(this.spotifyFooterView.render().$el)),this},events:{"click a.ye-chart__item-nav-link":"showChartItemSupplementary"},showChartItemSupplementary:function(e){e.preventDefault(),e.currentTarget.getAttribute("data-href")?(a.trigger("trackEvent",{category:"chart",action:"play-video",label:this.$(".ye-chart__item-title").text().trim().toLowerCase()}),i.magnificPopup.open({items:{src:e.target.getAttribute("data-href")},type:"iframe"})):(this.$(".ye-chart__item-nav-link").removeClass("ye-chart__item-nav-link--active").filter(e.currentTarget).addClass("ye-chart__item-nav-link--active"),this.$(".ye-chart__item-supplementary").removeClass("ye-chart__item-supplementary--active").filter(e.currentTarget.hash).addClass("ye-chart__item-supplementary--active"))}})},function(e,t,n){"use strict";var i=n(3),r=n(107);e.exports=i.View.extend({initialize:function(){var e=this,t=this.$(".time-machine__nav-label");this.slider=this.$(".time-machine__items").bxSlider({pager:!1,infiniteLoop:!1,nextSelector:".time-machine__nav-links",prevSelector:".time-machine__nav-links",slideWidth:this.$(".time-machine__nav").width(),hideControlOnEnd:!0,onSlideAfter:function(n){var i=parseInt(n.attr("data-year"),10);e.removePlayer(),t.text(i).prev(".time-machine__nav-links").find(".bx-next").text(i+1).next(".bx-prev").text(i-1),e.$currentSlide=n}}),this.slider.goToSlide(this.slider.getSlideCount()-2)},events:{"click .time-machine__item-media":"startVideo"},startVideo:function(){this.videoPlayer=new r.View({model:new r.Model({playerId:this.$currentSlide.find("[data-player-id]").data("player-id"),videoId:this.$currentSlide.find("[data-video-id]").data("video-id")})}),this.videoPlayer.setDimensions({height:this.$currentSlide.find(".time-machine__item-media").height(),width:this.$currentSlide.find(".time-machine__item-media").width()}),this.videoPlayer.render().$el.insertAfter(this.$currentSlide.find(".time-machine__item-media").hide()),this.listenTo(this.videoPlayer,"ended",this.removePlayer)},removePlayer:function(){this.videoPlayer&&(this.stopListening(this.videoPlayer),this.videoPlayer.remove(),this.videoPlayer=null,this.$(".time-machine__item-media").show())}})},function(e,t,n){"use strict";function i(e){return o("//players.brightcove.net/1125911414/"+e+"_default/index.min.js")}var r=n(3),o=n(10).createScriptTag,a=r.View.extend({tagName:"video",className:"video-js",initialize:function(){i(this.model.get("playerId"))},attributes:function(){return{controls:"controls",autoplay:"autoplay",id:"video-js-"+this.model.get("videoId"),"data-embed":"default","data-account":"1125911414","data-player":this.model.get("playerId"),"data-video-id":this.model.get("videoId")}},setDimensions:function(e){this.el.setAttribute("height",e.height),this.el.setAttribute("width",e.width)},render:function(){var e=this;return i(this.model.get("playerId")).then(function(){e.player||(e.player=window.videojs("video-js-"+e.model.get("videoId")),e.player.ready(function(){this.on("ended",function(){e.trigger("ended")})}))}),this},remove:function(){this.player&&this.player.dispose(),this.player=null,r.View.prototype.remove.call(this)}});e.exports={Model:r.Model.extend(),View:a}},function(e,t,n){"use strict";var i=n(3);e.exports=i.View.extend({events:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?{"touchend .ye-chart__vote-tooltip-wrapper":"toggleTooltip"}:{"mouseenter .ye-chart__vote-tooltip-wrapper":"toggleTooltip","mouseleave .ye-chart__vote-tooltip-wrapper":"toggleTooltip"},toggleTooltip:function(){this.$(".ye-chart__vote-info-tooltip").toggleClass("ye-chart__vote-info-tooltip--visible")}})},function(e,t,n){"use strict";var i=n(1),r=n(113),o=n(110),a=n(111),s=n(2)("spotify"),d=n(4),c=function(e,t){d.trigger("trackEvent",{action:e,label:t})},l={},u=function(e,t){var n=e.attr("data-spotify-type");if("undefined"==typeof n)return Promise.reject("undefined type from: "+e);switch(n){case"track":return o(e,t);case"artist":case"album":return a(e,t);default:return Promise.reject("unknown type: "+n)}},f=function(e,t,n,i){var o=e.attr("data-spotify-type");return l.hasOwnProperty(n)||(l[n]=new r(t,o,i,u(e,n))),l[n]},p=null,h=null,g=null,m=i.once(function(e){e.on("ended.previews",function(){null!==h&&h()})}),v=function(e,t,n){return m(e),function(){return new Promise(function(e,i){h=e,g=i,t.pause(),isNaN(t.duration)||(t.currentTime=0),t.src=n.previewUrl,t.play()})}},y=function(e,t){i.defer(function(){e.set("playing",t)})},b=function(e,t,n){var i=n.get("previews");if(!n.hasPreviews())return void s("no previews for",n);y(n,!0);for(var r=Promise.resolve(!0),o=0;o<i.length;o++)r=r.then(v(e,t,i[o]));r.then(function(){y(n,!1),h=null,g=null})["catch"](function(){console.log("promise caught",arguments)})},w=function(e,t){var n=e[0];if("undefined"==typeof n)return void s("audioElement undefined");if(t!==p){if(null!==g)try{p.set("playing",!1),g(),g=null}catch(i){s("issue rejecting",i)}p=t,c("play-preview",t.get("title")),b(e,n,t)}else try{t.get("playing")?(y(t,!1),n.pause()):(y(t,!0),n.play())}catch(i){s("issue playing/pausing",i)}},x=function(e,t){c("play-fulltrack",t.get("title"));var n=e[0];if("undefined"==typeof n)return void s("audioElement undefined");var i=t.get("spotifyUrl");if(null!==p)try{y(p,!1),n.pause()}catch(r){s("issue playing/pausing",r)}window.open(i,"_blank")};e.exports={getModel:f,togglePreview:w,openSpotifyUrl:x}},function(e,t,n){"use strict";var i=n(0),r=n(24),o={},a={},s=function(e,t){var n=e.attr("data-chart-code"),s=e.attr("data-chart-date");if("undefined"==typeof n)return Promise.reject("chartCode undefined");if("undefined"==typeof s)return Promise.reject("date undefined");var d=["/fe-ajax/spotify/preview/chart-tracks",n,s,r].join("/");if(o[d])return Promise.resolve([o[d][t]]);if("undefined"==typeof a[d]){var c=new Promise(function(e,t){i.ajax({type:"GET",url:d,success:function(t){o[d]={};for(var n=0;n<t.length;n++){var i=t[n];o[d][i.originalId]=i.previews}delete a[d],e()},error:function(){t()}})});a[d]=c}return a[d].then(function(){return[o[d][t]]})};e.exports=s},function(e,t,n){"use strict";var i=n(0),r=n(24),o=function(e,t){var n=e.attr("data-spotify-type"),o=null;if("artist"===n)o="/fe-ajax/spotify/preview/artist-tracks/"+t+"/"+r;else{if("album"!==n)return Promise.reject("spotifyType unknown:"+n);o="/fe-ajax/spotify/preview/album-tracks/"+t+"/"+r}var a,s=new Promise(function(e){a=e}).then(function(){return new Promise(function(e,t){i.ajax({type:"GET",url:o,success:function(t){e(t.previews)},error:function(){t()}})})});return Promise.resolve([[],s,a])};e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(109),a=function(e){var t=r.View.extend({initialize:function(e){i.bindAll(this,"render","doSpotifyPreview","doSpotifyUrl"),this.template=e.template,this.model=o.getModel(e.$dataSource,e.title,e.spotifyId,e.spotifyUrl),this.$audioElement=e.$audioElement,this.listenTo(this.model,"change",this.triggerChange)},triggerChange:function(){this.trigger("change")},render:function(){return this.model.get("previews")&&this.$el.html(this.template(this.model.toJSON())),this},events:{"click .js-spotify-preview":"doSpotifyPreview","click .js-spotify-spotifyUrl":"doSpotifyUrl"},doSpotifyPreview:function(){var e=this;this.model.getPreviewsPromise().then(function(){o.togglePreview(e.$audioElement,e.model)})},doSpotifyUrl:function(){o.openSpotifyUrl(this.$audioElement,this.model)}});return new t(e)};e.exports=a},function(e,t,n){"use strict";var i=n(3),r=i.Model.extend({initialize:function(e,t,n,i){var r=this,o=null;o="artist"===t?"artist":"album"===t?"full album":"full track",this.set({title:e,spotifyType:t,spotifyUrl:n,footerType:o}),i.then(function(e){var t=e[0];r.fetchPromise=e[1],r.requestData=e[2],r.set({previews:t,playing:!1})})},hasPreviews:function(){var e=this.get("previews");return"undefined"!=typeof e&&e.length>0},getPreviewsPromise:function(){var e=this;return this.hasPreviews()?Promise.resolve(!0):new Promise(function(t){e.fetchPromise.then(function(t){e.set({previews:t,playing:!1})}).then(t),e.requestData()})}});e.exports=r},,,function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var i=n(50),r=n(49),o=n(21);e.exports=function(e){for(var t=i(this),n=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),d=a>2?arguments[2]:void 0,c=void 0===d?n:r(d,n);c>s;)t[s++]=e;return t}},function(e,t,n){var i=n(33),r=n(21),o=n(49);e.exports=function(e){return function(t,n,a){var s,d=i(t),c=r(d.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if(s=d[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in d)&&d[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var i=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(r){}}return!0}},function(e,t,n){var i=n(17),r=n(126),o=n(124),a=n(7),s=n(21),d=n(142),c={},l={},t=e.exports=function(e,t,n,u,f){var p,h,g,m,v=f?function(){return e}:d(e),y=i(n,u,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>b;b++)if(m=t?y(a(h=e[b])[0],h[1]):y(e[b]),m===c||m===l)return m}else for(g=v.call(e);!(h=g.next()).done;)if(m=r(g,y,h.value,t),m===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){e.exports=!n(12)&&!n(42)(function(){return 7!=Object.defineProperty(n(29)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(11);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(15),r=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(14),r=n(11),o=n(5)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(7);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(o){var a=e["return"];throw void 0!==a&&i(a.call(e)),o}}},function(e,t,n){"use strict";var i=n(131),r=n(46),o=n(30),a={};n(9)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(5)("iterator"),r=!1;try{var o=[7][i]();o["return"]=function(){r=!0},Array.from(o,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(s){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var i=n(6),r=n(48).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,d="process"==n(11)(a);e.exports=function(){var e,t,n,c=function(){var i,r;for(d&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(o){throw e?n():t=void 0,o}}t=void 0,i&&i.enter()};if(d)n=function(){a.nextTick(c)};else if(o){var l=!0,u=document.createTextNode("");new o(c).observe(u,{characterData:!0}),n=function(){u.data=l=!l}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(c)}}else n=function(){r.call(i,c)};return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){var i=n(7),r=n(132),o=n(41),a=n(31)("IE_PROTO"),s=function(){},d="prototype",c=function(){var e,t=n(29)("iframe"),i=o.length,r="<",a=">";for(t.style.display="none",n(43).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+a+"document.F=Object"+r+"/script"+a),e.close(),c=e.F;i--;)delete c[d][o[i]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[d]=i(e),n=new s,s[d]=null,n[a]=e):n=c(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(20),r=n(7),o=n(135);e.exports=n(12)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,d=0;s>d;)i.f(e,n=a[d++],t[n]);return e}},function(e,t,n){var i=n(13),r=n(50),o=n(31)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var i=n(13),r=n(33),o=n(118)(!1),a=n(31)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),d=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;t.length>d;)i(s,n=t[d++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var i=n(134),r=n(41);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(16);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var i=n(6),r=n(20),o=n(12),a=n(5)("species");e.exports=function(e){var t=i[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(7),r=n(27),o=n(5)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},function(e,t,n){var i=n(32),r=n(18);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),d=i(n),c=s.length;return d<0||d>=c?e?"":void 0:(o=s.charCodeAt(d),o<55296||o>56319||d+1===c||(a=s.charCodeAt(d+1))<56320||a>57343?e?s.charAt(d):o:e?s.slice(d,d+2):(o-55296<<10)+(a-56320)+65536)}}},function(e,t,n){var i=n(125),r=n(18);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(14);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(28),r=n(5)("iterator"),o=n(15);e.exports=n(8).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(19);i(i.P,"Array",{fill:n(117)}),n(40)("fill")},function(e,t,n){"use strict";var i=n(40),r=n(129),o=n(15),a=n(33);e.exports=n(44)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var i=n(28),r={};r[n(5)("toStringTag")]="z",r+""!="[object z]"&&n(16)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,t,n){"use strict";var i,r,o,a=n(45),s=n(6),d=n(17),c=n(28),l=n(19),u=n(14),f=n(27),p=n(116),h=n(120),g=n(138),m=n(48).set,v=n(130)(),y="Promise",b=s.TypeError,w=s.process,x=s[y],w=s.process,_="process"==c(w),S=function(){},I=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(S,S)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(i){}}(),T=function(e,t){return e===t||e===x&&t===o},A=function(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t},k=function(e){return T(x,e)?new E(e):new r(e)},E=r=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw b("Bad Promise constructor");t=e,n=i}),this.resolve=f(t),this.reject=f(n)},C=function(e){try{e()}catch(t){return{error:t}}},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var i=e._v,r=1==e._s,o=0,a=function(t){var n,o,a=r?t.ok:t.fail,s=t.resolve,d=t.reject,c=t.domain;try{a?(r||(2==e._h&&R(e),e._h=1),a===!0?n=i:(c&&c.enter(),n=a(i),c&&c.exit()),n===t.promise?d(b("Promise-chain cycle")):(o=A(n))?o.call(n,s,d):s(n)):d(i)}catch(l){d(l)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){m.call(s,function(){var t,n,i,r=e._v;if(O(e)&&(t=C(function(){_?w.emit("unhandledRejection",r,e):(n=s.onunhandledrejection)?n({promise:e,reason:r}):(i=s.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=_||O(e)?2:1),e._a=void 0,t)throw t.error})},O=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if(t=n[i++],t.fail||!O(t.promise))return!1;return!0},R=function(e){m.call(s,function(){var t;_?w.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},M=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw b("Promise can't be resolved itself");(t=A(e))?v(function(){var i={_w:n,_d:!1};try{t.call(e,d(M,i,1),d(B,i,1))}catch(r){B.call(i,r)}}):(n._v=e,n._s=1,P(n,!1))}catch(i){B.call({_w:n,_d:!1},i)}}};I||(x=function(e){p(this,x,y,"_h"),f(e),i.call(this);try{e(d(M,this,1),d(B,this,1))}catch(t){B.call(this,t)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(136)(x.prototype,{then:function(e,t){var n=k(g(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=_?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},"catch":function(e){return this.then(void 0,e)}}),E=function(){var e=new i;this.promise=e,this.resolve=d(M,e,1),this.reject=d(B,e,1)}),l(l.G+l.W+l.F*!I,{Promise:x}),n(30)(x,y),n(137)(y),o=n(8)[y],l(l.S+l.F*!I,y,{reject:function(e){var t=k(this),n=t.reject;return n(e),t.promise}}),l(l.S+l.F*(a||!I),y,{resolve:function(e){if(e instanceof x&&T(e.constructor,this))return e;var t=k(this),n=t.resolve;return n(e),t.promise}}),l(l.S+l.F*!(I&&n(128)(function(e){x.all(e)["catch"](S)})),y,{all:function(e){var t=this,n=k(t),i=n.resolve,r=n.reject,o=C(function(){var n=[],o=0,a=1;h(e,!1,function(e){var s=o++,d=!1;n.push(void 0),a++,t.resolve(e).then(function(e){d||(d=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o&&r(o.error),n.promise},race:function(e){var t=this,n=k(t),i=n.reject,r=C(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r&&i(r.error),n.promise}})},function(e,t,n){"use strict";var i=n(139)(!0);n(44)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){for(var i=n(144),r=n(16),o=n(6),a=n(9),s=n(15),d=n(5),c=d("iterator"),l=d("toStringTag"),u=s.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var h,g=f[p],m=o[g],v=m&&m.prototype;if(v){v[c]||a(v,c,u),v[l]||a(v,l,g),s[g]=u;for(h in i)v[h]||r(v,h,i[h],!0)}}},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var r=e[i]<<16|e[i+1]<<8|e[i+2],o=0;o<4;o++)8*i+6*o<=8*e.length?n.push(t.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<e.length;r=++i%4)0!=r&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(i))>>>6-2*r);return n}};e.exports=n}()},function(e,t,n){var i,r;!function(o,a){i=a,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r))}("undefined"!=typeof window?window:this,function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return i.indexOf(t)==-1&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{},i=n[e]=n[e]||{};return i[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return i!=-1&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,r=n[i];t=t||[];for(var o=this._onceEvents&&this._onceEvents[e];r;){var a=o&&o[r];a&&(this.off(e,r),delete o[r]),r.apply(this,t),i+=a?0:1,r=n[i]}return this}},e})},function(e,t,n){var i,r;/*!
 * imagesLoaded v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(o,a){"use strict";i=[n(150)],r=function(e){return a(o,e)}.apply(t,i),!(void 0!==r&&(e.exports=r))}(window,function(e,t){"use strict";function n(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function r(e,t,o){return this instanceof r?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=n({},this.options),"function"==typeof t?o=t:n(this.options,t),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new r(e,t,o)}function o(e){this.img=e}function a(e,t){this.url=e,this.element=t,this.img=new Image}var s=e.jQuery,d=e.console;r.prototype=Object.create(t.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var a=o[i];this.addElementBackgroundImages(a)}}}};var c={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,e),i=n.exec(t.backgroundImage)}},r.prototype.addImage=function(e){var t=new o(e);this.images.push(t)},r.prototype.addBackground=function(e,t){var n=new a(e,t);this.images.push(n)},r.prototype.check=function(){function e(e,n,i){setTimeout(function(){t.progress(e,n,i)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},r.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&d&&d.log("progress: "+n,e,t)},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},o.prototype=Object.create(t.prototype),o.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(o.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},r.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(s=t,s.fn.imagesLoaded=function(e,t){var n=new r(this,e,t);return n.jqDeferred.promise(s(this))})},r.makeJQueryPlugin(),r})},function(e,t){(function(){!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){for(var e=0;e<T.que.length;e++)if(b(T.que[e].called)===M)try{T.que[e].call(),T.que[e].called=!0}catch(t){k.logError("Error processing command :","prebid.js",t)}}function o(e){var t=T._bidsRequested.map(function(e){return e.bids.map(function(e){return e.placementCode})}).reduce(x.flatten).filter(x.uniques);return!!k.contains(t,e)||void k.logError('The "'+e+'" placement is not defined.')}function a(){x.isGptPubadsDefined()&&window.googletag.pubads().getSlots().forEach(function(e){q.forEach(function(t){e.setTargeting(t,null)})})}function s(e){window.googletag.pubads().getSlots().forEach(function(t){e.filter(function(e){return Object.keys(e)[0]===t.getAdUnitPath()||Object.keys(e)[0]===t.getSlotElementId()}).forEach(function(e){return e[Object.keys(e)[0]].forEach(function(e){e[Object.keys(e)[0]].map(function(n){return k.logMessage("Attempting to set key value for slot: "+t.getSlotElementId()+" key: "+Object.keys(e)[0]+" value: "+n),n}).forEach(function(n){t.setTargeting(Object.keys(e)[0],n)})})})})}function d(){return E.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(A.TARGETING_KEYS).filter(x.uniques)}function c(e){var t=e?[e]:T._adUnitCodes;return T._bidsReceived.filter(function(e){return t.includes(e.adUnitCode)}).filter(function(e){return e.cpm>0}).map(function(e){return e.adUnitCode}).filter(x.uniques).map(function(e){return T._bidsReceived.filter(function(t){return t.adUnitCode===e?t:null}).reduce(x.getHighestCpm,{adUnitCode:e,cpm:0,adserverTargeting:{},timeToRespond:0})})}function l(){var e=c();e.filter(function(e){return e.dealId}).map(function(e){return e.adserverTargeting.hb_deal=e.dealId});var t=d();return e=e.map(function(e){return i({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(function(n){return"undefined"==typeof e.sendStandardTargeting||e.sendStandardTargeting||-1===t.indexOf(n)}).map(function(t){return i({},t.substring(0,20),[e.adserverTargeting[t]])}))})}function u(){return T._bidsReceived.filter(function(e){return e.dealId}).map(function(e){var t="hb_deal_"+e.bidderCode;return i({},e.adUnitCode,h(e,A.TARGETING_KEYS).concat(i({},t.substring(0,20),[e.adserverTargeting[t]])))})}function f(e){var t=d();return T._bidsReceived.filter(x.adUnitsFilter.bind(this,e)).map(function(e){return e.alwaysUseBid?i({},e.adUnitCode,Object.keys(e.adserverTargeting).map(function(n){return t.indexOf(n)>-1?void 0:i({},n.substring(0,20),[e.adserverTargeting[n]])}).filter(function(e){return e})):void 0}).filter(function(e){return e})}function p(e){var t=A.TARGETING_KEYS;return T._bidsReceived.filter(x.adUnitsFilter.bind(this,e)).map(function(e){return e.adserverTargeting?i({},e.adUnitCode,h(e,t)):void 0}).filter(function(e){return e})}function h(e,t){return t.map(function(t){return i({},(t+"_"+e.bidderCode).substring(0,20),[e.adserverTargeting[t]])})}function g(e){var t=e&&e.length?[e]:T._adUnitCodes,n=l(t).concat(f(t)).concat(T._sendAllBids?p(t):[]).concat(u(t));return n.map(function(e){Object.keys(e).map(function(t){e[t].map(function(e){-1===q.indexOf(Object.keys(e)[0])&&(q=Object.keys(e).concat(q))})})}),n}function m(){T._bidsRequested=[],T._bidsReceived=T._bidsReceived.filter(function(e){return!T._adUnitCodes.includes(e.adUnitCode)})}function v(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=n(1),x=n(2),_=n(4);n(19);var S=n(15),I=n(13),T=w.getGlobal(),A=n(3),k=n(2),E=n(12),C=n(5),P=n(11),j=n(18),O=n(8),R=n(20),B="function",M="undefined",N="object",U=A.EVENTS.BID_WON,D=A.EVENTS.AUCTION_END,z=!1,L=[],q=[],$={bidWon:o};T._bidsRequested=[],T._bidsReceived=[],T._adUnitCodes=[],T._winningBids=[],T._adsReceived=[],T._sendAllBids=!1,T.bidderSettings=T.bidderSettings||{},T.bidderTimeout=T.bidderTimeout||3e3,T.cbTimeout=T.cbTimeout||200,T.timeoutBuffer=200,T.logging=T.logging||!1,T.libLoaded=!0,T.version="v0.16.0",k.logInfo("Prebid.js v0.16.0 loaded"),T.adUnits=T.adUnits||[],T.que.push=function(e){if(("undefined"==typeof e?"undefined":b(e))===B)try{e.call()}catch(t){k.logError("Error processing command :"+t.message)}else k.logError("Commands written into pbjs.que.push must wrapped in a function")},T.getAdserverTargetingForAdUnitCodeStr=function(e){if(k.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=T.getAdserverTargetingForAdUnitCode(e);return k.transformAdServerTargetingObj(t)}k.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},T.getAdserverTargetingForAdUnitCode=function(e){return T.getAdserverTargeting(e)[e]},T.getAdserverTargeting=function(e){return k.logInfo("Invoking pbjs.getAdserverTargeting",arguments),g(e).map(function(e){return i({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return i({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return y(t,e)},{}))}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=y({},e[n],t[n]),e},{})},T.getBidResponses=function(){k.logInfo("Invoking pbjs.getBidResponses",arguments);var e=T._bidsReceived.filter(x.adUnitsFilter.bind(this,T._adUnitCodes)),t=e&&e.length&&e[e.length-1].requestId;return e.map(function(e){return e.adUnitCode}).filter(x.uniques).map(function(n){return e.filter(function(e){return e.requestId===t&&e.adUnitCode===n})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return i({},e[0].adUnitCode,{bids:e})}).reduce(function(e,t){return y(e,t)},{})},T.getBidResponsesForAdUnitCode=function(e){var t=T._bidsReceived.filter(function(t){return t.adUnitCode===e});return{bids:t}},T.setTargetingForGPTAsync=function(){return k.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),x.isGptPubadsDefined()?(a(),void s(g())):void k.logError("window.googletag is not defined on the page")},T.allBidsAvailable=function(){return k.logInfo("Invoking pbjs.allBidsAvailable",arguments),E.bidsBackAll()},T.renderAd=function(e,t){if(k.logInfo("Invoking pbjs.renderAd",arguments),k.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=T._bidsReceived.find(function(e){return e.adId===t});if(n){T._winningBids.push(n),O.emit(U,n);var i=n.height,r=n.width,o=n.adUrl,a=n.ad;e===document||"video"===n.mediaType?k.logError("Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document."):a?(e.write(a),e.close(),v(e,r,i)):o?(e.write('<IFRAME SRC="'+o+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="'+r+'" HEIGHT="'+i+'"></IFRAME>'),e.close(),v(e,r,i)):k.logError("Error trying to write ad. No ad for bid response id: "+t)}else k.logError("Error trying to write ad. Cannot find ad by given id : "+t)}catch(s){k.logError("Error trying to write ad Id :"+t+" to the page:"+s.message)}else k.logError("Error trying to write ad Id :"+t+" to the page. Missing document or adId")},T.removeAdUnit=function(e){if(k.logInfo("Invoking pbjs.removeAdUnit",arguments),e)for(var t=0;t<T.adUnits.length;t++)T.adUnits[t].code===e&&T.adUnits.splice(t,1)},T.clearAuction=function(){z=!1,k.logMessage("Prebid auction cleared"),O.emit(D),L.length&&L.shift()()},T.requestBids=function(e){var t=e.bidsBackHandler,n=e.timeout,i=e.adUnits,r=e.adUnitCodes,o=T.cbTimeout=n||T.bidderTimeout;i=i||T.adUnits,k.logInfo("Invoking pbjs.requestBids",arguments),r&&r.length?i=i.filter(function(e){return r.includes(e.code)}):r=i&&i.map(function(e){return e.code});var a=i.filter(_.videoAdUnit).filter(_.hasNonVideoBidder);if(a.forEach(function(e){k.logError("adUnit "+e.code+" has 'mediaType' set to 'video' but contains a bidder that doesn't support video. No Prebid demand requests will be triggered for this adUnit.");for(var t=0;t<i.length;t++)i[t].code===e.code&&i.splice(t,1)}),z)return void L.push(function(){T.requestBids({bidsBackHandler:t,timeout:o,adUnits:i,adUnitCodes:r})});if(z=!0,T._adUnitCodes=r,E.externalCallbackReset(),m(),!i||0===i.length)return k.logMessage("No adUnits configured. No bids requested."),("undefined"==typeof t?"undefined":b(t))===B&&E.addOneTimeCallback(t,!1),void E.executeCallback();var s=!0,d=E.executeCallback.bind(E,s),c=setTimeout(d,o);("undefined"==typeof t?"undefined":b(t))===B&&E.addOneTimeCallback(t,c),C.callBids({adUnits:i,adUnitCodes:r,cbTimeout:o}),0===T._bidsRequested.length&&E.executeCallback()},T.addAdUnits=function(e){k.logInfo("Invoking pbjs.addAdUnits",arguments),k.isArray(e)?T.adUnits.push.apply(T.adUnits,e):("undefined"==typeof e?"undefined":b(e))===N&&T.adUnits.push(e)},T.onEvent=function(e,t,n){return k.logInfo("Invoking pbjs.onEvent",arguments),k.isFn(t)?n&&!$[e].call(null,n)?void k.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):void O.on(e,t,n):void k.logError('The event handler provided is not a function and was not set on event "'+e+'".')},T.offEvent=function(e,t,n){k.logInfo("Invoking pbjs.offEvent",arguments),(!n||$[e].call(null,n))&&O.off(e,t,n)},T.addCallback=function(e,t){k.logInfo("Invoking pbjs.addCallback",arguments);var n=null;return e&&t&&("undefined"==typeof t?"undefined":b(t))===B?(n=k.getUniqueIdentifierStr,E.addCallback(n,t,e),n):(k.logError("error registering callback. Check method signature"),n)},T.removeCallback=function(){return null},T.registerBidAdapter=function(e,t){k.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{C.registerBidAdapter(e(),t)}catch(n){k.logError("Error registering bidder adapter : "+n.message)}},T.registerAnalyticsAdapter=function(e){k.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{C.registerAnalyticsAdapter(e)}catch(t){k.logError("Error registering analytics adapter : "+t.message)}},T.bidsAvailableForAdapter=function(e){k.logInfo("Invoking pbjs.bidsAvailableForAdapter",arguments),T._bidsRequested.find(function(t){return t.bidderCode===e}).bids.map(function(t){return y(t,P.createBid(1),{bidderCode:e,adUnitCode:t.placementCode})}).map(function(e){return T._bidsReceived.push(e)})},T.createBid=function(e){return k.logInfo("Invoking pbjs.createBid",arguments),P.createBid(e)},T.addBidResponse=function(e,t){k.logInfo("Invoking pbjs.addBidResponse",arguments),E.addBidResponse(e,t)},T.loadScript=function(e,t,n){k.logInfo("Invoking pbjs.loadScript",arguments),j.loadScript(e,t,n)},T.enableAnalytics=function(e){e&&!k.isEmpty(e)?(k.logInfo("Invoking pbjs.enableAnalytics for: ",e),C.enableAnalytics(e)):k.logError("pbjs.enableAnalytics should be called with option {}")},T.aliasBidder=function(e,t){k.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?C.aliasBidAdapter(e,t):k.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},T.setPriceGranularity=function(e){if(k.logInfo("Invoking pbjs.setPriceGranularity",arguments),!e)return void k.logError("Prebid Error: no value passed to `setPriceGranularity()`");if("string"==typeof e)E.setPriceGranularity(e);else if("object"===("undefined"==typeof e?"undefined":b(e))){if(!I.isValidePriceConfig(e))return void k.logError("Invalid custom price value passed to `setPriceGranularity()`");E.setCustomPriceBucket(e),E.setPriceGranularity(A.GRANULARITY_OPTIONS.CUSTOM),k.logMessage("Using custom price granularity")}},T.enableSendAllBids=function(){T._sendAllBids=!0},T.getAllWinningBids=function(){return T._winningBids},T.buildMasterVideoTagFromAdserverTag=function(e,t){k.logInfo("Invoking pbjs.buildMasterVideoTagFromAdserverTag",arguments);var n=S.parse(e);if(0===T._bidsReceived.length)return e;var i="";if("dfp"!==t.adserver.toLowerCase())return void k.logError("Only DFP adserver is supported");var r=R.dfpAdserver(t,n);return r.verifyAdserverTag()||k.logError("Invalid adserverTag, required google params are missing in query string"),r.appendQueryParams(),i=S.format(r.urlComponents)},T.setBidderSequence=function(e){e===A.ORDER.RANDOM&&C.setBidderSequence(A.ORDER.RANDOM)},T.getHighestCpmBids=function(e){return c(e)},r()},function(e,t){"use strict";function n(){return window.pbjs}Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=n,window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]},function(e,t,n){"use strict";function i(){return E()+Math.random().toString(16).substr(2)}function r(){return window.console&&window.console.log}function o(e,t,n){return n.indexOf(e)===t}function a(e,t){return e.concat(t)}function s(e){return pbjs._bidsRequested.map(function(t){return t.bids.find(function(t){return t.bidId===e})}).find(function(e){return e})}function d(e){return Object.keys(e)}function c(e,t){return e[t]}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(a,[])}).reduce(a).filter(o)}function u(){return!!(window.googletag&&t.isFn(window.googletag.pubads)&&t.isFn(window.googletag.pubads().getSlots))||void 0}function f(e,t){return e.cpm===t.cpm?e.timeToRespond>t.timeToRespond?t:e:e.cpm<t.cpm?t:e}function p(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t);t--;var i=e[t];e[t]=e[n],e[n]=i}return e}function h(e,t){return e.includes(t&&t.placementCode||t&&t.adUnitCode)}Object.defineProperty(t,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.uniques=o,t.flatten=a,t.getBidRequest=s,t.getKeys=d,t.getValue=c,t.getBidderCodes=l,t.isGptPubadsDefined=u,t.getHighestCpm=f,t.shuffle=p,t.adUnitsFilter=h;var m=n(3),v="object",y="string",b="number",w=!1,x="Array",_="String",S="Function",I="Number",T=Object.prototype.toString,A=null;try{A=console.info.bind(window.console)}catch(k){}t.replaceTokenInString=function(e,t,n){return this._each(t,function(t,i){t=void 0===t?"":t;var r=n+i.toUpperCase()+n,o=new RegExp(r,"g");e=e.replace(o,t)}),e};var E=function(){var e=0;return function(){return e++,e}}();t.getUniqueIdentifierStr=i,t.generateUUID=function R(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,R)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,n){return n?e+=t+"="+encodeURIComponent(n)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},t.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?d(e).map(function(t){return t+"="+encodeURIComponent(c(e,t))}).join("&"):""},t.extend=function(e,t){return e=e||{},this._each(t,function(n,i){e[i]=g(t[i])===v?this.extend(e[i],t[i]):t[i]}),e},t.parseSizesInput=function(e){var t=[];if(("undefined"==typeof e?"undefined":g(e))===y){var n=e.split(","),i=/^(\d)+x(\d)+$/i;if(n)for(var r in n)O(n,r)&&n[r].match(i)&&t.push(n[r])}else if(("undefined"==typeof e?"undefined":g(e))===v){var o=e.length;if(o>0)if(2===o&&g(e[0])===b&&g(e[1])===b)t.push(this.parseGPTSingleSizeArray(e));else for(var a=0;o>a;a++)t.push(this.parseGPTSingleSizeArray(e[a]))}return t},t.parseGPTSingleSizeArray=function(e){return!this.isArray(e)||2!==e.length||isNaN(e[0])||isNaN(e[1])?void 0:e[0]+"x"+e[1]},t.getTopWindowLocation=function(){var e=void 0;try{e=window.top.location}catch(t){e=window.location}return e},t.getTopWindowUrl=function(){var e=void 0;try{e=this.getTopWindowLocation().href}catch(t){e=""}return e},t.logWarn=function(e){P()&&console.warn&&console.warn("WARNING: "+e)},t.logInfo=function(e,t){P()&&r()&&A&&(t&&0!==t.length||(t=""),A("INFO: "+e+(""===t?"":" : params : "),t))},t.logMessage=function(e){P()&&r()&&console.log("MESSAGE: "+e)},t.hasConsoleLogger=r;var C=function(e){return e?window.console.error?"error":"log":""}(r()),P=function(){return pbjs.logging===!1&&w===!1&&(pbjs.logging="TRUE"===j(m.DEBUG_MODE).toUpperCase(),w=!0),!!pbjs.logging};t.debugTurnedOn=P,t.logError=function(e,t,n){var i=t||"ERROR";P()&&r()&&console[C](console,i+": "+e,n||"")},t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=i(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e};var j=function(e){var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),i=n.exec(window.location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))};t.hasValidBidRequest=function(e,t,n){function i(e,n){n===t[o]&&(r=!0)}for(var r=!1,o=0;o<t.length;o++)if(r=!1,this._each(e,i),!r)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+t,n),!1;return!0},t.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},t.isA=function(e,t){return T.call(e)==="[object "+t+"]"},t.isFn=function(e){return this.isA(e,S)},t.isStr=function(e){return this.isA(e,_)},t.isArray=function(e){return this.isA(e,x)},t.isNumber=function(e){return this.isA(e,I)},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},t.isEmptyStr=function(e){return this.isStr(e)&&(!e||0===e.length)},t._each=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(t,this);var n=0,i=e.length;if(i>0)for(;i>n;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}},t.contains=function(e,t){if(this.isEmpty(e))return!1;if(this.isFn(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},t.indexOf=function(){return Array.prototype.indexOf?Array.prototype.indexOf:void 0}(),t._map=function(e,t){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(t);var n=[];return this._each(e,function(i,r){n.push(t(i,r,e))}),n};var O=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):"undefined"!=typeof e[t]&&e.constructor.prototype[t]!==e[t]};t.createTrackPixelHtml=function(e){if(!e)return"";var t=encodeURI(e),n='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return n+='<img src="'+t+'"></div>'},t.getIframeDocument=function(e){if(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(n){this.logError("Cannot get iframe document",n)}return t}},t.getValueString=function(e,t,n){return void 0===t||null===t?n:this.isStr(t)?t:this.isNumber(t)?t.toString():void this.logWarn("Unsuported type for param: "+e+" required type: String")}},function(e){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_0.16.0",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon"}},objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},ORDER:{RANDOM:"random"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonVideoBidder=t.videoAdUnit=void 0;var i=n(5),r=(t.videoAdUnit=function(e){return"video"===e.mediaType},function(e){return!i.videoAdapters.includes(e.bidder)});t.hasNonVideoBidder=function(e){return e.bids.filter(r).length}},function(e,t,n){"use strict";function i(e){var t=e.bidderCode,n=e.requestId,i=e.bidderRequestId,r=e.adUnits;return r.map(function(e){return e.bids.filter(function(e){return e.bidder===t}).map(function(t){var r=e.sizes;if(e.sizeMapping){var a=s.mapSizes(e);if(""===a)return"";r=a}return o(t,{placementCode:e.code,mediaType:e.mediaType,sizes:r,bidId:c.getUniqueIdentifierStr(),bidderRequestId:i,requestId:n})})}).reduce(a.flatten,[]).filter(function(e){return""!==e})}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(2),s=n(6),d=n(7),c=n(2),l=n(3),u=n(8),f={};t.bidderRegistry=f;var p={},h=null;t.callBids=function(e){var t=e.adUnits,n=e.cbTimeout,r=c.generateUUID(),o=Date.now(),s={timestamp:o,requestId:r};u.emit(l.EVENTS.AUCTION_INIT,s);var d=a.getBidderCodes(t);h===l.ORDER.RANDOM&&(d=a.shuffle(d)),d.forEach(function(e){var a=f[e];if(a){var s=c.getUniqueIdentifierStr(),d={bidderCode:e,requestId:r,bidderRequestId:s,bids:i({bidderCode:e,requestId:r,bidderRequestId:s,adUnits:t}),start:(new Date).getTime(),auctionStart:o,timeout:n};d.bids&&0!==d.bids.length&&(c.logMessage("CALLING BIDDER ======= "+e),pbjs._bidsRequested.push(d),u.emit(l.EVENTS.BID_REQUESTED,d),a.callBids(d))}else c.logError("Adapter trying to be called which does not exist: "+e+" adaptermanager.callBids")})},t.registerBidAdapter=function(e,t){e&&t?r(e.callBids)===l.objectType_function?f[t]=e:c.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):c.logError("bidAdaptor or bidderCode not specified")},t.aliasBidAdapter=function(e,t){var n=f[t];if(("undefined"==typeof n?"undefined":r(n))===l.objectType_undefined){var i=f[e];if(("undefined"==typeof i?"undefined":r(i))===l.objectType_undefined)c.logError('bidderCode "'+e+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter");else try{var o=null;i instanceof d.BaseAdapter?c.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter"):(o=i.createNew(),o.setBidderCode(t),this.registerBidAdapter(o,t))}catch(a){c.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else c.logMessage('alias name "'+t+'" has been already specified.')},t.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code;t&&n?r(t.enableAnalytics)===l.objectType_function?(t.code=n,p[n]=t):c.logError('Prebid Error: Analytics adaptor error for analytics "'+n+'"\n        analytics adapter must implement an enableAnalytics() function'):c.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},t.enableAnalytics=function(e){c.isArray(e)||(e=[e]),c._each(e,function(e){var t=p[e.provider];t?t.enableAnalytics(e):c.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")})},t.setBidderSequence=function(e){h=e};var g=n(9);t.registerBidAdapter(new g,"rubicon");var m=n(16);t.registerBidAdapter(new m,"aol");var v=n(17);t.registerBidAdapter(new v,"appnexus"),t.videoAdapters=[]},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){if(!o(e.sizeMapping))return e.sizes;var t=a();if(!t){var n=e.sizeMapping.reduce(function(e,t){return e.minWidth<t.minWidth?t:e});return n.sizes?n.sizes:e.sizes}var i="",r=e.sizeMapping.find(function(e){return t>e.minWidth});return r&&r.sizes?(i=r.sizes,c.logMessage("AdUnit : "+e.code+" resized based on device width to : "+i)):c.logMessage("AdUnit : "+e.code+" not mapped to any sizes for device width. This request will be suppressed."),i}function o(e){return!!(c.isArray(e)&&e.length>0)||(c.logInfo("No size mapping defined"),!1)}function a(e){var t=e||l||window;return t.screen&&t.screen.width?t.screen.width:0}function s(e){l=e}Object.defineProperty(t,"__esModule",{value:!0}),t.setWindow=t.getScreenWidth=t.mapSizes=void 0;var d=n(2),c=i(d),l=void 0;t.mapSizes=r,t.getScreenWidth=a,t.setWindow=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.BaseAdapter=function(){function e(t){n(this,e),this.code=t}return i(e,[{key:"getCode",value:function(){return this.code}},{key:"setCode",value:function(e){this.code=e}},{key:"callBids",value:function(){throw"adapter implementation must override callBids method"}}]),e}()},function(e,t,n){"use strict";var i=n(2),r=n(3),o=Array.prototype.slice,a=Array.prototype.push,s=i._map(r.EVENTS,function(e){return e}),d=r.EVENT_ID_PATHS,c=[];e.exports=function(){function e(e,t){i.logMessage("Emitting event for: "+e);var r=t[0]||{},o=d[e],s=r[o],l=n[e]||{que:[]},u=i._map(l,function(e,t){return t}),f=[];c.push({eventType:e,args:r,id:s}),s&&i.contains(u,s)&&a.apply(f,l[s].que),a.apply(f,l.que),i._each(f,function(e){if(e)try{e.apply(null,t)}catch(n){i.logError("Error executing handler:","events.js",n)}})}function t(e){return i.contains(s,e)}var n={},r={};return r.on=function(e,r,o){if(t(e)){var a=n[e]||{que:[]};o?(a[o]=a[o]||{que:[]},a[o].que.push(r)):a.que.push(r),n[e]=a}else i.logError("Wrong event name : "+e+" Valid event names :"+s)},r.emit=function(t){var n=o.call(arguments,1);e(t,n)},r.off=function(e,t,r){var o=n[e];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[r])||r&&(i.isEmpty(o[r])||i.isEmpty(o[r].que))||(r?i._each(o[r].que,function(e){var n=o[r].que;e===t&&n.splice(i.indexOf.call(n,e),1)}):i._each(o.que,function(e){var n=o.que;e===t&&n.splice(i.indexOf.call(n,e),1)}),n[e]=o)},r.get=function(){return n},r.getEvents=function(){var e=[];return i._each(c,function(t){var n=i.extend({},t);e.push(n)}),e},r}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(){function e(e){var i=e.bids||[];i.forEach(function(e){function i(t){try{m.logMessage("XHR callback function called for ad ID: "+e.bidId),n(t,e)}catch(i){"string"==typeof i?m.logWarn(i+" when processing rubicon response for placement code "+e.placementCode):m.logError("Error processing rubicon response for placement code "+e.placementCode,null,i);var r=f["default"].createBid(y.STATUS.NO_BID,e);r.bidderCode=e.bidder,r.error=i,h["default"].addBidResponse(e.placementCode,r)}}try{v.ajax(t(e),i,void 0,{withCredentials:!0})}catch(r){m.logError("Error sending rubicon request for placement code "+e.placementCode,null,r)}})}function t(e){e.startTime=(new Date).getTime();
var t=e.params,n=t.accountId,i=t.siteId,r=t.zoneId,a=t.position,s=t.keywords,c=t.visitor,l=t.inventory,u=t.userId,f=t.referrer;a=a||"btf";var p=o.masSizeOrdering(Array.isArray(e.params.sizes)?e.params.sizes.map(function(e){return(w[e]||"").split("x")}):e.sizes);if(p.length<1)throw"no valid sizes";var h=["account_id",n,"site_id",i,"zone_id",r,"size_id",p[0],"alt_size_ids",p.slice(1).join(",")||void 0,"p_pos",a,"rp_floor","0.01","tk_flint","pbjs.lite","p_screen_res",window.screen.width+"x"+window.screen.height,"kw",s,"tk_user_key",u];return null!==c&&"object"===("undefined"==typeof c?"undefined":d(c))&&m._each(c,function(e,t){return h.push("tg_v."+t,e)}),null!==l&&"object"===("undefined"==typeof l?"undefined":d(l))&&m._each(l,function(e,t){return h.push("tg_i."+t,e)}),h.push("rand",Math.random(),"rf",f?f:m.getTopWindowUrl()),h.reduce(function(e,t,n){return n%2===0&&void 0!==h[n+1]?e+t+"="+encodeURIComponent(h[n+1])+"&":e},"//fastlane.rubiconproject.com/a/api/fastlane.json?").slice(0,-1)}function n(e,t){var n=JSON.parse(e);if("object"!==("undefined"==typeof n?"undefined":d(n))||"ok"!==n.status||!Array.isArray(n.ads)||n.ads.length<1)throw"bad response";var o=n.ads;o=o.sort(i),o.forEach(function(e){if("ok"!==e.status)throw"bad ad status";var n=f["default"].createBid(y.STATUS.GOOD,t);n.creative_id=e.ad_id,n.bidderCode=t.bidder,n.cpm=e.cpm||0,n.ad=r(e.script,e.impression_id);var i=w[e.size_id].split("x").map(function(e){return Number(e)}),o=s(i,2);n.width=o[0],n.height=o[1],n.dealId=e.deal,h["default"].addBidResponse(t.placementCode,n)})}function i(e,t){return(t.cpm||0)-(e.cpm||0)}var r=function(e,t){return"<html>\n<head><script type='text/javascript'>inDapIF=true;</script></head>\n<body style='margin : 0; padding: 0;'>\n<!-- Rubicon Project Ad Tag -->\n<div data-rp-impression-id='"+t+"'>\n<script type='text/javascript'>"+e+"</script>\n</div>\n</body>\n</html>"};return a(l.createNew(b),{callBids:e,createNew:o.createNew})}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(d){r=!0,o=d}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(10),l=r(c),u=n(11),f=i(u),p=n(12),h=i(p),g=n(2),m=r(g),v=n(14),y=n(3),b="rubicon",w={1:"468x60",2:"728x90",8:"120x600",9:"160x600",10:"300x600",15:"300x250",16:"336x280",19:"300x100",43:"320x50",44:"300x50",48:"300x300",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",61:"1000x1000",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",113:"1000x300",117:"320x100",125:"800x250",126:"200x600"};m._each(w,function(e,t){return w[e]=t}),o.masSizeOrdering=function(e){var t=[15,2,9];return m.parseSizesInput(e).reduce(function(e,t){var n=parseInt(w[t],10);return n&&e.push(n),e},[]).sort(function(e,n){var i=t.indexOf(e),r=t.indexOf(n);return i>-1||r>-1?-1===i?1:-1===r?-1:i-r:e-n})},o.createNew=function(){return new o},e.exports=o},function(e,t){"use strict";function n(e){function t(e){r=e}function n(){return r}function i(){}var r=e;return{callBids:i,setBidderCode:t,getBidderCode:n}}t.createNew=function(e){return new n(e)}},function(e,t,n){"use strict";function i(e,t){function n(){switch(o){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}var i=t&&t.bidId||r.getUniqueIdentifierStr(),o=e||0;this.bidderCode="",this.width=0,this.height=0,this.statusMessage=n(),this.adId=i,this.getStatusCode=function(){return o},this.getSize=function(){return this.width+"x"+this.height}}var r=n(2);t.createBid=function(){return new(Function.prototype.bind.apply(i,[null].concat(Array.prototype.slice.call(arguments))))}},function(e,t,n){"use strict";function i(){return(new Date).getTime()}function r(e){return e.bidderCode}function o(e){return e.bidder}function a(e){var t=this,n=pbjs._bidsRequested.map(function(n){return n.bids.filter(w.adUnitsFilter.bind(t,pbjs._adUnitCodes)).filter(function(t){return t.placementCode===e})}).reduce(w.flatten).map(function(e){return"indexExchange"===e.bidder?e.sizes.length:1}).reduce(s,0),i=pbjs._bidsReceived.filter(function(t){return t.adUnitCode===e}).length;return n===i}function s(e,t){return e+t}function d(){var e=pbjs._bidsRequested.map(function(e){return e.bids}).reduce(w.flatten).filter(w.adUnitsFilter.bind(this,pbjs._adUnitCodes)).map(function(e){return"indexExchange"===e.bidder?e.sizes.length:1}).reduce(function(e,t){return e+t},0),t=pbjs._bidsReceived.filter(w.adUnitsFilter.bind(this,pbjs._adUnitCodes)).length;return e===t}function c(e,t){return pbjs._bidsRequested.find(function(n){return n.bids.filter(function(n){return n.bidder===e&&n.placementCode===t}).length>0})||{start:null,requestId:null}}function l(e,t){var n={},i=pbjs.bidderSettings;if(t&&i){var r=m();u(n,r,t)}return e&&t&&i&&i[e]&&i[e][_.JSON_MAPPING.ADSERVER_TARGETING]?(u(n,i[e],t),t.alwaysUseBid=i[e].alwaysUseBid,t.sendStandardTargeting=i[e].sendStandardTargeting):C[e]&&(u(n,C[e],t),t.alwaysUseBid=C[e].alwaysUseBid,t.sendStandardTargeting=C[e].sendStandardTargeting),n}function u(e,t,n){var i=t[_.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),S._each(i,function(i){var r=i.key,o=i.val;if(e[r]&&S.logWarn("The key: "+r+" is getting ovewritten"),S.isFn(o))try{o=o(n)}catch(a){S.logError("bidmanager","ERROR",a)}"undefined"==typeof t.suppressEmptyKeys||t.suppressEmptyKeys!==!0||!S.isEmptyStr(o)&&null!==o&&void 0!==o?e[r]=o:S.logInfo("suppressing empty key '"+r+"' from adserver targeting")}),e}function f(e){var t=[e];p(A.byAdUnit,t)}function p(e,t){var n=this;S.isArray(e)&&e.forEach(function(e){var i=t||pbjs._adUnitCodes,r=[pbjs._bidsReceived.filter(w.adUnitsFilter.bind(n,i)).reduce(h,{})];e.apply(pbjs,r)})}function h(e,t,n,i){return t.adUnitCode in Object.keys(e)?e:(e[t.adUnitCode]={bids:i.filter(function(e){return e.adUnitCode===t.adUnitCode})},e)}function g(e){var t=e.bidderCode,n=e.cpm;if(t&&pbjs.bidderSettings&&pbjs.bidderSettings[t]&&y(pbjs.bidderSettings[t].bidCpmAdjustment)===T)try{n=pbjs.bidderSettings[t].bidCpmAdjustment.call(null,e.cpm,S.extend({},e))}catch(i){S.logError("Error during bid adjustment","bidmanager.js",i)}n>=0&&(e.cpm=n)}function m(){var e=pbjs.bidderSettings;return e[_.JSON_MAPPING.BD_SETTING_STANDARD]||(e[_.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return k===_.GRANULARITY_OPTIONS.AUTO?e.pbAg:k===_.GRANULARITY_OPTIONS.DENSE?e.pbDg:k===_.GRANULARITY_OPTIONS.LOW?e.pbLg:k===_.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:k===_.GRANULARITY_OPTIONS.HIGH?e.pbHg:k===_.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}},{key:"hb_size",val:function(e){return e.size}}]}),e[_.JSON_MAPPING.BD_SETTING_STANDARD]}function v(){return m()[_.JSON_MAPPING.ADSERVER_TARGETING]}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=n(2),x=n(13),_=n(3),S=n(2),I=n(8),T="function",A={byAdUnit:[],all:[],oneTime:null,timer:!1},k=_.GRANULARITY_OPTIONS.MEDIUM,E=void 0,C={};t.setCustomPriceBucket=function(e){E=e},t.getTimedOutBidders=function(){return pbjs._bidsRequested.map(r).filter(w.uniques).filter(function(e){return pbjs._bidsReceived.map(o).filter(w.uniques).indexOf(e)<0})},t.bidsBackAll=function(){return d()},t.addBidResponse=function(e,n){if(n){var r=c(n.bidderCode,e),o=r.requestId,s=r.start;if(b(n,{requestId:o,responseTimestamp:i(),requestTimestamp:s,cpm:n.cpm||0,bidder:n.bidderCode,adUnitCode:e}),n.timeToRespond=n.responseTimestamp-n.requestTimestamp,n.timeToRespond>pbjs.cbTimeout+pbjs.timeoutBuffer){var u=!0;t.executeCallback(u)}I.emit(_.EVENTS.BID_ADJUSTMENT,n),I.emit(_.EVENTS.BID_RESPONSE,n);var p=x.getPriceBucketString(n.cpm,E);n.pbLg=p.low,n.pbMg=p.med,n.pbHg=p.high,n.pbAg=p.auto,n.pbDg=p.dense,n.pbCg=p.custom;var h={};n.bidderCode&&0!==n.cpm&&(h=l(n.bidderCode,n),n.dealId&&(h["hb_deal_"+n.bidderCode]=n.dealId),n.adserverTargeting=h),pbjs._bidsReceived.push(n)}n&&n.adUnitCode&&a(n.adUnitCode)&&f(n.adUnitCode),d()&&t.executeCallback()},t.getKeyValueTargetingPairs=function(){return l.apply(void 0,arguments)},t.setPriceGranularity=function(e){var t=_.GRANULARITY_OPTIONS;Object.keys(t).filter(function(n){return e===t[n]})?k=e:(S.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default."),k=_.GRANULARITY_OPTIONS.MEDIUM)},t.registerDefaultBidderSetting=function(e,t){C[e]=t},t.executeCallback=function(e){if(!e&&A.timer&&clearTimeout(A.timer),A.all.called!==!0&&(p(A.all),A.all.called=!0,e)){var n=t.getTimedOutBidders();n.length&&I.emit(_.EVENTS.BID_TIMEOUT,n)}if(A.oneTime)try{p([A.oneTime])}finally{A.oneTime=null,A.timer=!1,pbjs.clearAuction()}},t.externalCallbackReset=function(){A.all.called=!1},t.addOneTimeCallback=function(e,t){A.oneTime=e,A.timer=t},t.addCallback=function(e,t,n){t.id=e,_.CB.TYPE.ALL_BIDS_BACK===n?A.all.push(t):_.CB.TYPE.AD_UNIT_BIDS_BACK===n&&A.byAdUnit.push(t)},I.on(_.EVENTS.BID_ADJUSTMENT,function(e){g(e)}),t.adjustBids=function(){return g.apply(void 0,arguments)},t.getStandardBidderAdServerTargeting=v},function(e,t){"use strict";function n(e,t){var n=0;return n=parseFloat(e),isNaN(n)&&(n=""),{low:""===n?"":i(e,s),med:""===n?"":i(e,d),high:""===n?"":i(e,c),auto:""===n?"":i(e,u),dense:""===n?"":i(e,l),custom:""===n?"":i(e,t)}}function i(e,t){var n="";if(!r(t))return n;var i=t.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),s=t.buckets.find(function(t){if(e>i.max){var r=t.precision||a;n=t.max.toFixed(r)}else if(e<=t.max&&e>=t.min)return t});return s&&(n=o(e,s.increment,s.precision)),n}function r(e){if(!e||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){"undefined"!=typeof e.min&&e.max&&e.increment||(t=!1)}),t}function o(e,t,n){n||(n=a);var i=1/t;return(Math.floor(e*i)/i).toFixed(n)}Object.defineProperty(t,"__esModule",{value:!0});var a=2,s={buckets:[{min:0,max:5,increment:.5}]},d={buckets:[{min:0,max:20,increment:.1}]},c={buckets:[{min:0,max:20,increment:.01}]},l={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},u={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};t.getPriceBucketString=n,t.isValidePriceConfig=r},function(e,t,n){"use strict";function i(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{!function(){var d=void 0,c=!1,l=i.method||(n?"POST":"GET");if(window.XMLHttpRequest?(d=new window.XMLHttpRequest,void 0===d.responseType&&(c=!0)):c=!0,c?(d=new window.XDomainRequest,d.onload=function(){t(d.responseText,d)},d.onerror=function(){a.logMessage("xhr onerror")},d.ontimeout=function(){a.logMessage("xhr timeout")},d.onprogress=function(){a.logMessage("xhr onprogress")}):d.onreadystatechange=function(){d.readyState===s&&t&&t(d.responseText,d)},"GET"===l&&n){var u=o.parse(e);r(u.search,n),e=o.format(u)}d.open(l,e),c||(i.withCredentials&&(d.withCredentials=!0),i.preflight&&d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.setRequestHeader("Content-Type",i.contentType||"text/plain")),d.send("POST"===l&&n)}()}catch(d){a.logError("xhr construction",d)}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.ajax=i;var o=n(15),a=n(2),s=4},function(e,t){"use strict";function n(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),i=a(n,2),r=i[0],o=i[1];return/\[\]$/.test(r)?(r=r.replace("[]",""),e[r]=e[r]||[],e[r].push(o)):e[r]=o||"",e},{}):{}}function i(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")}function r(e){var t=document.createElement("a");return t.href=decodeURIComponent(e),{protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname,search:n(t.search||""),hash:(t.hash||"").replace(/^#/,""),host:t.host}}function o(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+i(e.search||""):"")+(e.hash?"#"+e.hash:"")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(d){r=!0,o=d}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.parseQS=n,t.formatQS=i,t.parse=r,t.format=o},function(e,t,n){"use strict";function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var r=i(["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""],["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""]),o=n(2),a=n(14).ajax,s=n(11),d=n(12),c=function(){function e(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;t>r;r++)i[r]=arguments[r];var o=i[i.length-1]||{},a=[e[0]];return n.forEach(function(t,n){var r=Number.isInteger(t)?i[t]:o[t];a.push(r,e[n+1])}),a.join("")}}function t(e){var t=e.params,n=t.server,i=t.region||"us",r=void 0;return p.hasOwnProperty(i)||(o.logWarn("Unknown region '"+i+"' for AOL bidder."),i="us"),r=n?n:p[i],t.region=i,u({protocol:"https:"===document.location.protocol?"https":"http",host:r,network:t.network,placement:parseInt(t.placement),pageid:t.pageId||0,sizeid:t.sizeId||0,alias:t.alias||o.getUniqueIdentifierStr(),bidfloor:"undefined"!=typeof t.bidFloor?";bidfloor="+t.bidFloor.toString():"",misc:(new Date).getTime()})}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.createBid(2,e);n.bidderCode=f,n.reason=t.nbr,n.raw=t,d.addBidResponse(e.placementCode,n)}function i(e,t){var i=void 0;try{i=t.seatbid[0].bid[0]}catch(r){return void n(e,t)}var a=void 0;if(i.ext&&i.ext.encp)a=i.ext.encp;else if(a=i.price,null===a||isNaN(a))return o.logError("Invalid price in bid response",f,e),void n(e,t);var c=i.adm;t.ext&&t.ext.pixels&&(c+=t.ext.pixels);var l=s.createBid(1,e);l.bidderCode=f,l.ad=c,l.cpm=a,l.width=i.w,l.height=i.h,l.creativeId=i.crid,l.pubapiId=t.id,l.currencyCode=t.cur,i.dealid&&(l.dealId=i.dealid),d.addBidResponse(e.placementCode,l)}function c(e){o._each(e.bids,function(e){var r=t(e);a(r,function(t){if(l&&pbjs.bidderSettings&&pbjs.bidderSettings.aol&&"function"==typeof pbjs.bidderSettings.aol.bidCpmAdjustment&&o.logWarn("bidCpmAdjustment is active for the AOL adapter. As of Prebid 0.14, AOL can bid in net – please contact your accounts team to enable."),l=!1,!t&&t.length<=0)return o.logError("Empty bid response",f,e),void n(e,t);try{t=JSON.parse(t)}catch(r){return o.logError("Invalid JSON in bid response",f,e),void n(e,t)}i(e,t)},null,{withCredentials:!0})})}var l=!0,u=e(r,"protocol","host","network","placement","pageid","sizeid","alias","bidfloor","misc"),f="aol",p={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};return{callBids:c}};e.exports=c},function(e,t,n){"use strict";var i,r=n(2),o=n(3),a=n(2),s=n(18),d=n(12),c=n(11),l=n(10);i=function u(){function e(e,t){var n=a.getBidIdParameter("placementId",e.params),i=a.getBidIdParameter("memberId",e.params),r=a.getBidIdParameter("member",e.params),o=a.getBidIdParameter("invCode",e.params),s=a.getBidIdParameter("query",e.params),d=a.getBidIdParameter("referrer",e.params),c=a.getBidIdParameter("alt_referrer",e.params),l="http"+("https:"===document.location.protocol?"s://secure.adnxs.com/jpt?":"://ib.adnxs.com/jpt?");l=a.tryAppendQueryString(l,"callback","pbjs.handleAnCB"),l=a.tryAppendQueryString(l,"callback_uid",t),l=a.tryAppendQueryString(l,"psa","0"),l=a.tryAppendQueryString(l,"id",n),r?l=a.tryAppendQueryString(l,"member",r):i&&(l=a.tryAppendQueryString(l,"member",i),a.logMessage('appnexus.callBids: "memberId" will be deprecated soon. Please use "member" instead')),l=a.tryAppendQueryString(l,"code",o);var u="",f=a.parseSizesInput(e.sizes),p=f.length;if(p>0&&(u="size="+f[0],p>1)){u+="&promo_sizes=";for(var h=1;p>h;h++)u+=f[h]+=",";u&&","===u.charAt(u.length-1)&&(u=u.slice(0,u.length-1))}u&&(l+=u+"&");var g=a.parseQueryStringParameters(s);g&&(l+=g);var m=a.extend({},e.params);delete m.placementId,delete m.memberId,delete m.invCode,delete m.query,delete m.referrer,delete m.alt_referrer,delete m.member;var v=a.parseQueryStringParameters(m);return v&&(l+=v),""===d&&(d=a.getTopWindowUrl()),l=a.tryAppendQueryString(l,"referrer",d),l=a.tryAppendQueryString(l,"alt_referrer",c),l.lastIndexOf("&")===l.length-1&&(l=l.substring(0,l.length-1)),a.logMessage("jpt request built: "+l),e.startTime=(new Date).getTime(),l}var t=l.createNew("appnexus"),n=!1;return t.callBids=function(t){for(var n=t.bids,i=0;i<n.length;i++){var r=n[i],o=r.bidId;s.loadScript(e(r,o))}},pbjs.handleAnCB=function(e){var t;if(e&&e.callback_uid){var i,s=e.callback_uid,l="",u=r.getBidRequest(s);u&&(t=u.bidder,l=u.placementCode,u.status=o.STATUS.GOOD),a.logMessage("JSONP callback function called for ad ID: "+s);var f=[];if(e.result&&e.result.cpm&&0!==e.result.cpm){i=parseInt(e.result.cpm,10),i/=1e4;var p=e.result.creative_id;f=c.createBid(1,u),f.creative_id=p,f.bidderCode=t,f.cpm=i,f.adUrl=e.result.ad,f.width=e.result.width,f.height=e.result.height,f.dealId=e.result.deal_id,d.addBidResponse(l,f)}else a.logMessage("No prebid response from AppNexus for placement code "+l),f=c.createBid(2,u),f.bidderCode=t,d.addBidResponse(l,f);if(!n){var h=a.createInvisibleIframe();h.src="//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html";try{document.body.appendChild(h)}catch(g){a.logError(g)}n=!0}}else a.logMessage("No prebid response for placement %%PLACEMENT%%")},{callBids:t.callBids,setBidderCode:t.setBidderCode,createNew:u.createNew,buildJPTCall:e}},i.createNew=function(){return new i},e.exports=i},function(e,t,n){"use strict";function i(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t&&"function"==typeof t&&(n.readyState?n.onreadystatechange=function(){("loaded"===n.readyState||"complete"===n.readyState)&&(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src=e;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(n,i.firstChild))}var r=n(2),o={};t.loadScript=function(e,t,n){return e?void(n?o[e]?t&&"function"==typeof t&&(o[e].loaded?t():o[e].callbacks.push(t)):(o[e]={loaded:!1,callbacks:[]},t&&"function"==typeof t&&o[e].callbacks.push(t),i(e,function(){o[e].loaded=!0;try{for(var t=0;t<o[e].callbacks.length;t++)o[e].callbacks[t]()}catch(n){r.logError("Error executing callback","adloader.js:loadScript",n)}})):i(e,t)):void r.logError("Error attempting to request empty URL","adloader.js:loadScript")},t.trackPixel=function(e){var t=void 0,n=void 0;return e&&"string"==typeof e?(t=e.indexOf("?")>0?"&":"?",n=e+t+"rnd="+Math.floor(1e7*Math.random()),(new Image).src=n,n):void r.logMessage("Missing or invalid pixelUrl.")}},function(){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function e(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;i>o;o++)if(e=n[o],t.call(r,e,o,n))return e}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e){var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var i,r=parseInt(arguments[1],10)||0;r>=0?i=r:(i=n+r,0>i&&(i=0));for(var o;n>i;){if(o=t[i],e===o||e!==e&&o!==o)return!0;i++}return!1}}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},function(e,t,n){"use strict";var i=n(15),r=function(e){this.name=e.adserver,this.code=e.code,this.getWinningBidByCode=function(){var e=this,t=pbjs._bidsReceived.find(function(t){return t.adUnitCode===e.code});return t}};t.dfpAdserver=function(e,t){var n=new r(e);n.urlComponents=t;var o={env:"vp",gdfp_req:"1",impl:"s",unviewed_position_start:"1"},a=["output","iu","sz","url","correlator","description_url","hl"],s=function(e){return encodeURIComponent(i.formatQS(e))};return n.appendQueryParams=function(){var e=n.getWinningBidByCode();this.urlComponents.search.description_url=encodeURIComponent(e.vastUrl),this.urlComponents.search.cust_params=s(e.adserverTargeting),this.urlComponents.correlator=Date.now()},n.verifyAdserverTag=function(){for(var e in o)if(!this.urlComponents.search.hasOwnProperty(e)||this.urlComponents.search[e]!==o[e])return!1;for(var t in a)if(!this.urlComponents.search.hasOwnProperty(a[t]))return!1;return!0},n}}]),e.exports=window.pbjs}).call(window)},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||i(e)||!!e._isBuffer)}},function(e,t,n){var i,r,o;/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
!function(a){r=[n(0)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function n(e){return s.raw?e:decodeURIComponent(e)}function i(e){return t(s.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),s.json?JSON.parse(e):e}catch(t){}}function o(t,n){var i=s.raw?t:r(t);return e.isFunction(n)?n(i):i}var a=/\+/g,s=e.cookie=function(r,a,d){if(void 0!==a&&!e.isFunction(a)){if(d=e.extend({},s.defaults,d),"number"==typeof d.expires){var c=d.expires,l=d.expires=new Date;l.setTime(+l+864e5*c)}return document.cookie=[t(r),"=",i(a),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}for(var u=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],p=0,h=f.length;p<h;p++){var g=f[p].split("="),m=n(g.shift()),v=g.join("=");if(r&&r===m){u=o(v,a);break}r||void 0===(v=o(v))||(u[m]=v)}return u};s.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}})},function(e,t,n){!function(){var t=n(149),i=n(39).utf8,r=n(153),o=n(39).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):i.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),d=8*e.length,c=1732584193,l=-271733879,u=-1732584194,f=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[d>>>5]|=128<<d%32,s[(d+64>>>9<<4)+14]=d;for(var h=a._ff,g=a._gg,m=a._hh,v=a._ii,p=0;p<s.length;p+=16){var y=c,b=l,w=u,x=f;c=h(c,l,u,f,s[p+0],7,-680876936),f=h(f,c,l,u,s[p+1],12,-389564586),u=h(u,f,c,l,s[p+2],17,606105819),l=h(l,u,f,c,s[p+3],22,-1044525330),c=h(c,l,u,f,s[p+4],7,-176418897),f=h(f,c,l,u,s[p+5],12,1200080426),u=h(u,f,c,l,s[p+6],17,-1473231341),l=h(l,u,f,c,s[p+7],22,-45705983),c=h(c,l,u,f,s[p+8],7,1770035416),f=h(f,c,l,u,s[p+9],12,-1958414417),u=h(u,f,c,l,s[p+10],17,-42063),l=h(l,u,f,c,s[p+11],22,-1990404162),c=h(c,l,u,f,s[p+12],7,1804603682),f=h(f,c,l,u,s[p+13],12,-40341101),u=h(u,f,c,l,s[p+14],17,-1502002290),l=h(l,u,f,c,s[p+15],22,1236535329),c=g(c,l,u,f,s[p+1],5,-165796510),f=g(f,c,l,u,s[p+6],9,-1069501632),u=g(u,f,c,l,s[p+11],14,643717713),l=g(l,u,f,c,s[p+0],20,-373897302),c=g(c,l,u,f,s[p+5],5,-701558691),f=g(f,c,l,u,s[p+10],9,38016083),u=g(u,f,c,l,s[p+15],14,-660478335),l=g(l,u,f,c,s[p+4],20,-405537848),c=g(c,l,u,f,s[p+9],5,568446438),f=g(f,c,l,u,s[p+14],9,-1019803690),u=g(u,f,c,l,s[p+3],14,-187363961),l=g(l,u,f,c,s[p+8],20,1163531501),c=g(c,l,u,f,s[p+13],5,-1444681467),f=g(f,c,l,u,s[p+2],9,-51403784),u=g(u,f,c,l,s[p+7],14,1735328473),l=g(l,u,f,c,s[p+12],20,-1926607734),c=m(c,l,u,f,s[p+5],4,-378558),f=m(f,c,l,u,s[p+8],11,-2022574463),u=m(u,f,c,l,s[p+11],16,1839030562),l=m(l,u,f,c,s[p+14],23,-35309556),c=m(c,l,u,f,s[p+1],4,-1530992060),f=m(f,c,l,u,s[p+4],11,1272893353),u=m(u,f,c,l,s[p+7],16,-155497632),l=m(l,u,f,c,s[p+10],23,-1094730640),c=m(c,l,u,f,s[p+13],4,681279174),f=m(f,c,l,u,s[p+0],11,-358537222),u=m(u,f,c,l,s[p+3],16,-722521979),l=m(l,u,f,c,s[p+6],23,76029189),c=m(c,l,u,f,s[p+9],4,-640364487),f=m(f,c,l,u,s[p+12],11,-421815835),u=m(u,f,c,l,s[p+15],16,530742520),l=m(l,u,f,c,s[p+2],23,-995338651),c=v(c,l,u,f,s[p+0],6,-198630844),f=v(f,c,l,u,s[p+7],10,1126891415),u=v(u,f,c,l,s[p+14],15,-1416354905),l=v(l,u,f,c,s[p+5],21,-57434055),c=v(c,l,u,f,s[p+12],6,1700485571),f=v(f,c,l,u,s[p+3],10,-1894986606),u=v(u,f,c,l,s[p+10],15,-1051523),l=v(l,u,f,c,s[p+1],21,-2054922799),c=v(c,l,u,f,s[p+8],6,1873313359),f=v(f,c,l,u,s[p+15],10,-30611744),u=v(u,f,c,l,s[p+6],15,-1560198380),l=v(l,u,f,c,s[p+13],21,1309151649),c=v(c,l,u,f,s[p+4],6,-145523070),f=v(f,c,l,u,s[p+11],10,-1120210379),u=v(u,f,c,l,s[p+2],15,718787259),l=v(l,u,f,c,s[p+9],21,-343485551),c=c+y>>>0,l=l+b>>>0,u=u+w>>>0,f=f+x>>>0}return t.endian([c,l,u,f])};a._ff=function(e,t,n,i,r,o,a){var s=e+(t&n|~t&i)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},a._gg=function(e,t,n,i,r,o,a){var s=e+(t&i|n&~i)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},a._hh=function(e,t,n,i,r,o,a){var s=e+(t^n^i)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},a._ii=function(e,t,n,i,r,o,a){var s=e+(n^(t|~i))+(r>>>0)+a;return(s<<o|s>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(a(e,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):t.bytesToHex(i)}}()},function(e,t){/*!
Waypoints - 4.0.1
Copyright © 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";function e(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,i),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,t+=1}var t=0,n={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var i in n)t.push(n[i]);for(var r=0,o=t.length;r<o;r++)t[r][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.Context.refreshAll();for(var t in n)n[t].enabled=!0;return this},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=r.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,n+=1,r.windowContext||(r.windowContext=!0,r.windowContext=new t(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},r=window.Waypoint,o=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),n=this.element==this.element.window;e&&t&&!n&&(this.adapter.off(".waypoints"),delete i[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,r.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){t.didScroll&&!r.isTouch||(t.didScroll=!0,r.requestAnimationFrame(e))})},t.prototype.handleResize=function(){r.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var i=t[n],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward;for(var a in this.waypoints[n]){var s=this.waypoints[n][a];if(null!==s.triggerPoint){var d=i.oldScroll<s.triggerPoint,c=i.newScroll>=s.triggerPoint,l=d&&c,u=!d&&!c;(l||u)&&(s.queueTrigger(o),e[s.group.id]=s.group)}}}for(var f in e)e[f].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var i=0,r=e.length;i<r;i++)e[i].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,n=t?void 0:this.adapter.offset(),i={};this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in e){var a=e[o];for(var s in this.waypoints[o]){var d,c,l,u,f,p=this.waypoints[o][s],h=p.options.offset,g=p.triggerPoint,m=0,v=null==g;p.element!==p.element.window&&(m=p.adapter.offset()[a.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(a.contextDimension*h/100))),d=a.contextScroll-a.contextOffset,p.triggerPoint=Math.floor(m+d-h),c=g<a.oldScroll,l=p.triggerPoint>=a.oldScroll,u=c&&l,f=!c&&!l,!v&&u?(p.queueTrigger(a.backward),i[p.group.id]=p.group):!v&&f?(p.queueTrigger(a.forward),i[p.group.id]=p.group):v&&a.oldScroll>=p.triggerPoint&&(p.queueTrigger(a.forward),i[p.group.id]=p.group)}}return r.requestAnimationFrame(function(){for(var e in i)i[e].flushTriggers()}),this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in i)i[e].refresh()},t.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){o&&o(),t.refreshAll()},r.requestAnimationFrame=function(t){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;n.call(window,t)},r.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},r=window.Waypoint;n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?t:e);for(var o=0,a=i.length;o<a;o+=1){var s=i[o];(s.options.continuous||o===i.length-1)&&s.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints),i=n===this.waypoints.length-1;return i?null:this.waypoints[n+1]},n.prototype.previous=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},n.prototype.remove=function(e){var t=r.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return i[e.axis][e.name]||new n(e)},r.Group=n}(),function(){"use strict";function e(e){return e===e.window}function t(t){return e(t)?t:t.defaultView}function n(e){this.element=e,this.handlers={}}var i=window.Waypoint;n.prototype.innerHeight=function(){var t=e(this.element);return t?this.element.innerHeight:this.element.clientHeight},n.prototype.innerWidth=function(){var t=e(this.element);return t?this.element.innerWidth:this.element.clientWidth},n.prototype.off=function(e,t){function n(e,t,n){for(var i=0,r=t.length-1;i<r;i++){var o=t[i];n&&n!==o||e.removeEventListener(o)}}var i=e.split("."),r=i[0],o=i[1],a=this.element;if(o&&this.handlers[o]&&r)n(a,this.handlers[o][r],t),this.handlers[o][r]=[];else if(r)for(var s in this.handlers)n(a,this.handlers[s][r]||[],t),this.handlers[s][r]=[];else if(o&&this.handlers[o]){for(var d in this.handlers[o])n(a,this.handlers[o][d],t);this.handlers[o]={}}},n.prototype.offset=function(){if(!this.element.ownerDocument)return null;var e=this.element.ownerDocument.documentElement,n=t(this.element.ownerDocument),i={top:0,left:0};return this.element.getBoundingClientRect&&(i=this.element.getBoundingClientRect()),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}},n.prototype.on=function(e,t){var n=e.split("."),i=n[0],r=n[1]||"__default",o=this.handlers[r]=this.handlers[r]||{},a=o[i]=o[i]||[];a.push(t),this.element.addEventListener(i,t)},n.prototype.outerHeight=function(t){var n,i=this.innerHeight();return t&&!e(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginTop,10),i+=parseInt(n.marginBottom,10)),i},n.prototype.outerWidth=function(t){var n,i=this.innerWidth();return t&&!e(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginLeft,10),i+=parseInt(n.marginRight,10)),i},n.prototype.scrollLeft=function(){var e=t(this.element);return e?e.pageXOffset:this.element.scrollLeft},n.prototype.scrollTop=function(){var e=t(this.element);return e?e.pageYOffset:this.element.scrollTop},n.extend=function(){function e(e,t){if("object"==typeof e&&"object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}for(var t=Array.prototype.slice.call(arguments),n=1,i=t.length;n<i;n++)e(t[0],t[n]);return t[0]},n.inArray=function(e,t,n){return null==t?-1:t.indexOf(e,n)},n.isEmptyObject=function(e){for(var t in e)return!1;return!0},i.adapters.push({name:"noframework",Adapter:n}),i.Adapter=n}()},function(e,t,n){"use strict";n(64),n(66),n(65);var i=n(0),r=n(4),o=n(54),a=n(57),s=n(55),d=n(56),c=n(35),l=n(62),u=n(22),f={rubicon:n(60),aol:n(58),appnexus:n(59)},p=n(53);r.once("contentReady",function(){p.setup(function(){return i("#site-header").outerHeight()})}),n(61),u.setup({bidders:[].concat(f.rubicon).concat(f.aol).concat(f.appnexus)}),i(document).ready(function(){function e(){r.trigger("contentReady"),r.trigger("initialContentLoaded",t)}var t=i("body");c.setCategory(t.data("trackcategory")||"Unknown"),o.loadScripts(),o.loadImages(),o.loadBackgroundImages(),o.loadOnAsyncContentLoaded(),-1!==document.location.search.indexOf("partner=google_charts")&&i("#dfp-ad-o1").remove(),u.setup().then(e,e).then(function(){t.is(".article-page")&&u.stickyLeaderboard({offset:function(){return i("#site-header").outerHeight()-1},avoidCollision:".article__body, .main-media__video"})}),d(),a();var n=function(){i(window).width()<1024||i(".js-floater").each(function(){s({wrapper:this,unfloatSelector:".js-floater"})})};r.on("contentLoaded",n),"yearEndChart"===i("[data-content-type]").attr("data-content-type")&&(l.getVotes(),l.setup())})}],[157]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaG9tZS5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3drcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2hpZGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2NvZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3JlZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2RlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2V4cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL190by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvYWRzL3Nsb3RzLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy90cmFja2luZy9jb250ZW50LWluZm8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL3RyYWNraW5nL2luZGV4LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2xlZnQtcmFpbC9tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NoYXJlbmMvY2hhcmVuYy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9faHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2xpYnJhcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VucXVpcmUuanMvZGlzdC9lbnF1aXJlLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2xlZnQtcmFpbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvbGF6eWxvYWQvbGF6eWxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL3V4L2Zsb2F0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL3V4L2xpZ2h0Ym94LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy92aWRlby9zdG9wLW90aGVycy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL2Fkcy9iaWRkZXJzL2FvbC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL2Fkcy9iaWRkZXJzL2FwcG5leHVzLmpzIiwid2VicGFjazovLy8uL2pzL21vZHVsZXMvYWRzL2JpZGRlcnMvcnViaWNvbi5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL2NvbnRlbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vanMvbW9kdWxlcy92b3RpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2VzNi9wcm9taXNlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9mbi9hcnJheS9maWxsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuc3RhcnRzLXdpdGguanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9iaWRkZXJzL2FtYXpvbi5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvYWRzL2JpZGRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9jb250ZW50LWFkcy5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvYWRzL2RmcC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvYWRzL3ByZWJpZC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvYWRzL3Jlc3BvbnNpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9yZXRhcmdldC1wYWdlLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9hZHMvc2xvdC1yZW5kZXItZW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9zdGlja3ktbGVhZGVyYm9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvYmFzZS12aWV3LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2RpcmVjdC1yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvZW1iZWRzLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2VtYmVkcy9jb250ZW50LXByb21vLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2VtYmVkcy9nYWxsZXJ5LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2VtYmVkcy9oeWJyaWQtcGxheWVyLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2VtYmVkcy9pbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9lbWJlZHMvcmVhZG1vcmUuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvaW4tcGFnZS1sb2FkaW5nLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2xlZnQtcmFpbC9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvbGVmdC1yYWlsL2JlaGF2aW9yLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2xlZnQtcmFpbC92aWV3LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3RoaXJkLXBhcnR5LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3R5cGVzLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL2NwdC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC90eXBlcy9sb25nZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC90eXBlcy90b3BpYy1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC90eXBlcy90b3BpYy1zcGxhc2guanMiLCJ3ZWJwYWNrOi8vLy4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL3JvdXRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvc3VwcG9ydC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvdHJhY2tpbmcvY2hhcnRiZWF0LmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy90cmFja2luZy9jb21zY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvdHJhY2tpbmcvZnVuY3Rpb25zLmpzIiwid2VicGFjazovLy8uL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy90cmFja2luZy9nYS5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL2NvbnRlbnQvZW1iZWRzLWJhc2UtbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL3llLWNoYXJ0LmpzIiwid2VicGFjazovLy8uL2pzL21vZHVsZXMvY29udGVudC90eXBlcy95ZS1jaGFydC9ob3ctaXQtd29ya3Mtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL2NvbnRlbnQvdHlwZXMveWUtY2hhcnQvcm93LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL3llLWNoYXJ0L3RpbWUtbWFjaGluZS12aWV3LmpzIiwid2VicGFjazovLy8uL2pzL21vZHVsZXMvY29udGVudC90eXBlcy95ZS1jaGFydC92aWRlby1wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL3llLWNoYXJ0L3ZvdGluZy1iYXItdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL3Nwb3RpZnkvY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL3Nwb3RpZnkvZ2V0LWNoYXJ0LXRyYWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL3Nwb3RpZnkvZ2V0LXRyYWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL3Nwb3RpZnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vanMvbW9kdWxlcy9zcG90aWZ5L21vZGVsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fYXJyYXktZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2ZhaWxzLWlzLXJlZ2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fZm9yLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9faW52b2tlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19pcy1yZWdleHAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX21pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19yZWRlZmluZS1hbGwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3NldC1zcGVjaWVzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvX3N0cmluZy1jb250ZXh0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maWxsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9lczYucHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdC9jcnlwdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2V2LWVtaXR0ZXIvZXYtZW1pdHRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2ltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWQuanMiLCJ3ZWJwYWNrOi8vLy4vanMvZXh0ZXJuYWxfZGVwZW5kZW5jaWVzL3ByZWJpZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2pxdWVyeS5jb29raWUvanF1ZXJ5LmNvb2tpZS5qcyIsIndlYnBhY2s6Ly8vLi9+L21kNS9tZDUuanMiLCJ3ZWJwYWNrOi8vLy4vfi93YXlwb2ludHMvbGliL25vZnJhbWV3b3JrLndheXBvaW50cy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tb2R1bGVzL2hvbWUuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzdG9yZSIsInVpZCIsIlN5bWJvbCIsIlVTRV9TWU1CT0wiLCIkZXhwb3J0cyIsIm5hbWUiLCJnbG9iYWwiLCJ3aW5kb3ciLCJNYXRoIiwic2VsZiIsIkZ1bmN0aW9uIiwiX19nIiwiaXNPYmplY3QiLCJpdCIsIlR5cGVFcnJvciIsImNvcmUiLCJ2ZXJzaW9uIiwiX19lIiwiZFAiLCJjcmVhdGVEZXNjIiwib2JqZWN0Iiwia2V5IiwidmFsdWUiLCJmIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsImEiLCJoYXNPd25Qcm9wZXJ0eSIsImhpZGUiLCJoYXMiLCJTUkMiLCJUT19TVFJJTkciLCIkdG9TdHJpbmciLCJUUEwiLCJzcGxpdCIsImluc3BlY3RTb3VyY2UiLCJPIiwidmFsIiwic2FmZSIsImlzRnVuY3Rpb24iLCJqb2luIiwiU3RyaW5nIiwicHJvdG90eXBlIiwidGhpcyIsImFGdW5jdGlvbiIsImZuIiwidGhhdCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImIiLCJjIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJyZWRlZmluZSIsImN0eCIsIlBST1RPVFlQRSIsIiRleHBvcnQiLCJ0eXBlIiwic291cmNlIiwib3duIiwib3V0IiwiZXhwIiwiSVNfRk9SQ0VEIiwiRiIsIklTX0dMT0JBTCIsIkciLCJJU19TVEFUSUMiLCJTIiwiSVNfUFJPVE8iLCJQIiwiSVNfQklORCIsIkIiLCJ0YXJnZXQiLCJleHBQcm90byIsIlUiLCJXIiwiUiIsImFuT2JqZWN0IiwiSUU4X0RPTV9ERUZJTkUiLCJ0b1ByaW1pdGl2ZSIsIkF0dHJpYnV0ZXMiLCJlIiwidG9JbnRlZ2VyIiwibWluIiwic2V0dXAiLCJvcHRpb25zIiwiZ29vZ2xldGFnIiwiY21kIiwiXyIsImV4dGVuZCIsImJpZGRlcnMiLCJwcmViaWQiLCJyZWdpc3RlckJpZGRlciIsInB1c2giLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2xvdHMiLCJhZGQiLCJkZWZpbmVPdXRPZlBhZ2VTbG90IiwiUEdNIiwiYWRzIiwiYWRVbml0IiwiYWRkU2VydmljZSIsInB1YmFkcyIsImRlYnVnIiwiZGVidWdEZnBBdXRvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsb3RSZW5kZXJFbmRlZEhhbmRsZXIiLCJlbmFibGVTaW5nbGVSZXF1ZXN0IiwiZGlzYWJsZUluaXRpYWxMb2FkIiwiY29sbGFwc2VFbXB0eURpdnMiLCJlbmFibGVTZXJ2aWNlcyIsInNldHVwUmVzcG9uc2l2ZUFkcyIsIlByb21pc2UiLCJhbGwiLCJjcmVhdGVTY3JpcHRzIiwiY3JlYXRlU2NyaXB0VGFnIiwiZGVmaW5lQ29udGVudEFkcyIsIiRjb250ZW50IiwiZGF0YSIsImZpbmQiLCJlYWNoIiwiSlNPTiIsInBhcnNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0ZXh0Q29udGVudCIsImlkIiwidW5pcXVlSWQiLCJkZnAiLCJkZWZpbmUiLCJkaXNwbGF5QWRzIiwiaWRzIiwiQXJyYXkiLCJpc0FycmF5IiwicGx1Y2siLCJmaWx0ZXIiLCJhdWN0aW9uIiwidGhlbiIsInJlZnJlc2giLCJkaXNwbGF5SW5pdGlhbEFkcyIsImRpc3BsYXlDb250ZW50QWRzIiwiY29udGVudFR5cGUiLCIkYWRzIiwiY29udGVudEFkcyIsImpwVW5sb2FkVW5pdHMiLCJyZXRhcmdldFBhZ2UiLCJldmVudHMiLCJnbG9iYWxEZWJ1ZyIsInN0aWNreUxlYWRlcmJvYXJkIiwib24iLCJvbmNlIiwic2xvdCIsInNpemVNYXBwaW5nIiwic2l6ZXMiLCJnZXRTbG90U2l6ZXMiLCJnZXRTbG90VGFyZ2V0aW5nIiwicGFyYW1zIiwiZ2V0VGFyZ2V0aW5nS2V5cyIsImZvckVhY2giLCJnZXRUYXJnZXRpbmciLCJjYW5vbmljYWwiLCJ0aXRsZSIsImF1dGhvcnMiLCJ0ZXh0IiwicmVwbGFjZSIsInB1Ymxpc2hEYXRlIiwiYW5hbHl0aWNzQ2F0ZWdvcnkiLCJhbmFseXRpY3NUYWdzIiwiY2hhcnRiZWF0U2VjdGlvbiIsImNvZiIsIlRBRyIsIkFSRyIsInRyeUdldCIsIlQiLCJjYWxsZWUiLCJpcyIsImNyZWF0ZUVsZW1lbnQiLCJkZWYiLCJ0YWciLCJzdGF0IiwiY29uZmlndXJhYmxlIiwic2hhcmVkIiwiY2VpbCIsImZsb29yIiwiaXNOYU4iLCJJT2JqZWN0IiwiZGVmaW5lZCIsInB4IiwicmFuZG9tIiwiY29uY2F0IiwiJCIsInRyYWNraW5nRnVuY3Rpb25zIiwidHJhY2tDb21zY29yZSIsInRyYWNrR2EiLCJ0cmFja0NoYXJ0YmVhdCIsImdldENvbnRlbnRJbmZvIiwiX2dhcSIsImRhdGFMYXllciIsInRyYWNrRXZlbnQiLCJ0cmFja1BhZ2V2aWV3IiwiJHRoaXMiLCJ0cmFja0xhYmVsIiwiYXR0ciIsInBhcmVudHMiLCJ0cmFja0FjdGlvbiIsInRyYWNraW5nRGF0YSIsIm5vbkludGVyYWN0aW9uIiwibGFiZWwiLCJhY3Rpb24iLCJ0cmlnZ2VyIiwic2V0Q2F0ZWdvcnkiLCJzZXRBY3Rpb24iLCJ0eXBlcyIsImVtYmVkcyIsImRpcmVjdFJlbmRlciIsImluUGFnZUxvYWRpbmciLCJ0aGlyZFBhcnR5IiwiYXJ0aWNsZSIsImxvbmdmb3JtIiwidG9waWNJbmRleCIsInRvcGljU3BsYXNoIiwicHJvbW8iLCJnYWxsZXJ5IiwiaW1hZ2UiLCJyZWFkbW9yZSIsImh5YnJpZFBsYXllciIsInJlZ2lzdGVyIiwiTW9kZWwiLCJWaWV3IiwiYXR0YWNoIiwiYXJncyIsImluaXQiLCJCYWNrYm9uZSIsIm1vZGVsIiwiTGVmdFJhaWxJdGVtIiwiVG9waWNCbG9jayIsIkFkIiwiVGFib29sYSIsIkxlZnRSYWlsSXRlbUNvbGxlY3Rpb24iLCJDb2xsZWN0aW9uIiwiTGVmdFJhaWwiLCJpbml0aWFsaXplIiwic2V0IiwibWFpbkxpc3QiLCJpbml0aWFsSWQiLCJpbml0aWFsSXRlbSIsInJlbW92ZSIsImF0IiwidG9waWNCbG9jayIsInRvcGljQmxvY2tEYXRhIiwiZ2V0UGF0aEFmdGVySWQiLCJjdXJyZW50SWQiLCJwYXJzZUludCIsImZvdW5kIiwibmV4dE1vZGVsIiwiaXRlbSIsImNoYXJlbmMiLCJ1dGY4Iiwic3RyaW5nVG9CeXRlcyIsInN0ciIsImJpbiIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYnl0ZXNUb1N0cmluZyIsImJ5dGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwiaSIsImNoYXJDb2RlQXQiLCJmcm9tQ2hhckNvZGUiLCJVTlNDT1BBQkxFUyIsIkFycmF5UHJvdG8iLCJleGVjIiwiZG9jdW1lbnRFbGVtZW50IiwiTElCUkFSWSIsIkl0ZXJhdG9ycyIsIiRpdGVyQ3JlYXRlIiwic2V0VG9TdHJpbmdUYWciLCJnZXRQcm90b3R5cGVPZiIsIklURVJBVE9SIiwiQlVHR1kiLCJrZXlzIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwiQ29uc3RydWN0b3IiLCJuZXh0IiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldE1ldGhvZCIsImtpbmQiLCJwcm90byIsIkRFRl9WQUxVRVMiLCJWQUxVRVNfQlVHIiwiJG5hdGl2ZSIsIiRkZWZhdWx0IiwiJGVudHJpZXMiLCIkYW55TmF0aXZlIiwiZW50cmllcyIsInZhbHVlcyIsImJpdG1hcCIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsIlNIQVJFRCIsImRlZmVyIiwiY2hhbm5lbCIsInBvcnQiLCJpbnZva2UiLCJodG1sIiwiY2VsIiwicHJvY2VzcyIsInNldFRhc2siLCJzZXRJbW1lZGlhdGUiLCJjbGVhclRhc2siLCJjbGVhckltbWVkaWF0ZSIsIk1lc3NhZ2VDaGFubmVsIiwiY291bnRlciIsInF1ZXVlIiwiT05SRUFEWVNUQVRFQ0hBTkdFIiwicnVuIiwibGlzdGVuZXIiLCJldmVudCIsIm5leHRUaWNrIiwicG9ydDIiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJzZXRUaW1lb3V0IiwiY2xlYXIiLCJtYXgiLCJpbmRleCIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiY29udGV4dCIsImZhY3RvcnkiLCJtYXRjaE1lZGlhIiwiY29sbGVjdGlvbiIsImNvbnQiLCJRdWVyeUhhbmRsZXIiLCJkZWZlclNldHVwIiwiTWVkaWFRdWVyeSIsInF1ZXJ5IiwiaXNVbmNvbmRpdGlvbmFsIiwiaGFuZGxlcnMiLCJtcWwiLCJhc3Nlc3MiLCJhZGRMaXN0ZW5lciIsIk1lZGlhUXVlcnlEaXNwYXRjaCIsIkVycm9yIiwicXVlcmllcyIsImJyb3dzZXJJc0luY2FwYWJsZSIsIm1hdGNoZXMiLCJpbml0aWFsaXNlZCIsIm1hdGNoIiwib2ZmIiwidW5tYXRjaCIsImRlc3Ryb3kiLCJlcXVhbHMiLCJhZGRIYW5kbGVyIiwiaGFuZGxlciIsInFoIiwicmVtb3ZlSGFuZGxlciIsImgiLCJzcGxpY2UiLCJyZW1vdmVMaXN0ZW5lciIsInEiLCJzaG91bGREZWdyYWRlIiwidW5yZWdpc3RlciIsIm9mZnNldCIsIiRjb250YWluZXIiLCJkZWJ1Z0luaXQiLCJhcHAiLCJzdGFydCIsImxlZnRSYWlsSW5maW5pdGVTY3JvbGwiLCJhZGRDbGFzcyIsInNldHVwU2Nyb2xsUHJvZ3Jlc3MiLCJlbnF1aXJlIiwibWVkaWFRdWVyaWVzIiwibGFyZ2UiLCJMYXlvdXQiLCJnZXRSZWdpb24iLCJzaG93IiwibGVmdFJhaWxNb2RlbCIsImJlaGF2aW9yIiwiVmlld01vZGVsIiwiQmVoYXZpb3IiLCJ3YXlwb2ludCIsImNzcyIsInBhcmVudCIsInBvc2l0aW9uIiwiZmlyc3QiLCJ0b3AiLCJoZWlnaHQiLCIkcHJvZ3Jlc3MiLCJwYWdlWU9mZnNldCIsInNjcm9sbCIsInRocm90dGxlIiwiJGF1dG9sb2FkcyIsInJlbW92ZUNsYXNzIiwidXJsUHJlZml4IiwibmV4dFBhdGgiLCJkZWJ1Z0luZmluaXRlIiwiYWpheCIsInVybCIsImxvY2F0aW9uIiwic2VhcmNoIiwic3VjY2VzcyIsInJlc3BvbnNlIiwicmVwbGFjZVdpdGgiLCJ0cmlnZ2VyT25jZSIsImltYWdlc0xvYWRlZCIsIm1ha2VKUXVlcnlQbHVnaW4iLCJza2lwIiwiZ2V0RGF0YSIsImxvYWRJbWFnZXMiLCJzcmMiLCJsb2FkU2NyaXB0cyIsImNyZWF0ZVNjcmlwdCIsImxvYWRCYWNrZ3JvdW5kSW1hZ2VzIiwibG9hZFNjcmlwdFRlbXBsYXRlcyIsIiRjb250ZW50U2NyaXB0cyIsIiRmaXJzdE5vbkxhenlFbGVtZW50IiwibGFzdCIsInNjcm9sbFRvRmlyc3ROb25MYXp5Iiwic2Nyb2xsVG9NZSIsIm9mZnNldHRlciIsIiRuZXciLCJwcm9ncmVzcyIsIiRlbGVtZW50IiwiYnV0QWxsb3dSb29tRm9yIiwibm9vcCIsInNjcm9sbFRvIiwibG9hZE9uQXN5bmNDb250ZW50TG9hZGVkIiwibmV4dElkIiwiYWxsRmxvYXRlcnMiLCJyZXRyeVRpbWVzIiwidG90YWxXYWl0IiwicmVkdWNlIiwiZ2V0VmlkZW9PYmplY3QiLCJ2aWRlb0lkIiwicmVxdWlyZWQiLCJjYWxsYmFjayIsInJldHJpZXMiLCJ2aWRlbyIsInZpZGVvanMiLCJGbG9hdGVyIiwiJHdyYXBwZXIiLCJvcHRzIiwidmlkZW9TdGFydFRpbWUiLCJwcmVwZW5kIiwiY3JlYXRlV2F5cG9pbnQiLCJXYXlwb2ludCIsImVsZW1lbnQiLCJiaW5kIiwiZGlyZWN0aW9uIiwic2VsZWN0b3JzIiwic2VsZWN0b3IiLCJzZWwiLCJ1bmZsb2F0IiwiY2xpZW50SGVpZ2h0IiwiYXBwZW5kIiwid2lkdGgiLCJEYXRlIiwibm93IiwiY2F0ZWdvcnkiLCJtZWRpYWluZm8iLCJyb3VuZCIsImZsb2F0ZXIiLCJzdGF0ZSIsImFkc01hbmFnZXIiLCJpbWEzIiwicGF1c2UiLCJnZXRGbG9hdGVyIiwiY3JlYXRlRmxvYXRlciIsInJlcSIsIm1lc3NhZ2UiLCJ3cmFwcGVyIiwiaGFzQ2xhc3MiLCIkZG9jdW1lbnQiLCJwYWdlTGlnaHRib3giLCJMaWdodGJveENvbnRlbnQiLCJkZWZhdWx0cyIsImNvbnRlbnQiLCJ0cmFja2luZ0xhYmVsIiwiRGVmYXVsdENvbnRlbnRWaWV3IiwiYWRUZW1wbGF0ZSIsIkpTVCIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJyZW5kZXIiLCIkZWwiLCJvblJlbmRlciIsIkNvbnRlbnRWaWV3cyIsInRyYWNrIiwibGlnaHRib3giLCJzbGlkZXIiLCJieFNsaWRlciIsInBhZ2VyIiwiaW5maW5pdGVMb29wIiwic2xpZGVNYXJnaW4iLCJuZXh0VGV4dCIsInByZXZUZXh0Iiwib25TbGlkZUJlZm9yZSIsInNsaWRlQmVmb3JlSGFuZGxlciIsImNpZCIsImtleXVwSGFuZGxlciIsInJlZHJhd1NsaWRlciIsIiRzbGlkZSIsIm9sZEluZGV4IiwibmV3SW5kZXgiLCJrZXlDb2RlIiwiZ29Ub05leHRTbGlkZSIsImdvVG9QcmV2U2xpZGUiLCJjbGljayAuanMtZ2FsbGVyeS1tZXRhLXRvZ2dsZSIsInRvZ2dsZU1ldGEiLCJ0b2dnbGVDbGFzcyIsImRlc3Ryb3lTbGlkZXIiLCJMaWdodGJveCIsImNsaWNrIC5qcy1saWdodGJveC1jbG9zZSIsImNvbnRlbnRWaWV3IiwibG9hZENvbnRlbnQiLCJDb250ZW50VmlldyIsImFwcGVuZFRvIiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJnYWxsZXJ5UGF0aCIsInN0YXJ0c1dpdGgiLCJib2R5IiwiZXJyb3IiLCJmaXJzdFRpbWUiLCJzZXRVcE5ld1BsYXllcnMiLCJnZXRQbGF5ZXJzIiwicGxheWVyIiwicGdtIiwicmVhZHkiLCJzdG9wT3RoZXJQbGF5ZXJzIiwicGF1c2VkIiwicGxheWluZyIsImdldFZpZXdwb3J0U2l6ZSIsImNsaWVudFdpZHRoIiwiZ2V0U2VjdGlvbiIsImluZGV4T2YiLCJnZXRJZCIsInNoaWZ0IiwibWFrZUJpZGRlciIsInNpemUiLCJiaWREYXRhIiwiZ2V0QmlkIiwibWFwIiwicyIsInBsYWNlbWVudElkIiwiYmlkZGVyIiwibmV0d29yayIsInBsYWNlbWVudCIsIm5vUGxhY2VtZW50cyIsImhvbWVwYWdlIiwicm9zIiwicGxhY2VtZW50SWRzIiwiMzAweDI1MCIsIm1vYmlsZSIsImRlc2t0b3AiLCIzMDB4NjAwIiwiNzI4eDkwIiwiOTcweDI1MCIsIjk3MHg5MCIsIjMwMHg1MCIsIjMyMHg1MCIsImdldFZpZXdhYmlsaXR5IiwicG9zVGFyZ2V0aW5nIiwiaXNWYWxpZFNpemUiLCJzbG90U2l6ZXMiLCJzaXplc0ZvclZpZXdwb3J0IiwidmFsaWRTaXplcyIsImwiLCJoaWdoVmlld2FiaWxpdHkiLCJvdGhlciIsInRhcmdldGluZyIsInBvcyIsImdldFpvbmVJZCIsImJpZCIsImFjY291bnRJZCIsInNpdGVJZCIsInpvbmVJZCIsInNpemVJZHMiLCIxNjB4NjAwIiwiYmlkZGVyU2V0dGluZ3MiLCJydWJpY29uIiwiYmlkQ3BtQWRqdXN0bWVudCIsImNwbSIsIkVtYmVkc0Jhc2VNb2RlbCIsInllQ2hhcnQiLCJzZXRCYXNlTW9kZWwiLCJtZDUiLCJ2b3RlVHlwZXMiLCIkY2hhcnQiLCJjaGFydENvZGUiLCJjaGFydERhdGUiLCJjb29raWVOYW1lIiwidW5pcXVlSW5mbyIsImdhYyIsImNvb2tpZSIsInBhcnRzIiwiZ2V0Vm90ZXMiLCJyZXNvbHZlIiwicmVqZWN0Iiwidm90ZVRvdGFsIiwiY29uc29sZSIsImxvZyIsInVucGFja1ZvdGVzIiwiY29va2llVmFsdWUiLCJ1c2VyVm90ZXMiLCJmaWxsIiwicm93Vm90ZXMiLCJwYXJ0aWFsIiwibWF4TGVuZ3RoIiwicm93Vm90ZSIsInBvcHVsYXRlRXhpc3RpbmdWb3RlcyIsInNldHVwVm90ZUFjdGlvbnMiLCJjaGFuZ2UiLCIkY2hhcnRJdGVtIiwidm90ZVR5cGUiLCJyYW5rIiwiY2xvc2VzdCIsImluZGV4UmFuayIsInVzZXJWb3RlVHlwZSIsIiRwcmV2Vm90ZSIsInByZXZWb3RlQ291bnQiLCIkbmV3Vm90ZSIsIm5ld1ZvdGVDb3VudCIsInRvTGVuZ3RoIiwiU1RBUlRTX1dJVEgiLCIkc3RhcnRzV2l0aCIsInNlYXJjaFN0cmluZyIsInBianMiLCJjYWxsQmlkcyIsImFtem5hZHMiLCJnZXRBZHNDYWxsYmFjayIsImJpZHNBdmFpbGFibGVGb3JhZGFwdGVyIiwibmV3QmlkZGVycyIsImdldFNpemVzRm9yVmlld3BvcnQiLCJzb3J0IiwiaW5uZXJXaWR0aCIsImNyZWF0ZUJpZHNBcnJheSIsInZpZXdwb3J0U2l6ZXMiLCJjb2RlIiwiYmlkcyIsInN0YW5kYXJkRnVuY3Rpb24iLCJsaWdodGJveC1nYWxsZXJ5IiwiZGVmaW5lRGZwU2xvdCIsInNsb3RJbnN0YW5jZURhdGEiLCJzbG90RWxlbWVudCIsImFkU2l6ZXMiLCJzbG90RGF0YSIsIm5vblJlc3BvbnNpdmVTaXplIiwieCIsInRhcmdldGluZ1BhcmFtZXRlcnMiLCJleHRyYVRhcmdldGluZyIsImRpc2FibGVEZnAiLCJhZC13aWR0aCIsImFkLWhlaWdodCIsImFkLXNsb3QiLCJzbG90TmFtZSIsImRlZmluZVNsb3QiLCJzZXRUYXJnZXRpbmciLCJyZXNwb25zaXZlIiwibWFwcGluZyIsImFkZFNpemUiLCJkZWZpbmVTaXplTWFwcGluZyIsImJ1aWxkIiwiZGlzcGxheSIsImlzRW5hYmxlZCIsInJlZnJlc2hEZnBTbG90Iiwic2xvdElkcyIsImZha2VBZENvbG9yIiwidHJhY2UiLCJzbG90SWQiLCIkYWRTbG90IiwicmVmcmVzaFNsb3RzIiwiUFJFQklEX1RJTUVPVVQiLCJxdWUiLCJhZGRBZFVuaXRzIiwicmVxdWVzdEJpZHMiLCJ0aW1lb3V0IiwiYmlkc0JhY2tIYW5kbGVyIiwiZ2V0QmlkUmVzcG9uc2VzIiwic2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMiLCJmYWtlQXVjdGlvbiIsIm1ha2VBOUFkYXB0ZXIiLCJyZWdpc3RlckJpZEFkYXB0ZXIiLCJiaWRkZXJUaW1lb3V0IiwicGVyZm9ybWFuY2UiLCJtYXJrIiwiZW5hYmxlU2VuZEFsbEJpZHMiLCJyZWZyZXNoQWRzIiwiaW5pdGlhbExvYWQiLCIkc2NyaXB0IiwiZWxlbSIsImdldFNsb3RFbGVtZW50SWQiLCJpc0VtcHR5Iiwic2V0QXR0cmlidXRlIiwibWFrZUxlYWRlcmJvYXJkU3RpY2t5Iiwic2V0dXBTdGlja3lMZWFkZXJib2FyZCIsIiRwbGFjZWhvbGRlciIsInN0aWNreUNvbXBsZXRlIiwiJGxlYWRlcmJvYXJkVG9wIiwib3V0ZXJIZWlnaHQiLCJzdGlja3lDbGFzcyIsIiRhdm9pZENvbGxpc2lvbiIsImF2b2lkQ29sbGlzaW9uIiwicmVtb3ZlTGVhZGVyYm9hcmRGcm9tVmlldyIsImRpc3RhbmNlIiwid2F5cG9pbnRzIiwiaW1wcmVzc2lvblZpZXdhYmxlQ2FsbGJhY2siLCJzdGlja3lUaW1lIiwic2xvdFJlbmRlckVuZGVkQ2FsbGJhY2siLCJ3cmFwIiwicHJlZml4Iiwic2xpZGluZ0NsYXNzIiwic3VwcG9ydCIsInRvdWNoIiwic2V0VXBBdXRvTG9hZCIsIiRhdXRvbG9hZCIsInJlbW92ZUZvb3RlciIsIkJhc2VNb2RlbCIsImZldGNoIiwic2xhc2hpZnkiLCJwYXRoIiwibWFrZUltYWdlU3JjIiwiVEhSIiwiY29uZmlnIiwiZ2V0TWVkaWFIb3N0IiwiQkIiLCJtZWRpYUhvc3QiLCJtYWtlSW1hZ2VjYWNoZVNyYyIsIm1lZGlhIiwiQmFzZVZpZXciLCJsaXN0ZW5UbyIsInRlbXBsYXRlIiwic2VyaWFsaXplRGF0YSIsInRvSlNPTiIsInNldEJhc2VWaWV3IiwiZ2V0QmFzZVZpZXciLCJnZXRCYXNlTW9kZWwiLCJtb2RlbERhdGEiLCJ2aWV3RGF0YSIsIiRwcm9jZXNzZWRDb250ZW50IiwidmlldyIsIiR3aW5kb3ciLCJpdGVtcyIsImNvbnRlbnRIb3N0IiwiY3JvcCIsImRlYm91bmNlIiwic2luZ2xlIiwicmVsYXRpdmVfcGF0aCIsIlBsYXllckZhY3RvcnkiLCJ2aWRlb01vZGVsIiwiVmlkZW9QbGF5ZXIiLCJZb3VUdWJlUGxheWVyIiwiQnJpZ2h0Y292ZVBsYXllciIsImd1YXJhbnRlZVlvdVR1YmVBcGkiLCJvbllvdVR1YmVJZnJhbWVBUElSZWFkeSIsIlZpZGVvIiwiUGxheWVyTW9kZWwiLCJqc29uIiwiYXR0cnMiLCJwbGF5ZXJJZCIsImN1cnJlbnRJbmRleCIsInNldEluZGV4IiwiZ2V0Q3VycmVudFZpZGVvIiwic3RvcCIsImdldFRlbXBsYXRlIiwib25Jbml0aWFsaXplIiwiY2xpY2sgLmh5YnJpZC1wbGF5ZXItdmlkZW9fX2NvbnRhaW5lciIsInBsYXkiLCJ0cmFja1BsYXlFdmVudCIsImluc3RhbnRpYXRlUGxheWVyIiwiZGVzdHJveVBsYXllckluc3RhbmNlIiwiZW1wdHkiLCJiaW5kQWxsIiwiYWZ0ZXIiLCJwYXVzZVZpZGVvIiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsIllUIiwiUGxheWVyU3RhdGUiLCJFTkRFRCIsIlBBVVNFRCIsIlBMQVlJTkciLCJjcmVhdGVZb3VUdWJlQXBpUGxheWVyIiwiUGxheWVyIiwib3V0ZXJXaWR0aCIsInBsYXllclZhcnMiLCJjb2xvciIsImF1dG9oaWRlIiwibW9kZXN0YnJhbmRpbmciLCJzaG93aW5mbyIsInJlbCIsIm9uU3RhdGVDaGFuZ2UiLCJvbmxvYWQiLCJnZXRQbGF5ZXJPYmplY3QiLCJjbGFzcyIsImRhdGEtdmlkZW8taWQiLCJkYXRhLWFjY291bnQiLCJkYXRhLXBsYXllciIsImRhdGEtZW1iZWQiLCJhdXRvcGxheSIsImNvbnRyb2xzIiwiUGxheWxpc3RWaWV3Iiwic2V0Q3VycmVudFZpZGVvIiwiY2xpY2sgLmh5YnJpZC1wbGF5ZXItcGxheWxpc3RfX2l0ZW0iLCJkZWZlcnJlZEV2ZW50cyIsImNsaWNrIC5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19uYXYiLCJzZXR1cFBsYXlsaXN0U2Nyb2xsQmVoYXZpb3IiLCJzZWxlY3ROZXdWaWRlbyIsIm5ld1ZpZGVvSW5kZXgiLCJjdXJyZW50VGFyZ2V0IiwiZXEiLCJpdGVtc1dpZHRoIiwiJHByZXYiLCIkbmV4dCIsImRlbGVnYXRlRXZlbnRzIiwiY2FsY3VsYXRlTmF2QnV0dG9uU3RhdGVzIiwic2Nyb2xsUGxheWxpc3QiLCJzY3JvbGxMZWZ0IiwicmVtb3ZlQXR0ciIsIkh5YnJpZFBsYXllck1haW5WaWV3IiwicGxheWxpc3QiLCJsaXN0ZW5Ub09uY2UiLCJpbnNlcnRQbGF5ZXJBbmRBdXRvcGxheSIsImFkU2xvdCIsImluc2VydFBsYXllciIsImluc2VydEFmdGVyIiwidmVyYnMiLCJkZWZhdWx0IiwidmVyYiIsImNsaWNrSGFuZGxlciIsImhyZWYiLCJwcmV2ZW50RGVmYXVsdCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJyIiwiJHBhZ2VDb250ZW50IiwiJG1haW5Db250ZW50Iiwicm91dGVyIiwiY2hhbmdlVXJsIiwiTWFyaW9uZXR0ZSIsIkFwcGxpY2F0aW9uIiwibW9kZWxzIiwiYWN0aXZlSW5kZXgiLCJzaG93QWN0aXZlSXRlbSIsIm1heEluZGV4IiwiY3VycmVudEFkIiwiYWREaXYiLCJsYXN0QWREaXYiLCJ0YWJvb2xhIiwiZ2VuZXJhdGVSYWlsVGFib29sYSIsImFjdGl2ZUlkIiwiYWN0aXZlTW9kZWwiLCJvbmUiLCJsZWZ0UmFpbEhpZ2h3YXRlciIsInR3byIsImFkIiwiZ2VuZXJhdGVSYWlsQWQiLCJ0aGVSZXN0IiwiYWREYXRhIiwiZXh0cmFDbGFzcyIsIkl0ZW1WaWV3IiwiYXR0cmlidXRlcyIsImRhdGEtaWQiLCJvblNob3ciLCJicmVhZGNydW1iIiwicHJvdG9jb2wiLCJjcmVhdGVXaWRnZXQiLCJtb2RlIiwiY29udGFpbmVyIiwiQ29tcG9zaXRlVmlldyIsImNoaWxkVmlldyIsImNoaWxkVmlld0NvbnRhaW5lciIsImdldENoaWxkVmlldyIsIkxheW91dFZpZXciLCJyZWdpb25zIiwibGVmdFJhaWwiLCJpbnN0Z3JtIiwiRW1iZWRzIiwiRkIiLCJYRkJNTCIsIlZpZXdPck9wdGlvbnMiLCJzZXR1cExpc3RJdGVtUmVmcmVzaCIsImNoaWxkcmVuIiwiaW5zZXJ0VGFib29sYSIsImxpc3RQYWdldmlld0ludGVydmFsIiwiaXNOdW1lcmljIiwiJGxpc3RJdGVtIiwiZmlyZUdUTSIsImxpc3RDb21zY29yZUludGVydmFsIiwibGlzdEl0ZW1SYWlsQWRJbnRlcnZhbCIsIiR0YWJvb2xhV3JhcHBlciIsImNvbnRlbnRXZWxsVGFib29sYU1vZGUiLCJSYWlsVmlldyIsImluc2VydEFkIiwibSIsIiRwYXJhZ3JhcGhzIiwiSGVhZGVyIiwiaW5pdGlhbGl6ZVNjcm9sbFRyYWNraW5nIiwibG9uZ2Zvcm1fdDIiLCIkYm9keUVsZW1lbnRzIiwiY2xvbmUiLCJsYXlvdXRBcnRpY2xlIiwiJHN0b3J5IiwiaXNGdWxsV2lkdGhFbGVtZW50IiwiaXNDb250ZW50UHJvbW8iLCJtYWtlTmV3U2VjdGlvbiIsInJhaWxWaWV3IiwiZ2V0UHJvbW9EYXRhIiwicHJvbW9EYXRhIiwiaW5zZXJ0UHJvbW8iLCJkYXRhLXRlbXBsYXRlIiwic3RyaW5naWZ5IiwicHJlcGVuZFRvIiwiYmVmb3JlIiwiaW5uZXJIVE1MIiwidHJpbSIsInBhcmVudE5vZGUiLCJyYWlsU2xpZGVyIiwiaGVhZGVyT2Zmc2V0IiwicmFpbFNsaWRlcnMiLCJkaXNhYmxlIiwicmVjYWxjdWxhdGUiLCJBSkFYX1VSSSIsInJlY2FsY3VsYXRlUmFpbFNsaWRlcnMiLCJQdXNoZG93blByb21vIiwiQmxvY2siLCJwYWdlTGVuZ3RoIiwic2V0Q3VycmVudFBhZ2UiLCJuZXh0UGFnZSIsImNhbmRpZGF0ZUluZGV4IiwicHJldlBhZ2UiLCJCbG9ja3NDb2xsZWN0aW9uIiwiZ2V0Q3VycmVudEluZGV4IiwicmVzZXQiLCJCbG9ja1ZpZXciLCJjbGljayAuY2Fwc3VsZV9fbmF2LWJ1dHRvbi0tbmV4dCIsImNsaWNrIC5jYXBzdWxlX19uYXYtYnV0dG9uLS1wcmV2IiwiQmxvY2tTd2lwZVZpZXciLCJvcmllbnRhdGlvbiIsImdldEJsb2Nrc0NvbGxlY3Rpb24iLCJnZXRQdXNoZG93blByb21vIiwiZmV0Y2hCbG9ja0RhdGEiLCJzbHVnIiwicHVzaGRvd25Qcm9tbyIsImJsb2Nrc0NvbGxlY3Rpb24iLCJibG9ja3MiLCJibG9ja1ZpZXdzIiwiY29sbGVjdGlvblJlc2V0VGFyZ2V0IiwicmVzaXplU2xpZGVyc0ZvckFkcyIsImhhbmRsZVNsb3RSZW5kZXJFbmRlZCIsImNsaWNrIC50b3BpYy1pbmRleF9fc3VtbWFyeS10b2dnbGUiLCJjbGljayAudG9waWMtc2hhcmVfX3RvZ2dsZSIsInRvdWNoZW5kIC50b3BpYy1jYXJkX19mZWF0dXJlZC1mbGFnIiwibW91c2VlbnRlciAudG9waWMtY2FyZF9fZmVhdHVyZWQtZmxhZyIsIm1vdXNlbGVhdmUgLnRvcGljLWNhcmRfX2ZlYXR1cmVkLWZsYWciLCJpc0Rlc2t0b3AiLCIkcmFpbCIsIiR3ZWxsIiwicmVtb3ZlQmxvY2tWaWV3cyIsImluc2VydExlZnRSYWlsQWRzIiwiaW5zZXJ0QmxvY2tWaWV3cyIsInRvZ2dsZUZlYXR1cmVkRmxhZ0luZGljYXRvciIsInRlc3QiLCJ0b2dnbGVTdW1tYXJ5IiwidG9nZ2xlU2hhcmUiLCJhZEhUTUwiLCJyYWlsIiwiJGVsZW1lbnRUb0luc2VydEFmdGVyIiwidmlld1RvVXNlIiwic3R5bGUiLCJtaW5IZWlnaHQiLCJsYXlvdXRCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZEltYWdlIiwic2V0VXBSb3V0ZXJOYXZpZ2F0aW9uIiwiJHByZXZpb3VzIiwicHJldkFsbCIsIiRuZXdBY3RpdmUiLCJ1cGRhdGVBY3RpdmVGaWVsZCIsImRlc3QiLCJkaXIiLCJzdGFydEhpc3RvcnkiLCJjaGFuZ2VUaXRsZSIsIm5hdmlnYXRlIiwiUm91dGVyIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInN1ZmZpeCIsInN1ZmZpeFBvcyIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwiYmFzZVRpdGxlIiwiRG9jdW1lbnRUb3VjaCIsImluZm8iLCJfc2ZfYXN5bmNfY29uZmlnIiwic2VjdGlvbnMiLCJwU1VQRVJGTFkiLCJ2aXJ0dWFsUGFnZSIsInRyYWNrSXRlbVZpZXdDb21zY29yZSIsIkNPTVNDT1JFIiwiYmVhY29uIiwiY29tc2NvcmVWYXJzIiwic2VuZFRvQ29tc2NvcmUiLCJfcGdtaWdub3JlIiwiY2F0IiwiYWN0IiwicGF0aG5hbWUiLCJwYXRoTmFtZSIsImNvbnRlbnRJZCIsImF1dGhvciIsInRhZ3MiLCJmaWxlc1BhdGgiLCJwcmVzZXRzIiwicG9ydHJhaXQiLCJzcXVhcmUiLCJIb3dJdFdvcmtzVmlldyIsIlRpbWVNYWNoaW5lVmlldyIsIlJvd1ZpZXciLCIkc3BvdGlmeURhdGFTb3VyY2UiLCIkYXVkaW9FbGVtZW50IiwiY2xpY2sgLmpzLXRvZ2dsZS1tb2RhbCIsInRvZ2dsZU1vZGFsIiwiVm90aW5nQmFyVmlldyIsIlNwb3RpZnlWaWV3Iiwic3BvdGlmeUlkIiwic3BvdGlmeVVybCIsInNwb3RpZnlQcmV2aWV3VmlldyIsInNwb3RpZnlGb290ZXJWaWV3Iiwidmlld0FyZ3MiLCIkZGF0YVNvdXJjZSIsImNsaWNrIGEueWUtY2hhcnRfX2l0ZW0tbmF2LWxpbmsiLCJzaG93Q2hhcnRJdGVtU3VwcGxlbWVudGFyeSIsInRvTG93ZXJDYXNlIiwibWFnbmlmaWNQb3B1cCIsIm9wZW4iLCJoYXNoIiwiJG5hdkxhYmVsIiwibmV4dFNlbGVjdG9yIiwicHJldlNlbGVjdG9yIiwic2xpZGVXaWR0aCIsImhpZGVDb250cm9sT25FbmQiLCJvblNsaWRlQWZ0ZXIiLCJ5ZWFyIiwicmVtb3ZlUGxheWVyIiwicHJldiIsIiRjdXJyZW50U2xpZGUiLCJnb1RvU2xpZGUiLCJnZXRTbGlkZUNvdW50IiwiY2xpY2sgLnRpbWUtbWFjaGluZV9faXRlbS1tZWRpYSIsInN0YXJ0VmlkZW8iLCJ2aWRlb1BsYXllciIsInNldERpbWVuc2lvbnMiLCJzdG9wTGlzdGVuaW5nIiwiZW5zdXJlQnJpZ2h0Y292ZUFwaSIsIlBsYXllclZpZXciLCJkaXNwb3NlIiwidG91Y2hlbmQgLnllLWNoYXJ0X192b3RlLXRvb2x0aXAtd3JhcHBlciIsIm1vdXNlZW50ZXIgLnllLWNoYXJ0X192b3RlLXRvb2x0aXAtd3JhcHBlciIsIm1vdXNlbGVhdmUgLnllLWNoYXJ0X192b3RlLXRvb2x0aXAtd3JhcHBlciIsInRvZ2dsZVRvb2x0aXAiLCJnZXRDaGFydFRyYWNrcyIsImdldEFydGlzdE9yQWxidW1UcmFja3MiLCJnZXREYXRhUHJvbWlzZSIsInNwb3RpZnlUeXBlIiwiZ2V0TW9kZWwiLCJwbGF5aW5nTW9kZWwiLCJjdXJyZW50UmVzb2x2ZSIsImN1cnJlbnRSZWplY3QiLCJvbmVUaW1lQXVkaW9FbmRlZCIsImdldFByZXZpZXdSZXNvbHZlciIsImF1ZGlvRWxlbWVudCIsInRyYWNrSW5mbyIsImR1cmF0aW9uIiwiY3VycmVudFRpbWUiLCJwcmV2aWV3VXJsIiwiZGVmZXJNb2RlbFBsYXlpbmciLCJpc1BsYXlpbmciLCJwbGF5UHJldmlld3MiLCJwcmV2aWV3cyIsImhhc1ByZXZpZXdzIiwiY3VycmVudFByb21pc2UiLCJ0b2dnbGVQcmV2aWV3Iiwib3BlblNwb3RpZnlVcmwiLCJjb3VudHJ5Q29kZSIsInRyYWNrc0RhdGFCeVVybCIsInByb21pc2VzQnlVcmwiLCJkYXRlIiwiZmV0Y2hpbmdQcm9taXNlIiwidGhpc1JvdyIsIm9yaWdpbmFsSWQiLCJnZXRUcmFja3MiLCJyZXF1ZXN0RGF0YSIsImRhdGFQcm9taXNlIiwiY29udHJvbGxlciIsImNyZWF0ZVNwb3RpZnlWaWV3IiwidHJpZ2dlckNoYW5nZSIsImNsaWNrIC5qcy1zcG90aWZ5LXByZXZpZXciLCJjbGljayAuanMtc3BvdGlmeS1zcG90aWZ5VXJsIiwiZG9TcG90aWZ5UHJldmlldyIsIl90aGlzIiwiZ2V0UHJldmlld3NQcm9taXNlIiwiZG9TcG90aWZ5VXJsIiwiZm9vdGVyVHlwZSIsInJlc3VsdCIsImZldGNoUHJvbWlzZSIsIl90aGlzMiIsImZvcmJpZGRlbkZpZWxkIiwidG9PYmplY3QiLCJ0b0luZGV4IiwiYUxlbiIsImVuZCIsImVuZFBvcyIsInRvSU9iamVjdCIsIklTX0lOQ0xVREVTIiwiZnJvbUluZGV4IiwiTUFUQ0giLCJLRVkiLCJyZSIsImlzQXJyYXlJdGVyIiwiZ2V0SXRlckZuIiwiQlJFQUsiLCJSRVRVUk4iLCJpdGVyYWJsZSIsInN0ZXAiLCJpdGVyYXRvciIsIml0ZXJGbiIsImRvbmUiLCJ1biIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiaXNSZWdFeHAiLCJyZXQiLCJjcmVhdGUiLCJkZXNjcmlwdG9yIiwiU0FGRV9DTE9TSU5HIiwicml0ZXIiLCJmcm9tIiwic2tpcENsb3NpbmciLCJhcnIiLCJpdGVyIiwibWFjcm90YXNrIiwiT2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImlzTm9kZSIsImhlYWQiLCJub3RpZnkiLCJmbHVzaCIsImRvbWFpbiIsImV4aXQiLCJlbnRlciIsInRvZ2dsZSIsIm5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwicHJvbWlzZSIsInRhc2siLCJkUHMiLCJlbnVtQnVnS2V5cyIsIklFX1BST1RPIiwiRW1wdHkiLCJjcmVhdGVEaWN0IiwiaWZyYW1lRG9jdW1lbnQiLCJpZnJhbWUiLCJsdCIsImd0IiwiY29udGVudFdpbmRvdyIsIndyaXRlIiwiY2xvc2UiLCJQcm9wZXJ0aWVzIiwiZ2V0S2V5cyIsImRlZmluZVByb3BlcnRpZXMiLCJPYmplY3RQcm90byIsImNvbnN0cnVjdG9yIiwiYXJyYXlJbmRleE9mIiwibmFtZXMiLCIka2V5cyIsIkRFU0NSSVBUT1JTIiwiU1BFQ0lFUyIsIkMiLCJEIiwiY2hhckF0IiwidmFsdWVPZiIsImNsYXNzb2YiLCJnZXRJdGVyYXRvck1ldGhvZCIsImFkZFRvVW5zY29wYWJsZXMiLCJpdGVyYXRlZCIsIl90IiwiX2kiLCJfayIsIkFyZ3VtZW50cyIsIkludGVybmFsIiwiR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5IiwiV3JhcHBlciIsImFuSW5zdGFuY2UiLCJmb3JPZiIsInNwZWNpZXNDb25zdHJ1Y3RvciIsIm1pY3JvdGFzayIsIlBST01JU0UiLCIkUHJvbWlzZSIsIlVTRV9OQVRJVkUiLCJGYWtlUHJvbWlzZSIsIlByb21pc2VSZWplY3Rpb25FdmVudCIsInNhbWVDb25zdHJ1Y3RvciIsImlzVGhlbmFibGUiLCJuZXdQcm9taXNlQ2FwYWJpbGl0eSIsIlByb21pc2VDYXBhYmlsaXR5IiwiJCRyZXNvbHZlIiwiJCRyZWplY3QiLCJwZXJmb3JtIiwiaXNSZWplY3QiLCJfbiIsImNoYWluIiwiX2MiLCJfdiIsIm9rIiwiX3MiLCJyZWFjdGlvbiIsImZhaWwiLCJfaCIsIm9uSGFuZGxlVW5oYW5kbGVkIiwib25VbmhhbmRsZWQiLCJhYnJ1cHQiLCJpc1VuaGFuZGxlZCIsImVtaXQiLCJvbnVuaGFuZGxlZHJlamVjdGlvbiIsInJlYXNvbiIsIl9hIiwib25yZWplY3Rpb25oYW5kbGVkIiwiJHJlamVjdCIsIl9kIiwiX3ciLCIkcmVzb2x2ZSIsImV4ZWN1dG9yIiwiZXJyIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwiY2F0Y2giLCJjYXBhYmlsaXR5IiwicmVtYWluaW5nIiwiJGluZGV4IiwiYWxyZWFkeUNhbGxlZCIsInJhY2UiLCIkYXQiLCJwb2ludCIsIiRpdGVyYXRvcnMiLCJ3a3MiLCJUT19TVFJJTkdfVEFHIiwiQXJyYXlWYWx1ZXMiLCJjb2xsZWN0aW9ucyIsImJhc2U2NG1hcCIsImNyeXB0Iiwicm90bCIsIm4iLCJyb3RyIiwiZW5kaWFuIiwiTnVtYmVyIiwicmFuZG9tQnl0ZXMiLCJieXRlc1RvV29yZHMiLCJ3b3JkcyIsIndvcmRzVG9CeXRlcyIsImJ5dGVzVG9IZXgiLCJoZXgiLCJoZXhUb0J5dGVzIiwiYnl0ZXNUb0Jhc2U2NCIsImJhc2U2NCIsInRyaXBsZXQiLCJqIiwiYmFzZTY0VG9CeXRlcyIsImltb2Q0IiwicG93IiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiRXZFbWl0dGVyIiwiZXZlbnROYW1lIiwiX2V2ZW50cyIsImxpc3RlbmVycyIsIm9uY2VFdmVudHMiLCJfb25jZUV2ZW50cyIsIm9uY2VMaXN0ZW5lcnMiLCJlbWl0RXZlbnQiLCJpc09uY2UiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwicHJvcCIsIm1ha2VBcnJheSIsIm9iaiIsImFyeSIsIkltYWdlc0xvYWRlZCIsIm9uQWx3YXlzIiwicXVlcnlTZWxlY3RvckFsbCIsImVsZW1lbnRzIiwiZ2V0SW1hZ2VzIiwianFEZWZlcnJlZCIsIkRlZmVycmVkIiwiY2hlY2siLCJMb2FkaW5nSW1hZ2UiLCJpbWciLCJCYWNrZ3JvdW5kIiwiSW1hZ2UiLCJqUXVlcnkiLCJpbWFnZXMiLCJhZGRFbGVtZW50SW1hZ2VzIiwibm9kZU5hbWUiLCJhZGRJbWFnZSIsImJhY2tncm91bmQiLCJhZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyIsIm5vZGVUeXBlIiwiZWxlbWVudE5vZGVUeXBlcyIsImNoaWxkSW1ncyIsImNoaWxkIiwiMSIsIjkiLCIxMSIsImdldENvbXB1dGVkU3R5bGUiLCJyZVVSTCIsImFkZEJhY2tncm91bmQiLCJsb2FkaW5nSW1hZ2UiLCJvblByb2dyZXNzIiwicHJvZ3Jlc3NlZENvdW50IiwiaGFzQW55QnJva2VuIiwiY29tcGxldGUiLCJpc0xvYWRlZCIsImlzQ29tcGxldGUiLCJqcU1ldGhvZCIsImdldElzSW1hZ2VDb21wbGV0ZSIsImNvbmZpcm0iLCJuYXR1cmFsV2lkdGgiLCJwcm94eUltYWdlIiwiaGFuZGxlRXZlbnQiLCJtZXRob2QiLCJ1bmJpbmRFdmVudHMiLCJvbmVycm9yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluc3RhbmNlIiwidCIsImxvYWRlZCIsInAiLCJjYWxsZWQiLCJsb2dFcnJvciIsIm8iLCJfYmlkc1JlcXVlc3RlZCIsInBsYWNlbWVudENvZGUiLCJJIiwiZmxhdHRlbiIsInVuaXF1ZXMiLCJjb250YWlucyIsImlzR3B0UHViYWRzRGVmaW5lZCIsImdldFNsb3RzIiwieiIsImQiLCJnZXRBZFVuaXRQYXRoIiwibG9nTWVzc2FnZSIsImdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmciLCJ3IiwiVEFSR0VUSU5HX0tFWVMiLCJ1IiwiX2FkVW5pdENvZGVzIiwiX2JpZHNSZWNlaXZlZCIsImluY2x1ZGVzIiwiYWRVbml0Q29kZSIsImdldEhpZ2hlc3RDcG0iLCJhZHNlcnZlclRhcmdldGluZyIsInRpbWVUb1Jlc3BvbmQiLCJkZWFsSWQiLCJoYl9kZWFsIiwic2VuZFN0YW5kYXJkVGFyZ2V0aW5nIiwic3Vic3RyaW5nIiwiYmlkZGVyQ29kZSIsImciLCJhZFVuaXRzRmlsdGVyIiwiYWx3YXlzVXNlQmlkIiwiX3NlbmRBbGxCaWRzIiwidiIsImRlZmF1bHRWaWV3IiwiZnJhbWVFbGVtZW50IiwieSIsImFzc2lnbiIsIkEiLCJFIiwiZ2V0R2xvYmFsIiwiTiIsImsiLCJFVkVOVFMiLCJCSURfV09OIiwiTSIsIkFVQ1RJT05fRU5EIiwiTCIsImJpZFdvbiIsIl93aW5uaW5nQmlkcyIsIl9hZHNSZWNlaXZlZCIsImNiVGltZW91dCIsInRpbWVvdXRCdWZmZXIiLCJsb2dnaW5nIiwibGliTG9hZGVkIiwibG9nSW5mbyIsImFkVW5pdHMiLCJnZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIiLCJnZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGUiLCJ0cmFuc2Zvcm1BZFNlcnZlclRhcmdldGluZ09iaiIsImdldEFkc2VydmVyVGFyZ2V0aW5nIiwicmVxdWVzdElkIiwiZ2V0QmlkUmVzcG9uc2VzRm9yQWRVbml0Q29kZSIsImFsbEJpZHNBdmFpbGFibGUiLCJiaWRzQmFja0FsbCIsInJlbmRlckFkIiwiYWRJZCIsImFkVXJsIiwibWVkaWFUeXBlIiwicmVtb3ZlQWRVbml0IiwiY2xlYXJBdWN0aW9uIiwiYWRVbml0Q29kZXMiLCJ2aWRlb0FkVW5pdCIsImhhc05vblZpZGVvQmlkZGVyIiwiZXh0ZXJuYWxDYWxsYmFja1Jlc2V0IiwiYWRkT25lVGltZUNhbGxiYWNrIiwiZXhlY3V0ZUNhbGxiYWNrIiwib25FdmVudCIsImlzRm4iLCJvZmZFdmVudCIsImFkZENhbGxiYWNrIiwiZ2V0VW5pcXVlSWRlbnRpZmllclN0ciIsInJlbW92ZUNhbGxiYWNrIiwicmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyIiwiYmlkc0F2YWlsYWJsZUZvckFkYXB0ZXIiLCJjcmVhdGVCaWQiLCJhZGRCaWRSZXNwb25zZSIsImxvYWRTY3JpcHQiLCJlbmFibGVBbmFseXRpY3MiLCJhbGlhc0JpZGRlciIsImFsaWFzQmlkQWRhcHRlciIsInNldFByaWNlR3JhbnVsYXJpdHkiLCJpc1ZhbGlkZVByaWNlQ29uZmlnIiwic2V0Q3VzdG9tUHJpY2VCdWNrZXQiLCJHUkFOVUxBUklUWV9PUFRJT05TIiwiQ1VTVE9NIiwiZ2V0QWxsV2lubmluZ0JpZHMiLCJidWlsZE1hc3RlclZpZGVvVGFnRnJvbUFkc2VydmVyVGFnIiwiYWRzZXJ2ZXIiLCJkZnBBZHNlcnZlciIsInZlcmlmeUFkc2VydmVyVGFnIiwiYXBwZW5kUXVlcnlQYXJhbXMiLCJmb3JtYXQiLCJ1cmxDb21wb25lbnRzIiwic2V0QmlkZGVyU2VxdWVuY2UiLCJPUkRFUiIsIlJBTkRPTSIsImdldEhpZ2hlc3RDcG1CaWRzIiwiYmlkSWQiLCJnZXRCaWRSZXF1ZXN0IiwiZ2V0VmFsdWUiLCJnZXRCaWRkZXJDb2RlcyIsInNodWZmbGUiLCJyZXBsYWNlVG9rZW5JblN0cmluZyIsIl9lYWNoIiwidG9VcHBlckNhc2UiLCJSZWdFeHAiLCJnZW5lcmF0ZVVVSUQiLCJnZXRCaWRJZFBhcmFtZXRlciIsInRyeUFwcGVuZFF1ZXJ5U3RyaW5nIiwicGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwicGFyc2VTaXplc0lucHV0IiwicGFyc2VHUFRTaW5nbGVTaXplQXJyYXkiLCJnZXRUb3BXaW5kb3dMb2NhdGlvbiIsImdldFRvcFdpbmRvd1VybCIsImxvZ1dhcm4iLCJ3YXJuIiwiaGFzQ29uc29sZUxvZ2dlciIsIkRFQlVHX01PREUiLCJkZWJ1Z1R1cm5lZE9uIiwiY3JlYXRlSW52aXNpYmxlSWZyYW1lIiwiYm9yZGVyIiwiaHNwYWNlIiwidnNwYWNlIiwibWFyZ2luV2lkdGgiLCJtYXJnaW5IZWlnaHQiLCJzY3JvbGxpbmciLCJmcmFtZUJvcmRlciIsImhhc1ZhbGlkQmlkUmVxdWVzdCIsImFkZEV2ZW50SGFuZGxlciIsImF0dGFjaEV2ZW50IiwiaXNBIiwiaXNTdHIiLCJpc051bWJlciIsImlzRW1wdHlTdHIiLCJfbWFwIiwiY3JlYXRlVHJhY2tQaXhlbEh0bWwiLCJlbmNvZGVVUkkiLCJnZXRJZnJhbWVEb2N1bWVudCIsImNvbnRlbnREb2N1bWVudCIsImdldFZhbHVlU3RyaW5nIiwiSlNPTl9NQVBQSU5HIiwiUExfQ09ERSIsIlBMX1NJWkUiLCJQTF9CSURTIiwiQkRfQklEREVSIiwiQkRfSUQiLCJCRF9QTF9JRCIsIkFEU0VSVkVSX1RBUkdFVElORyIsIkJEX1NFVFRJTkdfU1RBTkRBUkQiLCJSRVBPX0FORF9WRVJTSU9OIiwiU1RBVFVTIiwiR09PRCIsIk5PX0JJRCIsIkNCIiwiVFlQRSIsIkFMTF9CSURTX0JBQ0siLCJBRF9VTklUX0JJRFNfQkFDSyIsIm9iamVjdFR5cGVfZnVuY3Rpb24iLCJvYmplY3RUeXBlX3VuZGVmaW5lZCIsIm9iamVjdFR5cGVfb2JqZWN0Iiwib2JqZWN0VHlwZV9zdHJpbmciLCJvYmplY3RUeXBlX251bWJlciIsIkFVQ1RJT05fSU5JVCIsIkJJRF9BREpVU1RNRU5UIiwiQklEX1RJTUVPVVQiLCJCSURfUkVRVUVTVEVEIiwiQklEX1JFU1BPTlNFIiwiRVZFTlRfSURfUEFUSFMiLCJMT1ciLCJNRURJVU0iLCJISUdIIiwiQVVUTyIsIkRFTlNFIiwidmlkZW9BZGFwdGVycyIsImJpZGRlclJlcXVlc3RJZCIsIm1hcFNpemVzIiwiYmlkZGVyUmVnaXN0cnkiLCJ0aW1lc3RhbXAiLCJnZXRUaW1lIiwiYXVjdGlvblN0YXJ0IiwiQmFzZUFkYXB0ZXIiLCJjcmVhdGVOZXciLCJzZXRCaWRkZXJDb2RlIiwiYWRhcHRlciIsInByb3ZpZGVyIiwiX19lc01vZHVsZSIsIm1pbldpZHRoIiwic2NyZWVuIiwic2V0V2luZG93IiwiZ2V0U2NyZWVuV2lkdGgiLCJldmVudFR5cGUiLCJnZXRFdmVudHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzdGFydFRpbWUiLCJrZXl3b3JkcyIsInZpc2l0b3IiLCJpbnZlbnRvcnkiLCJ1c2VySWQiLCJyZWZlcnJlciIsIm1hc1NpemVPcmRlcmluZyIsInN0YXR1cyIsImNyZWF0aXZlX2lkIiwiYWRfaWQiLCJzY3JpcHQiLCJpbXByZXNzaW9uX2lkIiwic2l6ZV9pZCIsImRlYWwiLCIyIiwiOCIsIjEwIiwiMTUiLCIxNiIsIjE5IiwiNDMiLCI0NCIsIjQ4IiwiNTQiLCI1NSIsIjU3IiwiNTgiLCI1OSIsIjYxIiwiNjUiLCI2NyIsIjY4IiwiNzIiLCI3MyIsIjgzIiwiOTQiLCI5NiIsIjEwMSIsIjEwMiIsIjExMyIsIjExNyIsIjEyNSIsIjEyNiIsImdldEJpZGRlckNvZGUiLCJzdGF0dXNNZXNzYWdlIiwiZ2V0U3RhdHVzQ29kZSIsImdldFNpemUiLCJzdXBwcmVzc0VtcHR5S2V5cyIsImJ5QWRVbml0IiwicGJBZyIsInBiRGciLCJwYkxnIiwicGJNZyIsInBiSGciLCJwYkNnIiwib25lVGltZSIsInRpbWVyIiwiZ2V0VGltZWRPdXRCaWRkZXJzIiwicmVzcG9uc2VUaW1lc3RhbXAiLCJyZXF1ZXN0VGltZXN0YW1wIiwiZ2V0UHJpY2VCdWNrZXRTdHJpbmciLCJsb3ciLCJtZWQiLCJoaWdoIiwiYXV0byIsImRlbnNlIiwiY3VzdG9tIiwiZ2V0S2V5VmFsdWVUYXJnZXRpbmdQYWlycyIsInJlZ2lzdGVyRGVmYXVsdEJpZGRlclNldHRpbmciLCJjbGVhclRpbWVvdXQiLCJhZGp1c3RCaWRzIiwicGFyc2VGbG9hdCIsImJ1Y2tldHMiLCJwcmVjaXNpb24iLCJ0b0ZpeGVkIiwiaW5jcmVtZW50IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJYRG9tYWluUmVxdWVzdCIsInJlc3BvbnNlVGV4dCIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicHJlZmxpZ2h0Iiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJob3N0bmFtZSIsImhvc3QiLCJwYXJzZVFTIiwiZm9ybWF0UVMiLCJmcmVlemUiLCJyYXciLCJpc0ludGVnZXIiLCJzZXJ2ZXIiLCJyZWdpb24iLCJwYWdlaWQiLCJwYWdlSWQiLCJzaXplaWQiLCJzaXplSWQiLCJhbGlhcyIsImJpZGZsb29yIiwiYmlkRmxvb3IiLCJtaXNjIiwibmJyIiwic2VhdGJpZCIsImV4dCIsImVuY3AiLCJwcmljZSIsImFkbSIsInBpeGVscyIsImNyZWF0aXZlSWQiLCJjcmlkIiwicHViYXBpSWQiLCJjdXJyZW5jeUNvZGUiLCJjdXIiLCJkZWFsaWQiLCJhb2wiLCJ1cyIsImV1IiwiYXMiLCJtZW1iZXJJZCIsImludkNvZGUiLCJhbHRfcmVmZXJyZXIiLCJtZW1iZXIiLCJoYW5kbGVBbkNCIiwiY2FsbGJhY2tfdWlkIiwiZGVhbF9pZCIsImJ1aWxkSlBUQ2FsbCIsImFzeW5jIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImNhbGxiYWNrcyIsInRyYWNrUGl4ZWwiLCJpc0Zpbml0ZSIsImdldFdpbm5pbmdCaWRCeUNvZGUiLCJlbnYiLCJnZGZwX3JlcSIsImltcGwiLCJ1bnZpZXdlZF9wb3NpdGlvbl9zdGFydCIsImRlc2NyaXB0aW9uX3VybCIsInZhc3RVcmwiLCJjdXN0X3BhcmFtcyIsImNvcnJlbGF0b3IiLCJpc0J1ZmZlciIsImlzU2xvd0J1ZmZlciIsInJlYWRGbG9hdExFIiwiX2lzQnVmZmVyIiwiZW5jb2RlIiwiZGVjb2RlIiwic3RyaW5naWZ5Q29va2llVmFsdWUiLCJwYXJzZUNvb2tpZVZhbHVlIiwicGx1c2VzIiwicmVhZCIsImNvbnZlcnRlciIsImV4cGlyZXMiLCJkYXlzIiwic2V0VGltZSIsInRvVVRDU3RyaW5nIiwic2VjdXJlIiwiY29va2llcyIsInJlbW92ZUNvb2tpZSIsImVuY29kaW5nIiwiRkYiLCJfZmYiLCJHRyIsIl9nZyIsIkhIIiwiX2hoIiwiSUkiLCJfaWkiLCJhYSIsImJiIiwiY2MiLCJkZCIsIl9ibG9ja3NpemUiLCJfZGlnZXN0c2l6ZSIsImRpZ2VzdGJ5dGVzIiwiYXNCeXRlcyIsImFzU3RyaW5nIiwia2V5Q291bnRlciIsIkFkYXB0ZXIiLCJheGlzIiwiaG9yaXpvbnRhbCIsImVuYWJsZWQiLCJ0cmlnZ2VyUG9pbnQiLCJncm91cCIsIkdyb3VwIiwiZmluZE9yQ3JlYXRlIiwiQ29udGV4dCIsImZpbmRPckNyZWF0ZUJ5RWxlbWVudCIsIm9mZnNldEFsaWFzZXMiLCJhbGxXYXlwb2ludHMiLCJxdWV1ZVRyaWdnZXIiLCJlbmFibGUiLCJwcmV2aW91cyIsImludm9rZUFsbCIsImFsbFdheXBvaW50c0FycmF5Iiwid2F5cG9pbnRLZXkiLCJkZXN0cm95QWxsIiwiZGlzYWJsZUFsbCIsImVuYWJsZUFsbCIsInJlZnJlc2hBbGwiLCJ2aWV3cG9ydEhlaWdodCIsImlubmVySGVpZ2h0Iiwidmlld3BvcnRXaWR0aCIsImFkYXB0ZXJzIiwiY29udGludW91cyIsImJvdHRvbS1pbi12aWV3IiwicmlnaHQtaW4tdmlldyIsInJlcXVlc3RBbmltYXRpb25GcmFtZVNoaW0iLCJkaWRTY3JvbGwiLCJkaWRSZXNpemUiLCJvbGRTY3JvbGwiLCJ2ZXJ0aWNhbCIsIndheXBvaW50Q29udGV4dEtleSIsImNvbnRleHRzIiwid2luZG93Q29udGV4dCIsImNyZWF0ZVRocm90dGxlZFNjcm9sbEhhbmRsZXIiLCJjcmVhdGVUaHJvdHRsZWRSZXNpemVIYW5kbGVyIiwib2xkV2luZG93TG9hZCIsImNoZWNrRW1wdHkiLCJob3Jpem9udGFsRW1wdHkiLCJpc0VtcHR5T2JqZWN0IiwidmVydGljYWxFbXB0eSIsImlzV2luZG93IiwicmVzaXplSGFuZGxlciIsImhhbmRsZVJlc2l6ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNjcm9sbEhhbmRsZXIiLCJoYW5kbGVTY3JvbGwiLCJpc1RvdWNoIiwidHJpZ2dlcmVkR3JvdXBzIiwiYXhlcyIsIm5ld1Njcm9sbCIsImZvcndhcmQiLCJiYWNrd2FyZCIsImF4aXNLZXkiLCJpc0ZvcndhcmQiLCJ3YXNCZWZvcmVUcmlnZ2VyUG9pbnQiLCJub3dBZnRlclRyaWdnZXJQb2ludCIsImNyb3NzZWRGb3J3YXJkIiwiY3Jvc3NlZEJhY2t3YXJkIiwiZ3JvdXBLZXkiLCJmbHVzaFRyaWdnZXJzIiwiY29udGV4dE9mZnNldCIsImxlZnQiLCJjb250ZXh0U2Nyb2xsIiwiY29udGV4dERpbWVuc2lvbiIsIm9mZnNldFByb3AiLCJjb250ZXh0TW9kaWZpZXIiLCJ3YXNCZWZvcmVTY3JvbGwiLCJub3dBZnRlclNjcm9sbCIsInRyaWdnZXJlZEJhY2t3YXJkIiwidHJpZ2dlcmVkRm9yd2FyZCIsImFkanVzdG1lbnQiLCJvbGRUcmlnZ2VyUG9pbnQiLCJlbGVtZW50T2Zmc2V0IiwiZnJlc2hXYXlwb2ludCIsImZpbmRCeUVsZW1lbnQiLCJjb250ZXh0SWQiLCJyZXF1ZXN0Rm4iLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJieVRyaWdnZXJQb2ludCIsImJ5UmV2ZXJzZVRyaWdnZXJQb2ludCIsImNsZWFyVHJpZ2dlclF1ZXVlcyIsImdyb3VwcyIsInRyaWdnZXJRdWV1ZXMiLCJ1cCIsImRvd24iLCJyaWdodCIsInJldmVyc2UiLCJpbkFycmF5IiwiaXNMYXN0IiwiZ2V0V2luZG93IiwiTm9GcmFtZXdvcmtBZGFwdGVyIiwiaXNXaW4iLCJyZW1vdmVMaXN0ZW5lcnMiLCJldmVudFBhcnRzIiwibmFtZXNwYWNlIiwibnMiLCJvd25lckRvY3VtZW50Iiwid2luIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFRvcCIsInBhZ2VYT2Zmc2V0IiwiY2xpZW50TGVmdCIsIm5zSGFuZGxlcnMiLCJuc1R5cGVMaXN0IiwiaW5jbHVkZU1hcmdpbiIsImNvbXB1dGVkU3R5bGUiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJtZXJnZSIsImFycmF5IiwibGF6eWxvYWQiLCJzdG9wT3RoZXJWaWRlb3MiLCJpbml0TGlnaHRib3giLCJ0cmFja2luZyIsInZvdGluZyIsImFwcG5leHVzIiwibG9hZEluaXRpYWxDb250ZW50IiwiJGJvZHkiLCJjYWxsRmxvYXRlciIsInVuZmxvYXRTZWxlY3RvciJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFDUCxDQUNBLENBQ0EsQ0FDQSxDQUNBLENBRUQsU0FBU0MsRUFBUUMsRUFBU0MsR0NQaEMsR0FBQUMsR0FBQUQsRUFBQSxXQUNBRSxFQUFBRixFQUFBLElBQ0FH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QkFBaUJpckQsR0FFZ0MsaUJBQXZEeG9ELEVBQUUsdUJBQXVCWSxLQUFLLHVCQUM5QnduRCxFQUFPaHVDLFdBQ1BndUMsRUFBTzl1RCxjL0k2bFFaIiwiZmlsZSI6ImhvbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSxbXG4vKiAwICovLFxuLyogMSAqLyxcbi8qIDIgKi8sXG4vKiAzICovLFxuLyogNCAqLyxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgc3RvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpKCd3a3MnKVxuICAsIHVpZCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KVxuICAsIFN5bWJvbCAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLlN5bWJvbFxuICAsIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRQICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKVxuICAsIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMikgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG4vKioqLyB9LFxuLyogMTAgKi8sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oNDIpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNilcbiAgLCBoaWRlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG4gICwgaGFzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMylcbiAgLCBTUkMgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KSgnc3JjJylcbiAgLCBUT19TVFJJTkcgPSAndG9TdHJpbmcnXG4gICwgJHRvU3RyaW5nID0gRnVuY3Rpb25bVE9fU1RSSU5HXVxuICAsIFRQTCAgICAgICA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg4KS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpO1xufTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywga2V5LCB2YWwsIHNhZmUpe1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJztcbiAgaWYoaXNGdW5jdGlvbiloYXModmFsLCAnbmFtZScpIHx8IGhpZGUodmFsLCAnbmFtZScsIGtleSk7XG4gIGlmKE9ba2V5XSA9PT0gdmFsKXJldHVybjtcbiAgaWYoaXNGdW5jdGlvbiloYXModmFsLCBTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgaWYoTyA9PT0gZ2xvYmFsKXtcbiAgICBPW2tleV0gPSB2YWw7XG4gIH0gZWxzZSB7XG4gICAgaWYoIXNhZmUpe1xuICAgICAgZGVsZXRlIE9ba2V5XTtcbiAgICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihPW2tleV0pT1trZXldID0gdmFsO1xuICAgICAgZWxzZSBoaWRlKE8sIGtleSwgdmFsKTtcbiAgICB9XG4gIH1cbi8vIGFkZCBmYWtlIEZ1bmN0aW9uI3RvU3RyaW5nIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZVxufSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIHRoaXNbU1JDXSB8fCAkdG9TdHJpbmcuY2FsbCh0aGlzKTtcbn0pO1xuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNilcbiAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpXG4gICwgaGlkZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuICAsIHJlZGVmaW5lICA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG4gICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNylcbiAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuICAgICwgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuU1xuICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIHx8IChnbG9iYWxbbmFtZV0gPSB7fSkgOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSlcbiAgICAsIGtleSwgb3duLCBvdXQsIGV4cDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gKG93biA/IHRhcmdldCA6IHNvdXJjZSlba2V5XTtcbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIGV4cCA9IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4dGVuZCBnbG9iYWxcbiAgICBpZih0YXJnZXQpcmVkZWZpbmUodGFyZ2V0LCBrZXksIG91dCwgdHlwZSAmICRleHBvcnQuVSk7XG4gICAgLy8gZXhwb3J0XG4gICAgaWYoZXhwb3J0c1trZXldICE9IG91dCloaWRlKGV4cG9ydHMsIGtleSwgZXhwKTtcbiAgICBpZihJU19QUk9UTyAmJiBleHBQcm90b1trZXldICE9IG91dClleHBQcm90b1trZXldID0gb3V0O1xuICB9XG59O1xuZ2xvYmFsLmNvcmUgPSBjb3JlO1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KVxuICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpXG4gICwgdG9QcmltaXRpdmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MSlcbiAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMikgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuLyoqKi8gfSxcbi8qIDIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMilcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbi8vIHdlIGFzc3VtZSBnb29nbGV0YWcsIGdvb2dsZXRhZy5jbWQsIFBHTSwgYW5kIFBHTS5hZHNcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgY3JlYXRlU2NyaXB0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG52YXIgZ2xvYmFsRGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlYnVnID0gZ2xvYmFsRGVidWcoJ2RmcCcpO1xudmFyIGRlYnVnRGZwQXV0byA9IGdsb2JhbERlYnVnKCdkZnBhdXRvJyk7XG5cbnZhciBzbG90cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xudmFyIGRmcCA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xudmFyIHNsb3RSZW5kZXJFbmRlZEhhbmRsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcbnZhciBzZXR1cFJlc3BvbnNpdmVBZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtcbnZhciBwcmViaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcbnZhciByZXRhcmdldFBhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcbnZhciBzdGlja3lMZWFkZXJib2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xudmFyIGNvbnRlbnRBZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblxuZnVuY3Rpb24gc2V0dXAob3B0aW9ucykge1xuICAgIC8vIGxldCdzIGRvIHRoaXMgb25jZS5cbiAgICB3aW5kb3cuZ29vZ2xldGFnID0gd2luZG93Lmdvb2dsZXRhZyB8fCB7fTtcbiAgICB3aW5kb3cuZ29vZ2xldGFnLmNtZCA9IHdpbmRvdy5nb29nbGV0YWcuY21kIHx8IFtdO1xuXG4gICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHtcbiAgICAgICAgYmlkZGVyczogW11cbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHByZWJpZC5yZWdpc3RlckJpZGRlcihvcHRpb25zLmJpZGRlcnMpO1xuXG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIE9PUCBhZCBpbiB0aGUgc291cmNlLCBkZWZpbmUgaXQuXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGZwLWFkLW8xJykpIHtcbiAgICAgICAgICAgIHNsb3RzLmFkZCgnZGZwLWFkLW8xJywgd2luZG93Lmdvb2dsZXRhZy5kZWZpbmVPdXRPZlBhZ2VTbG90KHdpbmRvdy5QR00uYWRzLmFkVW5pdCwgJ2RmcC1hZC1vMScpLmFkZFNlcnZpY2Uod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKSkpO1xuICAgICAgICAgICAgZGVidWcoJ2RlZmluZWQgbzEgYWQnKTtcbiAgICAgICAgICAgIGRlYnVnRGZwQXV0bygnZGZwYXV0bycsICdvMScsIHt9LCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmFkZEV2ZW50TGlzdGVuZXIoJ3Nsb3RSZW5kZXJFbmRlZCcsIHNsb3RSZW5kZXJFbmRlZEhhbmRsZXIpO1xuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmVuYWJsZVNpbmdsZVJlcXVlc3QoKTtcbiAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5kaXNhYmxlSW5pdGlhbExvYWQoKTtcbiAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5jb2xsYXBzZUVtcHR5RGl2cygpO1xuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLmVuYWJsZVNlcnZpY2VzKCk7XG4gICAgfSk7XG5cbiAgICBzZXR1cFJlc3BvbnNpdmVBZHMoJ3NjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY3cHgpIGFuZCAobWF4LXdpZHRoOiAxMDIzcHgpJyk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2NyZWF0ZVNjcmlwdHMuY3JlYXRlU2NyaXB0VGFnKCcvL3d3dy5nb29nbGV0YWdzZXJ2aWNlcy5jb20vdGFnL2pzL2dwdC5qcycpLCBjcmVhdGVTY3JpcHRzLmNyZWF0ZVNjcmlwdFRhZygnLy9jLmFtYXpvbi1hZHN5c3RlbS5jb20vYWF4Mi9hbXpuX2Fkcy5qcycpXSk7XG59XG5cbi8vIHByaXZhdGUgZnVuY3Rpb25cbmZ1bmN0aW9uIGRlZmluZUNvbnRlbnRBZHMoJGNvbnRlbnQpIHtcbiAgICB2YXIgZGF0YTtcblxuICAgICRjb250ZW50LmZpbmQoJy5kZnAtYWQ6bm90KFtpZF0pJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXS50ZXh0Q29udGVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRlYnVnKCdjb3VsZCBub3QgZXh0cmFjdCBhZCBkYXRhIGZyb20nLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaWQgPSBfLnVuaXF1ZUlkKCdkZnAtYWQtJyk7XG4gICAgICAgIGRmcC5kZWZpbmUodGhpcy5pZCwgZGF0YSwgdGhpcyk7XG4gICAgfSk7XG59XG5cbi8vIHByaXZhdGUgZnVuY3Rpb25cbmZ1bmN0aW9uIGRpc3BsYXlBZHMoaWRzKSB7XG4gICAgLy8gYWNjZXB0cyBzdHJpbmcsIGpRdWVyeSBvYmplY3QsIG9yIGFycmF5XG4gICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgaWRzKSBpZHMgPSBbaWRzXTtlbHNlIGlmICghQXJyYXkuaXNBcnJheShpZHMpKSB7XG4gICAgICAgIGlkcyA9IF8ucGx1Y2soaWRzLmZpbHRlcignLmRmcC1hZCcpLCAnaWQnKTtcbiAgICB9XG5cbiAgICAvLyB3ZSBwdXNoIHByZWJpZCBpbnRvIHRoZSBnb29nbGV0YWcuY21kIHF1ZXVlXG4gICAgLy8gc28gdGhhdCB3ZSBrbm93IGFkcyB3aWxsIGJlIGRlZmluZWQgYmVmb3JlIHRoZXkncmUgcHJlYmlkXG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwcmViaWQuYXVjdGlvbihpZHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRmcC5yZWZyZXNoKGlkcyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBwcml2YXRlIGZ1bmN0aW9uXG5mdW5jdGlvbiBkaXNwbGF5SW5pdGlhbEFkcygkY29udGVudCkge1xuICAgIC8vIGZvciB0aGUgaW5pdGlhbCBsb2FkLCB3aXRoICQoJ2JvZHknKSwgd2UgbmVlZCB0b1xuICAgIC8vIGNhdGNoIGFueSBhZHMgdGhhdCBhcmVuJ3QgY292ZXJlZCBieSBCYWNrYm9uZSB2aWV3c1xuICAgIGRlZmluZUNvbnRlbnRBZHMoJGNvbnRlbnQpO1xuICAgIGRpc3BsYXlBZHMoJGNvbnRlbnQuZmluZCgnLmRmcC1hZCcpKTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUNvbnRlbnRBZHMoY29udGVudFR5cGUsICRjb250ZW50KSB7XG4gICAgdmFyICRhZHMgPSBjb250ZW50QWRzKGNvbnRlbnRUeXBlKSgkY29udGVudCk7XG4gICAgaWYgKCAvLyBpZiB3ZSBhcmUgcmVmcmVzaGluZyBvMSBhbmQgaGF2ZSBhIGpldHBhY2sgZnVuY3Rpb24sIGZpcmUgaXRcbiAgICAkYWRzLmZpbHRlcignLmRmcC1hZC1vMScpLmxlbmd0aCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2Ygd2luZG93LmpwVW5sb2FkVW5pdHMpIHdpbmRvdy5qcFVubG9hZFVuaXRzKCk7XG5cbiAgICByZXRhcmdldFBhZ2UoJGNvbnRlbnQpO1xuICAgIGRpc3BsYXlBZHMoJGFkcyk7XG59XG5cbmV2ZW50cy5vbignY29udGVudExvYWRlZCcsIGRlZmluZUNvbnRlbnRBZHMpO1xuZXZlbnRzLm9uKCdpbml0aWFsQ29udGVudExvYWRlZCcsIGRpc3BsYXlJbml0aWFsQWRzKTtcblxuLy8gYWxsb3cgSlMgdG8gaG9vayBpbnRvIHRoZSBhZHMgc3lzdGVtXG5ldmVudHMub24oJ2FkVGVtcGxhdGVzSW5zZXJ0ZWQnLCBkZWZpbmVDb250ZW50QWRzKTtcbmV2ZW50cy5vbignY29udGVudERpc3BsYXllZCcsIGRpc3BsYXlDb250ZW50QWRzKTtcbmV2ZW50cy5vbigndXJsQ2hhbmdlOnBvc3QnLCBkaXNwbGF5Q29udGVudEFkcyk7XG5cbi8vIERFUFJFQ0FURUQhIERPIE5PVCBVU0UgVEhJUyBFVkVOVCEgRE8gTk9UIEVWRU4gVEhJTksgQUJPVVQgSVQhXG4vLyBAdG9kbyBERUxFVEUgVEhJUyBCVUxMU0hJVCBBUyBTT09OIEFTIEJCIEdBTExFUklFUyBBUkUgUkVXUklUVEVOXG5ldmVudHMub24oJ2FkczpyZWZyZXNoJywgZGZwLnJlZnJlc2gpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzZXR1cDogXy5vbmNlKHNldHVwKSxcbiAgICBzdGlja3lMZWFkZXJib2FyZDogc3RpY2t5TGVhZGVyYm9hcmQsXG4gICAgcmVmcmVzaDogZGlzcGxheUFkc1xufTtcblxuLyoqKi8gfSxcbi8qIDIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInVzZSBzdHJpY3RcIjtcblxuLy8gcHJvdmlkZSBhbiBhcnJheSBvZiBERlAgYWQgc2xvdHNcbnZhciBzbG90cyA9IHt9O1xudmFyIHNpemVzID0ge307XG5cbmZ1bmN0aW9uIGFkZChpZCwgc2xvdCwgc2l6ZU1hcHBpbmcpIHtcbiAgICBzbG90c1tpZF0gPSBzbG90O1xuICAgIHNpemVzW2lkXSA9IHNpemVNYXBwaW5nO1xufVxuXG5mdW5jdGlvbiBnZXQoaWQpIHtcbiAgICByZXR1cm4gc2xvdHNbaWRdIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFNsb3RTaXplcyhpZCkge1xuICAgIHJldHVybiBzaXplc1tpZF0gfHwgW107XG59XG5cbmZ1bmN0aW9uIGdldFNsb3RUYXJnZXRpbmcoaWQpIHtcbiAgICB2YXIgcGFyYW1zID0ge307XG5cbiAgICBzbG90c1tpZF0uZ2V0VGFyZ2V0aW5nS2V5cygpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBwYXJhbXNba2V5XSA9IHNsb3RzW2lkXS5nZXRUYXJnZXRpbmcoa2V5KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBwYXJhbXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFkZDogYWRkLFxuICAgIGdldDogZ2V0LFxuICAgIGdldFNsb3RTaXplczogZ2V0U2xvdFNpemVzLFxuICAgIGdldFNsb3RUYXJnZXRpbmc6IGdldFNsb3RUYXJnZXRpbmdcbn07XG5cbi8qKiovIH0sXG4vKiAyNCAqLyxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0Q29udGVudERhdGEoJGNvbnRlbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogJGNvbnRlbnQuZGF0YSgnaWQnKSxcbiAgICAgICAgY2Fub25pY2FsOiAkY29udGVudC5kYXRhKCdjYW5vbmljYWwnKSxcbiAgICAgICAgdGl0bGU6ICRjb250ZW50LmRhdGEoJ3BhZ2UtdGl0bGUnKSxcbiAgICAgICAgYXV0aG9yczogJGNvbnRlbnQuZmluZCgnLmpzLWF1dGhvcnMtbGlzdCcpLnRleHQoKS5yZXBsYWNlKC8oXlxccyt8XFxzKyQpL2csICcnKSxcbiAgICAgICAgcHVibGlzaERhdGU6ICRjb250ZW50LmZpbmQoJy5qcy1wdWJsaXNoLWRhdGUnKS5kYXRhKCdwdWJkYXRlLXZhbHVlJyksXG4gICAgICAgIGFuYWx5dGljc0NhdGVnb3J5OiAkY29udGVudC5kYXRhKCdhbmFseXRpY3MtY2F0ZWdvcnknKSxcbiAgICAgICAgYW5hbHl0aWNzVGFnczogJGNvbnRlbnQuZGF0YSgnYW5hbHl0aWNzLXRhZ3MnKSxcbiAgICAgICAgY2hhcnRiZWF0U2VjdGlvbjogJGNvbnRlbnQuZGF0YSgnY2hhcnRiZWF0U2VjdGlvbicpXG4gICAgfTtcbn07XG5cbi8qKiovIH0sXG4vKiAyNiAqLyxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcbiAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKCd0b1N0cmluZ1RhZycpXG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcblxuLyoqKi8gfSxcbi8qIDI5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcbiAgLCBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNikuZG9jdW1lbnRcbiAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG4gICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cbi8qKiovIH0sXG4vKiAzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKS5mXG4gICwgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMylcbiAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59O1xuXG4vKioqLyB9LFxuLyogMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NykoJ2tleXMnKVxuICAsIHVpZCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuLyoqKi8gfSxcbi8qIDMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpXG4gICwgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBpZCA9IDBcbiAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuLy8gQnJhbmQgcmVwb3Mgc2hvdWxkIHNldCBhIGNhdGVnb3J5IGF0IHBhZ2UgbG9hZCB0aW1lIHdpdGhcbi8vXG4vLyAgICAgdHJhY2tpbmcuc2V0Q2F0ZWdvcnkoJ2NhdGVnb3J5Jyk7XG4vLyAgICAgdHJhY2tpbmcuc2V0QWN0aW9uKCdhY3Rpb24nKTsgLy8gKG9wdGlvbmFsKVxuLy9cbi8vIEJyYW5kIHJlcG9zIGNhbiBjYWxsIHRyYWNraW5nIGluIG9uZSBvZiAyIHdheXM6XG4vL1xuLy8gICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50JywgdmFsdWVzKTtcbi8vICAgICA8YSBocmVmPVwiI1wiIGRhdGEtdHJhY2tsYWJlbD1cIlRyYWNraW5nIExhYmVsXCI+PC9hPlxuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgdHJhY2tpbmdGdW5jdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCk7XG52YXIgdHJhY2tDb21zY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xudmFyIHRyYWNrR2EgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG52YXIgdHJhY2tDaGFydGJlYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcblxudmFyIGdldENvbnRlbnRJbmZvID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbndpbmRvdy5fZ2FxID0gd2luZG93Ll9nYXEgfHwgW107XG53aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcblxuLy8gTWFrZSB0cmFja2luZyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgUEdNLmV2ZW50cyBBUEkuLi5cbmV2ZW50cy5vbigndHJhY2tFdmVudCcsIHRyYWNraW5nRnVuY3Rpb25zLnRyYWNrRXZlbnQpO1xuZXZlbnRzLm9uKCd0cmFja1BhZ2V2aWV3JywgdHJhY2tpbmdGdW5jdGlvbnMudHJhY2tQYWdldmlldyk7XG5cbi8vIC4uLmFuZCBhbGxvdyB0ZW1wbGF0ZXMgdG8gdXNlIHRyYWNraW5nIGRlY2xhcmF0aXZlbHkuXG4kKCdib2R5Jykub24oJ2NsaWNrJywgJ2FbZGF0YS10cmFja2xhYmVsXSwgYnV0dG9uW2RhdGEtdHJhY2tsYWJlbF0sIFtkYXRhLXRyYWNrbGFiZWxdIGE6bm90KFtkYXRhLXRyYWNrbGFiZWxdKSwgW2RhdGEtdHJhY2tsYWJlbF0gYnV0dG9uOm5vdChbZGF0YS10cmFja2xhYmVsXSknLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgIHZhciB0cmFja0xhYmVsID0gJHRoaXMuYXR0cignZGF0YS10cmFja2xhYmVsJykgfHwgJHRoaXMucGFyZW50cygnW2RhdGEtdHJhY2tsYWJlbF0nKS5hdHRyKCdkYXRhLXRyYWNrbGFiZWwnKSB8fCBmYWxzZTtcbiAgICB2YXIgdHJhY2tBY3Rpb24gPSAkdGhpcy5hdHRyKCdkYXRhLXRyYWNrYWN0aW9uJykgfHwgJHRoaXMucGFyZW50cygnW2RhdGEtdHJhY2thY3Rpb25dJykuYXR0cignZGF0YS10cmFja2FjdGlvbicpIHx8IGZhbHNlO1xuXG4gICAgLy8gYWxsIGNsaWNrIHRyYWNraW5nIHNldHMgbm9uSW50ZXJhY3Rpb24gdG8gdHJ1ZVxuICAgIHZhciB0cmFja2luZ0RhdGEgPSB7IG5vbkludGVyYWN0aW9uOiB0cnVlIH07XG4gICAgaWYgKGZhbHNlICE9PSB0cmFja0xhYmVsKSB0cmFja2luZ0RhdGEubGFiZWwgPSB0cmFja0xhYmVsO1xuICAgIGlmIChmYWxzZSAhPT0gdHJhY2tBY3Rpb24pIHRyYWNraW5nRGF0YS5hY3Rpb24gPSB0cmFja0FjdGlvbjtcblxuICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50JywgdHJhY2tpbmdEYXRhKTtcbn0pO1xuXG4vLyBhc3luYyBwYWdlIGxvYWQgZXZlbnRzXG53aW5kb3cuUEdNLmV2ZW50cy5vbigndXJsQ2hhbmdlOnBvc3QnLCB0cmFja0dhKTtcbndpbmRvdy5QR00uZXZlbnRzLm9uKCd1cmxDaGFuZ2U6cG9zdCcsIHRyYWNrQ29tc2NvcmUpO1xud2luZG93LlBHTS5ldmVudHMub24oJ3VybENoYW5nZTpwb3N0JywgdHJhY2tDaGFydGJlYXQpO1xuXG4vLyBjb21zY29yZSBvbmx5XG53aW5kb3cuUEdNLmV2ZW50cy5vbigndHJhY2tDb21zY29yZScsIHRyYWNrQ29tc2NvcmUpO1xuXG4vLyBAdG9kbyBkZWxldGU/XG5ldmVudHMub24oJ2FzeW5jQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBldmVudHMudHJpZ2dlcigndHJhY2tFdmVudCcsIHtcbiAgICAgICAgYWN0aW9uOiAnU2Nyb2xsJyxcbiAgICAgICAgbGFiZWw6ICdOZXcgQ29udGVudCBMb2FkZWQnXG4gICAgfSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2V0Q2F0ZWdvcnk6IHRyYWNraW5nRnVuY3Rpb25zLnNldENhdGVnb3J5LFxuICAgIHNldEFjdGlvbjogdHJhY2tpbmdGdW5jdGlvbnMuc2V0QWN0aW9uLFxuICAgIGdldENvbnRlbnRJbmZvOiBnZXRDb250ZW50SW5mb1xufTtcblxuLyoqKi8gfSxcbi8qIDM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbi8vIHBnbWZlIGNvbnRlbnRcbnZhciBldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgdHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcbnZhciBlbWJlZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcblxudmFyIGRpcmVjdFJlbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xudmFyIGluUGFnZUxvYWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcbnZhciB0aGlyZFBhcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cbnZhciBhcnRpY2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG52YXIgbG9uZ2Zvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcbnZhciB0b3BpY0luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG52YXIgdG9waWNTcGxhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KTtcblxudmFyIHByb21vID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG52YXIgZ2FsbGVyeSA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xudmFyIGltYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG52YXIgcmVhZG1vcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcbnZhciBoeWJyaWRQbGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblxuLy8gcmVnaXN0ZXIgdGhlIHR5cGVzIHdlIGhhdmVcbnR5cGVzLnJlZ2lzdGVyKCdzdGFuZGFyZCcsIHt9KTsgLy8gbm8gc3BlY2lhbCBiZWhhdmlvclxudHlwZXMucmVnaXN0ZXIoJ2FydGljbGUnLCBhcnRpY2xlKTtcbnR5cGVzLnJlZ2lzdGVyKCdsb25nZm9ybScsIGxvbmdmb3JtKTtcbnR5cGVzLnJlZ2lzdGVyKCd0b3BpY0luZGV4JywgdG9waWNJbmRleCk7XG50eXBlcy5yZWdpc3RlcigndG9waWNTcGxhc2gnLCB0b3BpY1NwbGFzaCk7XG5cbi8vIHJlZ2lzdGVyIHRoZSBlbWJlZHMgd2UgaGF2ZVxuZW1iZWRzLnJlZ2lzdGVyKCdwcm9tbycsIHByb21vLk1vZGVsLCBwcm9tby5WaWV3KTtcbmVtYmVkcy5yZWdpc3RlcignZ2FsbGVyeScsIGdhbGxlcnkuTW9kZWwsIGdhbGxlcnkuVmlldyk7XG5lbWJlZHMucmVnaXN0ZXIoJ2ltYWdlJywgaW1hZ2UuTW9kZWwsIGltYWdlLlZpZXcpO1xuZW1iZWRzLnJlZ2lzdGVyKCdyZWFkbW9yZScsIHJlYWRtb3JlLk1vZGVsLCByZWFkbW9yZS5WaWV3KTtcbmVtYmVkcy5yZWdpc3RlcignaHlicmlkUGxheWVyJywgaHlicmlkUGxheWVyLk1vZGVsLCBoeWJyaWRQbGF5ZXIuVmlldyk7XG5cbi8vIHNldCB1cCBldmVudCBoYW5kbGluZyBmb3IgYWxsIGFzeW5jIHBhZ2VzXG5ldmVudHMub24oJ2NvbnRlbnRSZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICBldmVudHMudHJpZ2dlcignY29udGVudExvYWRlZCcsIHR5cGVzLmF0dGFjaCgpLmFkZChlbWJlZHMuYXR0YWNoKCkpKTtcbn0pO1xuXG5ldmVudHMub24oJ2FzeW5jQ29udGVudFJlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7XG4gICAgZXZlbnRzLnRyaWdnZXIuYXBwbHkoZXZlbnRzLCBbJ2NvbnRlbnRSZWFkeSddLmNvbmNhdChhcmdzKSk7XG4gICAgZXZlbnRzLnRyaWdnZXIuYXBwbHkoZXZlbnRzLCBbJ2FzeW5jQ29udGVudExvYWRlZCddLmNvbmNhdChhcmdzKSk7XG4gICAgdGhpcmRQYXJ0eSgpO1xufSk7XG5cbi8vIGFzeW5jIHBhZ2UgdHlwZXNcbi8vIGluLXBhZ2UgbG9hZGluZ1xuaW5QYWdlTG9hZGluZy5pbml0KCk7XG5cbi8vIGluZmluaXRlIHNjcm9sbFxuZXZlbnRzLm9uKCdjb250ZW50TG9hZGVkJywgZGlyZWN0UmVuZGVyKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdHlwZXM6IHR5cGVzLFxuICAgIGVtYmVkczogZW1iZWRzXG59O1xuXG4vKioqLyB9LFxuLyogMzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIG1vZGVsID0ge1xuICAgIExlZnRSYWlsSXRlbTogQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHt9KSxcbiAgICBUb3BpY0Jsb2NrOiBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe30pLFxuICAgIEFkOiBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe30pLFxuICAgIFRhYm9vbGE6IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7fSlcbn07XG5cbm1vZGVsLkxlZnRSYWlsSXRlbUNvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgbW9kZWw6IG1vZGVsLkxlZnRSYWlsSXRlbVxufSk7XG5cbm1vZGVsLkxlZnRSYWlsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZXQoJ29wdGlvbnMnLCBkYXRhLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNldCgndGl0bGUnLCBkYXRhLnRpdGxlKTtcblxuICAgICAgICB2YXIgbWFpbkxpc3QgPSBuZXcgbW9kZWwuTGVmdFJhaWxJdGVtQ29sbGVjdGlvbihkYXRhLm1haW5MaXN0KTtcblxuICAgICAgICAvLyB0aGUgaW5pdGlhbCBpdGVtIG1pZ2h0IGFwcGVhciBpbiB0aGUgbWFpbkxpc3Qgb3IgaXQgbWlnaHQgbm90LlxuICAgICAgICAvLyByZW1vdmluZyBpdCBhbmQgYWRkaW5nIGl0IGF0IGluZGV4IDAgZ2l2ZXMgdXMgY29uc2lzdGVuY3lcbiAgICAgICAgLy8gc28gd2UgY2FuIGNob29zZSB0byBzaG93IG9yIG5vdCBzaG93IGJhc2VkIG9uIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgIHZhciBpbml0aWFsSWQgPSBkYXRhLmluaXRpYWxJdGVtLmlkO1xuICAgICAgICBtYWluTGlzdC5yZW1vdmUoaW5pdGlhbElkKTtcbiAgICAgICAgbWFpbkxpc3QuYWRkKGRhdGEuaW5pdGlhbEl0ZW0sIHsgYXQ6IDAgfSk7XG5cbiAgICAgICAgdGhpcy5zZXQoJ21haW5MaXN0JywgbWFpbkxpc3QpO1xuXG4gICAgICAgIGlmIChkYXRhLnRvcGljQmxvY2spIHtcbiAgICAgICAgICAgIHZhciB0b3BpY0Jsb2NrRGF0YSA9IG5ldyBtb2RlbC5Ub3BpY0Jsb2NrKGRhdGEudG9waWNCbG9jayk7XG4gICAgICAgICAgICB0aGlzLnNldCgndG9waWNCbG9jaycsIHRvcGljQmxvY2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5QR00uZGVidWcoJ2xlZnRSYWlsJywgJ25vIHRvcGljIGJsb2NrIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFBhdGhBZnRlcklkOiBmdW5jdGlvbiBnZXRQYXRoQWZ0ZXJJZChjdXJyZW50SWQpIHtcbiAgICAgICAgY3VycmVudElkID0gcGFyc2VJbnQoY3VycmVudElkKTtcbiAgICAgICAgdmFyIG1haW5MaXN0ID0gdGhpcy5nZXQoJ21haW5MaXN0Jyk7XG4gICAgICAgIGlmIChtYWluTGlzdC5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgdmFyIG5leHRNb2RlbCA9IG1haW5MaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChmb3VuZCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBmb3VuZCA9IGl0ZW0uZ2V0KCdpZCcpID09PSBjdXJyZW50SWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIG5leHRNb2RlbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0TW9kZWwuZ2V0KCdwYXRoJyk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbW9kZWw7XG5cbi8qKiovIH0sXG4vKiAzOCAqLyxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIGNoYXJlbmMgPSB7XG4gIC8vIFVURi04IGVuY29kaW5nXG4gIHV0Zjg6IHtcbiAgICAvLyBDb252ZXJ0IGEgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIHN0cmluZ1RvQnl0ZXM6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIGNoYXJlbmMuYmluLnN0cmluZ1RvQnl0ZXModW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpKTtcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBzdHJpbmdcbiAgICBieXRlc1RvU3RyaW5nOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoY2hhcmVuYy5iaW4uYnl0ZXNUb1N0cmluZyhieXRlcykpKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQmluYXJ5IGVuY29kaW5nXG4gIGJpbjoge1xuICAgIC8vIENvbnZlcnQgYSBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgc3RyaW5nVG9CeXRlczogZnVuY3Rpb24oc3RyKSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKylcbiAgICAgICAgYnl0ZXMucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBhIHN0cmluZ1xuICAgIGJ5dGVzVG9TdHJpbmc6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciBzdHIgPSBbXSwgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgc3RyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSkpO1xuICAgICAgcmV0dXJuIHN0ci5qb2luKCcnKTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2hhcmVuYztcblxuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG52YXIgVU5TQ09QQUJMRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKCd1bnNjb3BhYmxlcycpXG4gICwgQXJyYXlQcm90byAgPSBBcnJheS5wcm90b3R5cGU7XG5pZihBcnJheVByb3RvW1VOU0NPUEFCTEVTXSA9PSB1bmRlZmluZWQpX193ZWJwYWNrX3JlcXVpcmVfXyg5KShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICBBcnJheVByb3RvW1VOU0NPUEFCTEVTXVtrZXldID0gdHJ1ZTtcbn07XG5cbi8qKiovIH0sXG4vKiA0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLyoqKi8gfSxcbi8qIDQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KVxuICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcbiAgLCByZWRlZmluZSAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG4gICwgaGlkZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG4gICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuICAsIEl0ZXJhdG9ycyAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcbiAgLCAkaXRlckNyZWF0ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KVxuICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcbiAgLCBnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKVxuICAsIElURVJBVE9SICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZmFsc2U7XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTtcblxuLyoqKi8gfSxcbi8qIDQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNilcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY3R4ICAgICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNylcbiAgLCBpbnZva2UgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMilcbiAgLCBodG1sICAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKVxuICAsIGNlbCAgICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgc2V0VGFzayAgICAgICAgICAgID0gZ2xvYmFsLnNldEltbWVkaWF0ZVxuICAsIGNsZWFyVGFzayAgICAgICAgICA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZVxuICAsIE1lc3NhZ2VDaGFubmVsICAgICA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbFxuICAsIGNvdW50ZXIgICAgICAgICAgICA9IDBcbiAgLCBxdWV1ZSAgICAgICAgICAgICAgPSB7fVxuICAsIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnXG4gICwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24oKXtcbiAgdmFyIGlkID0gK3RoaXM7XG4gIGlmKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSl7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYoIXNldFRhc2sgfHwgIWNsZWFyVGFzayl7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pe1xuICAgIHZhciBhcmdzID0gW10sIGkgPSAxO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpe1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZihfX3dlYnBhY2tfcmVxdWlyZV9fKDExKShwcm9jZXNzKSA9PSAncHJvY2Vzcycpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgfSBlbHNlIGlmKE1lc3NhZ2VDaGFubmVsKXtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsO1xuICAgIHBvcnQgICAgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZihPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpe1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogICBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59O1xuXG4vKioqLyB9LFxuLyogNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMilcbiAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohXG4gKiBlbnF1aXJlLmpzIHYyLjEuMSAtIEF3ZXNvbWUgTWVkaWEgUXVlcmllcyBpbiBKYXZhU2NyaXB0XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgTmljayBXaWxsaWFtcyAtIGh0dHA6Ly93aWNreS5uaWxsaWEubXMvZW5xdWlyZS5qc1xuICogTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcbiAqL1xuXG47KGZ1bmN0aW9uIChuYW1lLCBjb250ZXh0LCBmYWN0b3J5KSB7XG5cdHZhciBtYXRjaE1lZGlhID0gd2luZG93Lm1hdGNoTWVkaWE7XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KG1hdGNoTWVkaWEpO1xuXHR9XG5cdGVsc2UgaWYgKHRydWUpIHtcblx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKGNvbnRleHRbbmFtZV0gPSBmYWN0b3J5KG1hdGNoTWVkaWEpKTtcblx0XHR9LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGNvbnRleHRbbmFtZV0gPSBmYWN0b3J5KG1hdGNoTWVkaWEpO1xuXHR9XG59KCdlbnF1aXJlJywgdGhpcywgZnVuY3Rpb24gKG1hdGNoTWVkaWEpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cbiAgICAvKmpzaGludCB1bnVzZWQ6ZmFsc2UgKi9cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGl0ZXJhdGluZyBvdmVyIGEgY29sbGVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0gZm5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlYWNoKGNvbGxlY3Rpb24sIGZuKSB7XG4gICAgICAgIHZhciBpICAgICAgPSAwLFxuICAgICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBjb250O1xuXG4gICAgICAgIGZvcihpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnQgPSBmbihjb2xsZWN0aW9uW2ldLCBpKTtcbiAgICAgICAgICAgIGlmKGNvbnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vYWxsb3cgZWFybHkgZXhpdFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRhcmdldCBvYmplY3QgaXMgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YXJnZXQgdGhlIG9iamVjdCB1bmRlciB0ZXN0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBhcnJheSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodGFyZ2V0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGFyZ2V0IG9iamVjdCBpcyBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IHRoZSBvYmplY3QgdW5kZXIgdGVzdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgZnVuY3Rpb24sIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGVnYXRlIHRvIGhhbmRsZSBhIG1lZGlhIHF1ZXJ5IGJlaW5nIG1hdGNoZWQgYW5kIHVubWF0Y2hlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5tYXRjaCBjYWxsYmFjayBmb3Igd2hlbiB0aGUgbWVkaWEgcXVlcnkgaXMgbWF0Y2hlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLnVubWF0Y2hdIGNhbGxiYWNrIGZvciB3aGVuIHRoZSBtZWRpYSBxdWVyeSBpcyB1bm1hdGNoZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5zZXR1cF0gb25lLXRpbWUgY2FsbGJhY2sgdHJpZ2dlcmVkIHRoZSBmaXJzdCB0aW1lIGEgcXVlcnkgaXMgbWF0Y2hlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGVmZXJTZXR1cD1mYWxzZV0gc2hvdWxkIHRoZSBzZXR1cCBjYWxsYmFjayBiZSBydW4gaW1tZWRpYXRlbHksIHJhdGhlciB0aGFuIGZpcnN0IHRpbWUgcXVlcnkgaXMgbWF0Y2hlZD9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBRdWVyeUhhbmRsZXIob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAhb3B0aW9ucy5kZWZlclNldHVwICYmIHRoaXMuc2V0dXAoKTtcbiAgICB9XG4gICAgUXVlcnlIYW5kbGVyLnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogY29vcmRpbmF0ZXMgc2V0dXAgb2YgdGhlIGhhbmRsZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBzZXR1cCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYodGhpcy5vcHRpb25zLnNldHVwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldHVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpc2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY29vcmRpbmF0ZXMgc2V0dXAgYW5kIHRyaWdnZXJpbmcgb2YgdGhlIGhhbmRsZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBvbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgIXRoaXMuaW5pdGlhbGlzZWQgJiYgdGhpcy5zZXR1cCgpO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1hdGNoICYmIHRoaXMub3B0aW9ucy5tYXRjaCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb29yZGluYXRlcyB0aGUgdW5tYXRjaCBldmVudCBmb3IgdGhlIGhhbmRsZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBvZmYgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy51bm1hdGNoICYmIHRoaXMub3B0aW9ucy51bm1hdGNoKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbGxlZCB3aGVuIGEgaGFuZGxlciBpcyB0byBiZSBkZXN0cm95ZWQuXG4gICAgICAgICAqIGRlbGVnYXRlcyB0byB0aGUgZGVzdHJveSBvciB1bm1hdGNoIGNhbGxiYWNrcywgZGVwZW5kaW5nIG9uIGF2YWlsYWJpbGl0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGVzdHJveSA/IHRoaXMub3B0aW9ucy5kZXN0cm95KCkgOiB0aGlzLm9mZigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZXRlcm1pbmVzIGVxdWFsaXR5IGJ5IHJlZmVyZW5jZS5cbiAgICAgICAgICogaWYgb2JqZWN0IGlzIHN1cHBsaWVkIGNvbXBhcmUgb3B0aW9ucywgaWYgZnVuY3Rpb24sIGNvbXBhcmUgbWF0Y2ggY2FsbGJhY2tcbiAgICAgICAgICpcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0IHx8IGZ1bmN0aW9ufSBbdGFyZ2V0XSB0aGUgdGFyZ2V0IGZvciBjb21wYXJpc29uXG4gICAgICAgICAqL1xuICAgICAgICBlcXVhbHMgOiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMgPT09IHRhcmdldCB8fCB0aGlzLm9wdGlvbnMubWF0Y2ggPT09IHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc2luZ2xlIG1lZGlhIHF1ZXJ5LCBtYW5hZ2VzIGl0J3Mgc3RhdGUgYW5kIHJlZ2lzdGVyZWQgaGFuZGxlcnMgZm9yIHRoaXMgcXVlcnlcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSB0aGUgbWVkaWEgcXVlcnkgc3RyaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNVbmNvbmRpdGlvbmFsPWZhbHNlXSB3aGV0aGVyIHRoZSBtZWRpYSBxdWVyeSBzaG91bGQgcnVuIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgY29uZGl0aW9ucyBhcmUgbWV0LiBQcmltYXJpbHkgZm9yIGhlbHBpbmcgb2xkZXIgYnJvd3NlcnMgZGVhbCB3aXRoIG1vYmlsZS1maXJzdCBkZXNpZ25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZWRpYVF1ZXJ5KHF1ZXJ5LCBpc1VuY29uZGl0aW9uYWwpIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICB0aGlzLmlzVW5jb25kaXRpb25hbCA9IGlzVW5jb25kaXRpb25hbDtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLm1xbCA9IG1hdGNoTWVkaWEocXVlcnkpO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uKG1xbCkge1xuICAgICAgICAgICAgc2VsZi5tcWwgPSBtcWw7XG4gICAgICAgICAgICBzZWxmLmFzc2VzcygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1xbC5hZGRMaXN0ZW5lcih0aGlzLmxpc3RlbmVyKTtcbiAgICB9XG4gICAgTWVkaWFRdWVyeS5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFkZCBhIGhhbmRsZXIgZm9yIHRoaXMgcXVlcnksIHRyaWdnZXJpbmcgaWYgYWxyZWFkeSBhY3RpdmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZXJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlci5tYXRjaCBjYWxsYmFjayBmb3Igd2hlbiBxdWVyeSBpcyBhY3RpdmF0ZWRcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXIudW5tYXRjaF0gY2FsbGJhY2sgZm9yIHdoZW4gcXVlcnkgaXMgZGVhY3RpdmF0ZWRcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXIuc2V0dXBdIGNhbGxiYWNrIGZvciBpbW1lZGlhdGUgZXhlY3V0aW9uIHdoZW4gYSBxdWVyeSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWRcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbaGFuZGxlci5kZWZlclNldHVwPWZhbHNlXSBzaG91bGQgdGhlIHNldHVwIGNhbGxiYWNrIGJlIGRlZmVycmVkIHVudGlsIHRoZSBmaXJzdCB0aW1lIHRoZSBoYW5kbGVyIGlzIG1hdGNoZWQ/XG4gICAgICAgICAqL1xuICAgICAgICBhZGRIYW5kbGVyIDogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICAgICAgdmFyIHFoID0gbmV3IFF1ZXJ5SGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaChxaCk7XG5cbiAgICAgICAgICAgIHRoaXMubWF0Y2hlcygpICYmIHFoLm9uKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbW92ZXMgdGhlIGdpdmVuIGhhbmRsZXIgZnJvbSB0aGUgY29sbGVjdGlvbiwgYW5kIGNhbGxzIGl0J3MgZGVzdHJveSBtZXRob2RzXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBmdW5jdGlvbn0gaGFuZGxlciB0aGUgaGFuZGxlciB0byByZW1vdmVcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUhhbmRsZXIgOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICAgICAgZWFjaChoYW5kbGVycywgZnVuY3Rpb24oaCwgaSkge1xuICAgICAgICAgICAgICAgIGlmKGguZXF1YWxzKGhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGguZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWhhbmRsZXJzLnNwbGljZShpLDEpOyAvL3JlbW92ZSBmcm9tIGFycmF5IGFuZCBleGl0IGVhY2ggZWFybHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG1lZGlhIHF1ZXJ5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgbWF0Y2hcbiAgICAgICAgICogXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgbWVkaWEgcXVlcnkgY2FuIGJlIGNvbnNpZGVyZWQgYSBtYXRjaCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICAgICAqL1xuICAgICAgICBtYXRjaGVzIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tcWwubWF0Y2hlcyB8fCB0aGlzLmlzVW5jb25kaXRpb25hbDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xlYXJzIGFsbCBoYW5kbGVycyBhbmQgdW5iaW5kcyBldmVudHNcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5tcWwucmVtb3ZlTGlzdGVuZXIodGhpcy5saXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLmxlbmd0aCA9IDA7IC8vY2xlYXIgYXJyYXlcbiAgICAgICAgfSxcblxuICAgICAgICAvKlxuICAgICAgICAgKiBBc3Nlc3NlcyB0aGUgcXVlcnksIHR1cm5pbmcgb24gYWxsIGhhbmRsZXJzIGlmIGl0IG1hdGNoZXMsIHR1cm5pbmcgdGhlbSBvZmYgaWYgaXQgZG9lc24ndCBtYXRjaFxuICAgICAgICAgKi9cbiAgICAgICAgYXNzZXNzIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gdGhpcy5tYXRjaGVzKCkgPyAnb24nIDogJ29mZic7XG5cbiAgICAgICAgICAgIGVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJbYWN0aW9uXSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsbG93cyBmb3IgcmVnaXN0cmF0aW9uIG9mIHF1ZXJ5IGhhbmRsZXJzLlxuICAgICAqIE1hbmFnZXMgdGhlIHF1ZXJ5IGhhbmRsZXIncyBzdGF0ZSBhbmQgaXMgcmVzcG9uc2libGUgZm9yIHdpcmluZyB1cCBicm93c2VyIGV2ZW50c1xuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVkaWFRdWVyeURpc3BhdGNoICgpIHtcbiAgICAgICAgaWYoIW1hdGNoTWVkaWEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF0Y2hNZWRpYSBub3QgcHJlc2VudCwgbGVnYWN5IGJyb3dzZXJzIHJlcXVpcmUgYSBwb2x5ZmlsbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5xdWVyaWVzID0ge307XG4gICAgICAgIHRoaXMuYnJvd3NlcklzSW5jYXBhYmxlID0gIW1hdGNoTWVkaWEoJ29ubHkgYWxsJykubWF0Y2hlcztcbiAgICB9XG5cbiAgICBNZWRpYVF1ZXJ5RGlzcGF0Y2gucHJvdG90eXBlID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlcnMgYSBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gbWVkaWEgcXVlcnlcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHEgdGhlIG1lZGlhIHF1ZXJ5XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0IHx8IEFycmF5IHx8IEZ1bmN0aW9ufSBvcHRpb25zIGVpdGhlciBhIHNpbmdsZSBxdWVyeSBoYW5kbGVyIG9iamVjdCwgYSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgb2YgcXVlcnkgaGFuZGxlcnNcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5tYXRjaCBmaXJlZCB3aGVuIHF1ZXJ5IG1hdGNoZWRcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMudW5tYXRjaF0gZmlyZWQgd2hlbiBhIHF1ZXJ5IGlzIG5vIGxvbmdlciBtYXRjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLnNldHVwXSBmaXJlZCB3aGVuIGhhbmRsZXIgZmlyc3QgdHJpZ2dlcmVkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGVmZXJTZXR1cD1mYWxzZV0gd2hldGhlciBzZXR1cCBzaG91bGQgYmUgcnVuIGltbWVkaWF0ZWx5IG9yIGRlZmVycmVkIHVudGlsIHF1ZXJ5IGlzIGZpcnN0IG1hdGNoZWRcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbc2hvdWxkRGVncmFkZT1mYWxzZV0gd2hldGhlciB0aGlzIHBhcnRpY3VsYXIgbWVkaWEgcXVlcnkgc2hvdWxkIGFsd2F5cyBydW4gb24gaW5jYXBhYmxlIGJyb3dzZXJzXG4gICAgICAgICAqL1xuICAgICAgICByZWdpc3RlciA6IGZ1bmN0aW9uKHEsIG9wdGlvbnMsIHNob3VsZERlZ3JhZGUpIHtcbiAgICAgICAgICAgIHZhciBxdWVyaWVzICAgICAgICAgPSB0aGlzLnF1ZXJpZXMsXG4gICAgICAgICAgICAgICAgaXNVbmNvbmRpdGlvbmFsID0gc2hvdWxkRGVncmFkZSAmJiB0aGlzLmJyb3dzZXJJc0luY2FwYWJsZTtcblxuICAgICAgICAgICAgaWYoIXF1ZXJpZXNbcV0pIHtcbiAgICAgICAgICAgICAgICBxdWVyaWVzW3FdID0gbmV3IE1lZGlhUXVlcnkocSwgaXNVbmNvbmRpdGlvbmFsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9ub3JtYWxpc2UgdG8gb2JqZWN0IGluIGFuIGFycmF5XG4gICAgICAgICAgICBpZihpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHsgbWF0Y2ggOiBvcHRpb25zIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBbb3B0aW9uc107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBxdWVyaWVzW3FdLmFkZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVucmVnaXN0ZXJzIGEgcXVlcnkgYW5kIGFsbCBpdCdzIGhhbmRsZXJzLCBvciBhIHNwZWNpZmljIGhhbmRsZXIgZm9yIGEgcXVlcnlcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHEgdGhlIG1lZGlhIHF1ZXJ5IHRvIHRhcmdldFxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBmdW5jdGlvbn0gW2hhbmRsZXJdIHNwZWNpZmljIGhhbmRsZXIgdG8gdW5yZWdpc3RlclxuICAgICAgICAgKi9cbiAgICAgICAgdW5yZWdpc3RlciA6IGZ1bmN0aW9uKHEsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IHRoaXMucXVlcmllc1txXTtcblxuICAgICAgICAgICAgaWYocXVlcnkpIHtcbiAgICAgICAgICAgICAgICBpZihoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5LnJlbW92ZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5xdWVyaWVzW3FdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cdHJldHVybiBuZXcgTWVkaWFRdWVyeURpc3BhdGNoKCk7XG5cbn0pKTtcblxuLyoqKi8gfSxcbi8qIDUyICovLFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIGVucXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZ2xvYmFsRGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlYnVnSW5pdCA9IGdsb2JhbERlYnVnKCdpbml0Jyk7XG52YXIgZGVidWdJbmZpbml0ZSA9IGdsb2JhbERlYnVnKCdpbmZpbml0ZScpO1xuXG52YXIgYXBwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cbnZhciBtb2RlbCA9IHZvaWQgMDtcblxuZnVuY3Rpb24gc2V0dXAob2Zmc2V0KSB7XG4gICAgdmFyICRjb250YWluZXIgPSAkKCcuanMtbGVmdFJhaWwtY29udGFpbmVyJyk7XG5cbiAgICAvLyBiYWlsIGlmIHdlJ3JlIG5vdCBvbiBhIGxlZnRSYWlsIHBhZ2VcbiAgICBpZiAoJGNvbnRhaW5lci5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgZGVidWdJbml0KCdDb3VsZCBub3QgZmluZCBhIGxlZnRSYWlsIHRvIHNldCB1cC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIG1vZGVsID0gbmV3IGFwcC5Nb2RlbC5MZWZ0UmFpbChKU09OLnBhcnNlKCRjb250YWluZXIuZmluZCgnc2NyaXB0JykudGV4dCgpKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkZWJ1Z0luaXQoJ0Vycm9yIHBhcnNpbmcgc2NyaXB0IGxlZnRSYWlsIHNjcmlwdCcsIGUsICRjb250YWluZXIuZmluZCgnc2NyaXB0JykpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXBwLnN0YXJ0KCk7XG4gICAgZXZlbnRzLm9uKCdjb250ZW50TG9hZGVkJywgbGVmdFJhaWxJbmZpbml0ZVNjcm9sbCk7XG4gICAgJCgnLnNpdGUtZm9vdGVyJykuYWRkQ2xhc3MoJ3Blcm1hLWhpZGRlbicpO1xuICAgIHNldHVwU2Nyb2xsUHJvZ3Jlc3MoKTtcblxuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZW5xdWlyZS5yZWdpc3Rlcih3aW5kb3cuUEdNLm1lZGlhUXVlcmllcy5sYXJnZSwge1xuICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2goKSB7XG4gICAgICAgICAgICBuZXcgYXBwLlZpZXcuTGF5b3V0KCkuZ2V0UmVnaW9uKCdsZWZ0UmFpbCcpLnNob3cobmV3IGFwcC5WaWV3LkxlZnRSYWlsKHtcbiAgICAgICAgICAgICAgICBsZWZ0UmFpbE1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogYXBwLlZpZXdNb2RlbC5CZWhhdmlvclxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAkY29udGFpbmVyLndheXBvaW50KCdzdGlja3knLCB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgICAgICAgIH0pLmNzcygndG9wJywgb2Zmc2V0KS5wYXJlbnQoKS5jc3MoJ2Zsb2F0JywgJ2xlZnQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5tYXRjaDogZnVuY3Rpb24gdW5tYXRjaCgpIHtcbiAgICAgICAgICAgICRjb250YWluZXIud2F5cG9pbnQoJ3Vuc3RpY2t5Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gYmluZCBoYW5kbGVycyBmb3IgcHJvZ3Jlc3MgYmFyc1xuZnVuY3Rpb24gc2V0dXBTY3JvbGxQcm9ncmVzcygpIHtcbiAgICB2YXIgcG9zaXRpb24gPSAkKCcuanMtbWFpbldlbGwgYXJ0aWNsZScpLmZpcnN0KCkucG9zaXRpb24oKS50b3A7XG4gICAgdmFyIGhlaWdodCA9ICQoJy5qcy1tYWluV2VsbCBhcnRpY2xlJykuZmlyc3QoKS5oZWlnaHQoKTtcbiAgICB2YXIgJHByb2dyZXNzID0gJCgnLnJhaWwtaXRlbV9fcHJvZ3Jlc3MnKS5maXJzdCgpLmF0dHIoJ21heCcsIGhlaWdodCkuYXR0cigndmFsdWUnLCBNYXRoLm1pbigwLCB3aW5kb3cucGFnZVlPZmZzZXQgLSBwb3NpdGlvbikpO1xuXG4gICAgJCh3aW5kb3cpLnNjcm9sbChfLnRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHByb2dyZXNzLmF0dHIoJ3ZhbHVlJywgTWF0aC5taW4oMCwgd2luZG93LnBhZ2VZT2Zmc2V0IC0gcG9zaXRpb24pKTtcbiAgICB9LCAxMDApKTtcblxuICAgIGV2ZW50cy5vbigndXJsQ2hhbmdlOnBvc3QnLCBmdW5jdGlvbiAoY29udGVudFR5cGUsICRjb250ZW50KSB7XG4gICAgICAgIHBvc2l0aW9uID0gJGNvbnRlbnQucG9zaXRpb24oKS50b3A7XG4gICAgICAgIGhlaWdodCA9ICRjb250ZW50LmhlaWdodCgpO1xuICAgICAgICAkcHJvZ3Jlc3MgPSAkKCcucmFpbC1pdGVtX19wcm9ncmVzcycpLmZpcnN0KCkuYXR0cignbWF4JywgaGVpZ2h0KS5hdHRyKCd2YWx1ZScsIE1hdGgubWluKDAsIHdpbmRvdy5wYWdlWU9mZnNldCAtIHBvc2l0aW9uKSk7XG4gICAgfSk7XG59XG5cbi8vIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBvZiBhdXRvbG9hZCBkaXJlY3QgcmVuZGVyXG5mdW5jdGlvbiBsZWZ0UmFpbEluZmluaXRlU2Nyb2xsKCkge1xuICAgIHZhciAkYXV0b2xvYWRzID0gJCgnLmpzLWxlZnRSYWlsLWxvYWROZXdDb250ZW50Om5vdCguaXMtbGVmdHJhaWwtYXV0b2xvYWQtcHJvY2Vzc2VkKScpO1xuICAgIGlmICgkYXV0b2xvYWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAkKCcuc2l0ZS1mb290ZXInKS5yZW1vdmVDbGFzcygncGVybWEtaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJGF1dG9sb2Fkcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAkdGhpcy53YXlwb2ludChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudElkID0gJHRoaXMuZGF0YSgnY3VycmVudGlkJyk7XG4gICAgICAgICAgICB2YXIgdXJsUHJlZml4ID0gJHRoaXMuZGF0YSgndXJscHJlZml4Jyk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGggPSBtb2RlbC5nZXRQYXRoQWZ0ZXJJZChjdXJyZW50SWQpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRJZCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHVybFByZWZpeCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0luZmluaXRlKCdjdXJyZW50SWQgb3IgdXJsUHJlZml4IGFyZSBudWxsJywgY3VycmVudElkLCB1cmxQcmVmaXgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0luZmluaXRlKCdsZWZ0UmFpbCBtb2RlbCBpcyB1bmRlZmluZWQsIGJhaWxpbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG5leHRQYXRoID09PSAndW5kZWZpbmVkJyB8fCBuZXh0UGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlYnVnSW5maW5pdGUoJ2xlZnRSYWlsTW9kZWwgbmV4dFBhdGggaXMgdW5kZWZpbmVkIGZvcicsIGN1cnJlbnRJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnYXV0b2xvYWQtc3Bpbm5lcicpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogdXJsUHJlZml4ICsgbmV4dFBhdGggKyAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoIHx8ICcnKSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnJlcGxhY2VXaXRoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LlBHTS5ldmVudHMudHJpZ2dlcignYXN5bmNDb250ZW50UmVhZHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAnMTUwJScsXG4gICAgICAgICAgICB0cmlnZ2VyT25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9KS5hZGRDbGFzcygnaXMtbGVmdHJhaWwtYXV0b2xvYWQtcHJvY2Vzc2VkJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNldHVwOiBfLm9uY2Uoc2V0dXApXG59O1xuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuLyoganNoaW50IG5vZGU6IHRydWUsIGVzdmVyc2lvbjogNiAqL1xudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgnbGF6eWxvYWQnKTtcbnZhciBldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGNyZWF0ZVNjcmlwdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIGltYWdlc0xvYWRlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUxKTtcbmltYWdlc0xvYWRlZC5tYWtlSlF1ZXJ5UGx1Z2luKCQpO1xuXG52YXIgc2tpcCA9IGRlYnVnLmdldERhdGEoKSA9PT0gJ3NraXAnO1xuaWYgKHNraXApIHtcbiAgICBkZWJ1Zygnc2tpcHBpbmcgbGF6eWxvYWQnKTtcbn1cblxudmFyIGxvYWRJbWFnZXMgPSBmdW5jdGlvbiBsb2FkSW1hZ2VzKCkge1xuICAgICQoJ2ltZ1tkYXRhLXNyY106bm90KC5qcy1sYXp5bG9hZC1za2lwKScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgc3JjID0gJHRoaXMuYXR0cignZGF0YS1zcmMnKTtcbiAgICAgICAgZGVidWcoJ2ltZycsIHNyYyk7XG4gICAgICAgICR0aGlzLmF0dHIoJ3NyYycsIHNyYyk7XG5cbiAgICAgICAgLy8gYmUgaWRlbXBvdGVudFxuICAgICAgICAkdGhpcy5hdHRyKCdkYXRhLXNyY3dhcycsIHNyYyk7XG4gICAgICAgICR0aGlzLmF0dHIoJ2RhdGEtc3JjJywgbnVsbCk7XG4gICAgfSk7XG59O1xuXG52YXIgbG9hZFNjcmlwdHMgPSBmdW5jdGlvbiBsb2FkU2NyaXB0cygpIHtcbiAgICAkKCdzY3JpcHRbZGF0YS1zcmNdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIHZhciBzcmMgPSAkdGhpcy5hdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICBkZWJ1Zygnc2NyaXB0Jywgc3JjKTtcbiAgICAgICAgLy8gc2NyaXB0IHRhZ3MgdGhhdCBoYXZlIHRoZWlyIHNyYyBzZXQgYmVmb3JlIHdpbmRvdy5sb2FkIHdpbGwgd29ya1xuICAgICAgICAvLyBidXQgYXQgc29tZSBwb2ludCBpbiB0aGUgZmxvdyBzZXR0aW5nIHRoZSBzcmMgYXR0cmlidXRlIHdpbGwgbm90IGNhdXNlIHRoZVxuICAgICAgICAvLyByZXNvdXJjZSB0byBiZSBkb3dubG9hZGVkIGFuZCBleGVjdXRlZC5cbiAgICAgICAgLy8gY3JlZi4gaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvc3BlZWQvc2NyaXB0LWxvYWRpbmcvXG4gICAgICAgIC8vIGZvciBsb3RzIG1vcmUgaW5mb3JtYXRpb24gdGhhdCBpcyBwZXJ0aW5lbnQsIHRob3VnaCBub3QgZGlyZWN0bHkgcmVsYXRlZC5cbiAgICAgICAgY3JlYXRlU2NyaXB0cy5jcmVhdGVTY3JpcHQoc3JjKTtcblxuICAgICAgICAvLyBiZSBpZGVtcG90ZW50XG4gICAgICAgICR0aGlzLmF0dHIoJ2RhdGEtc3Jjd2FzJywgc3JjKTtcbiAgICAgICAgJHRoaXMuYXR0cignZGF0YS1zcmMnLCBudWxsKTtcbiAgICB9KTtcbn07XG5cbnZhciBsb2FkQmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uIGxvYWRCYWNrZ3JvdW5kSW1hZ2VzKCkge1xuICAgICQoJ1tkYXRhLWJnc3JjXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgc3JjID0gJ3VybCgnICsgJCh0aGlzKS5hdHRyKCdkYXRhLWJnc3JjJykgKyAnKSc7XG4gICAgICAgIGRlYnVnKCdiYWNrZ3JvdW5kIGltYWdlJywgc3JjKTtcblxuICAgICAgICAkdGhpcy5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBzcmMpO1xuXG4gICAgICAgIC8vIGJlIGlkZW1wb3RlbnRcbiAgICAgICAgJHRoaXMuYXR0cignZGF0YS1iZ3NyY3dhcycsIHNyYyk7XG4gICAgICAgICR0aGlzLmF0dHIoJ2RhdGEtYmdzcmMnLCBudWxsKTtcbiAgICB9KTtcbn07XG5cbnZhciBsb2FkU2NyaXB0VGVtcGxhdGVzID0gZnVuY3Rpb24gbG9hZFNjcmlwdFRlbXBsYXRlcyhvcHRpb25zKSB7XG4gICAgLy8gYXNzdW1wdGlvbnM6XG4gICAgLy8gLSB0aGF0IGFsbCBvZiB0aGUgc2NyaXB0IHRlbXBsYXRlcyBhcHBlYXIgaW4gdGhlIERPTVxuICAgIC8vICAgYmVmb3JlIHdoZXJlIHRoZSB2aWV3cG9ydCBpc1xuICAgIC8vIC0gdGhhdCB0aGUgc2NyaXB0IHRlbXBsYXRlcyBhbmQgdGhlIG5vbi1sYXp5IGVsZW1lbnRzXG4gICAgLy8gICBhcmUgc2libGluZ3MgaW4gdGhlIERPTVxuICAgIC8vIC0gcHJvYmFibHkgb3RoZXIgdGhpbmdzXG4gICAgdmFyICRjb250ZW50U2NyaXB0cyA9ICQoJ3NjcmlwdC5qcy1sYXp5bG9hZC1ub3Njcm9sbCcpO1xuICAgIGlmICgkY29udGVudFNjcmlwdHMubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIGJhaWwgaWYgdGhpcyBpcyBhbGwgaXJyZWxldmFudFxuXG4gICAgdmFyICRmaXJzdE5vbkxhenlFbGVtZW50ID0gJGNvbnRlbnRTY3JpcHRzLmxhc3QoKS5uZXh0KCk7XG4gICAgdmFyIHNjcm9sbFRvRmlyc3ROb25MYXp5ID0gc2Nyb2xsVG9NZSgkZmlyc3ROb25MYXp5RWxlbWVudCwgb3B0aW9ucy5vZmZzZXR0ZXIpO1xuXG4gICAgJGNvbnRlbnRTY3JpcHRzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgJG5ldyA9ICQoJHRoaXMuaHRtbCgpLnJlcGxhY2UoL3NjcmlwdFRvQmUvZywgJ3NjcmlwdCcpKTtcbiAgICAgICAgJHRoaXMucmVwbGFjZVdpdGgoJG5ldyk7XG4gICAgICAgICRuZXcuaW1hZ2VzTG9hZGVkKCkucHJvZ3Jlc3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2Nyb2xsVG9GaXJzdE5vbkxhenkoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgc2Nyb2xsVG9GaXJzdE5vbkxhenkoKTtcbn07XG5cbnZhciBzY3JvbGxUb01lID0gZnVuY3Rpb24gc2Nyb2xsVG9NZSgkZWxlbWVudCwgYnV0QWxsb3dSb29tRm9yKSB7XG4gICAgaWYgKCRlbGVtZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuICQubm9vcDtcbiAgICB2YXIgb2Zmc2V0ID0gdHlwZW9mIGJ1dEFsbG93Um9vbUZvciAhPT0gJ3VuZGVmaW5lZCcgPyBidXRBbGxvd1Jvb21Gb3IuaGVpZ2h0KCkgOiAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAkZWxlbWVudC5vZmZzZXQoKS50b3AgLSBvZmZzZXQpO1xuICAgIH07XG59O1xuXG52YXIgbG9hZE9uQXN5bmNDb250ZW50TG9hZGVkID0gc2tpcCA/IGZ1bmN0aW9uICgpIHt9IDogZnVuY3Rpb24gKCkge1xuICAgIGV2ZW50cy5vbignYXN5bmNDb250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2FkSW1hZ2VzKCk7XG4gICAgICAgIGxvYWRTY3JpcHRzKCk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBsb2FkSW1hZ2VzOiBza2lwID8gZnVuY3Rpb24gKCkge30gOiBsb2FkSW1hZ2VzLFxuICAgIGxvYWRTY3JpcHRzOiBza2lwID8gZnVuY3Rpb24gKCkge30gOiBsb2FkU2NyaXB0cyxcbiAgICBsb2FkQmFja2dyb3VuZEltYWdlczogc2tpcCA/IGZ1bmN0aW9uICgpIHt9IDogbG9hZEJhY2tncm91bmRJbWFnZXMsXG4gICAgbG9hZE9uQXN5bmNDb250ZW50TG9hZGVkOiBza2lwID8gZnVuY3Rpb24gKCkge30gOiBsb2FkT25Bc3luY0NvbnRlbnRMb2FkZWQsXG4gICAgbG9hZFNjcmlwdFRlbXBsYXRlczogc2tpcCA/IGZ1bmN0aW9uICgpIHt9IDogbG9hZFNjcmlwdFRlbXBsYXRlc1xufTtcblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbi8qIGpzaGludCBub2RlOiB0cnVlLCBlc3ZlcnNpb246IDYgKi9cbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vaW1ha2V3ZWJ0aGluZ3Mvd2F5cG9pbnRzL2lzc3Vlcy80NThcbi8vIGFsc28sIHdheXBvaW50cyBpc24ndCBleHBvcnRpbmcgaXRzZWxmIGFzIGEgZnVuY3Rpb25cbi8vIHNvIGxhdGVyIHdlIHJlZmVyZW5jZSB3aW5kb3cuV2F5cG9pbnQuIGlja1xuX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgnZmxvYXRlcicpO1xuLy8gZ2l2ZW4gYSB3cmFwcGVyIGFuZCBmbG9hdGVyIGVsZW1lbnRcbi8vIHNldCB1cCB3YXlwb2ludFxuLy8gb24gd2F5cG9pbnQgYW5kIGRvd24sIGZsb2F0LCBzdXJyb3VuZCB3aXRoIHdyYXBwZXIgd2l0aCBYXG4vLyBvbiB3YXlwb2ludCBhbmQgdXAsIHVuZmxvYXRcbi8vIGxpc3RlbiBmb3IgY2xpY2sgb24gb3RoZXIgdmlkZW8sIGFuZCB1bmZsb2F0XG4vL1xudmFyIG5leHRJZCA9IDA7XG52YXIgYWxsRmxvYXRlcnMgPSBbXTtcblxudmFyIHJldHJ5VGltZXMgPSBbMjAwLCA0MDAsIDQwMCwgMjAwMF07XG52YXIgdG90YWxXYWl0ID0gcmV0cnlUaW1lcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGI7XG59LCAwKTtcbnZhciBnZXRWaWRlb09iamVjdCA9IGZ1bmN0aW9uIGdldFZpZGVvT2JqZWN0KHZpZGVvSWQsIHJlcXVpcmVkLCBjYWxsYmFjaykge1xuICAgIHZhciByZXRyaWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiByZXRyeVRpbWVzLmxlbmd0aDtcblxuICAgIHZhciB2aWRlbyA9IHdpbmRvdy52aWRlb2pzICYmIHR5cGVvZiB3aW5kb3cudmlkZW9qcyA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3cudmlkZW9qcyh2aWRlb0lkKTtcbiAgICBpZiAodHlwZW9mIHZpZGVvICE9PSAndW5kZWZpbmVkJyAmJiAocmVxdWlyZWQgPT09IG51bGwgfHwgdHlwZW9mIHZpZGVvW3JlcXVpcmVkXSAhPT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgIGNhbGxiYWNrKHZpZGVvKTtcbiAgICB9IGVsc2UgaWYgKHJldHJpZXMgPj0gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdldFZpZGVvT2JqZWN0KHZpZGVvSWQsIHJlcXVpcmVkLCBjYWxsYmFjaywgLS1yZXRyaWVzKTtcbiAgICAgICAgfSwgcmV0cnlUaW1lc1tyZXRyaWVzXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWcoJ25vIHZpZGVvanMgb2JqZWN0IGZvdW5kIGZvciAnICsgdmlkZW9JZCArICcgYWZ0ZXIgJyArIHRvdGFsV2FpdCArICcgbWlsbGlzJyk7XG4gICAgfVxufTtcblxudmFyIEZsb2F0ZXIgPSBmdW5jdGlvbiBGbG9hdGVyKCR3cmFwcGVyLCBvcHRzKSB7XG4gICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdHM7XG4gICAgdmFyIHZpZGVvSWQgPSAkd3JhcHBlci5maW5kKCcudmlkZW8tanMnKS5hdHRyKCdpZCcpO1xuICAgIHZhciB2aWRlb1N0YXJ0VGltZSA9IDA7XG5cbiAgICAvL1ByZXBlbmQgdHJhbnNpdGlvbiBkaXYgZm9yIHN0eWxpbmcgdGhlIGFuaW1hdGlvblxuICAgICR3cmFwcGVyLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJqcy1mbG9hdGVyLXRyYW5zaXRpb25cIj48L2Rpdj4nKTtcblxuICAgIHRoaXMuY3JlYXRlV2F5cG9pbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy53YXlwb2ludCA9IG5ldyB3aW5kb3cuV2F5cG9pbnQoe1xuICAgICAgICAgICAgZWxlbWVudDogJHdyYXBwZXJbMF0sXG4gICAgICAgICAgICBoYW5kbGVyOiBfLmJpbmQoZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBmbG9hdCBpZjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9ycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHZpZGVvIGlzIG5vdCBhdCBhbGwgaW5pdGlhbGl6ZWQgKG5vIGRpdiB3cmFwcGVyIGJ5IHZpZGVvanMpXG4gICAgICAgICAgICAgICAgICAgICdkaXYuanMtZmxvYXRlci1tZWRpYSA+IHZpZGVvW2F1dG9wbGF5XScsXG4gICAgICAgICAgICAgICAgICAgIC8vIE9SIHRoZSB2aWRlbyBhZCBpcyBub3QgaW5pdGlhbGl6ZWQgYW5kIGlzIHNldCB0byBhdXRvcGxheVxuICAgICAgICAgICAgICAgICAgICAnZGl2W2F1dG9wbGF5PXRydWVdLnZqcy1pbWEzLW5vdC1wbGF5aW5nLXlldDpub3QoLnZqcy1pbWEzLXBhdXNlZCknLFxuICAgICAgICAgICAgICAgICAgICAvLyBPUiB0aGUgdmlkZW8gaXMgcGxheWluZ1xuICAgICAgICAgICAgICAgICAgICAnZGl2LnZqcy1wbGF5aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgdGhlIGFkIGlzIHBsYXlpbmcgYW5kIG5vdCBwYXVzZWQgKGJyaWdodGNvdmUvdmlkZW9KUyBpcyBsYW1lKVxuICAgICAgICAgICAgICAgICAgICAnZGl2LnZqcy1hZC1wbGF5aW5nOm5vdCgudmpzLWltYTMtcGF1c2VkKSddO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzZWxlY3RvcnMuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR3cmFwcGVyLmZpbmQoc2VsZWN0b3IpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCdub3QgZmxvYXRpbmcgZHVlIHRvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoc2VsLCAkKHNlbCkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoJHdyYXBwZXIuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5mbG9hdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpLFxuICAgICAgICAgICAgb2Zmc2V0OiBmdW5jdGlvbiBvZmZzZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0wLjUgKiB0aGlzLmVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5mbG9hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVidWcoJ2Zsb2F0aW5nJyk7XG4gICAgICAgICR3cmFwcGVyLmZpbmQoJy5qcy1mbG9hdGVyLW1lZGlhJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZmxvYXRlcl9fY2xvc2UgZmEgZmEtY2xvc2UganMtZmxvYXRlci1jbG9zZVwiPjwvZGl2PicpO1xuICAgICAgICAkd3JhcHBlci5maW5kKCcuanMtZmxvYXRlci1tZWRpYScpLmFkZENsYXNzKCdmbG9hdGluZycpO1xuICAgICAgICAkd3JhcHBlci5maW5kKCcuanMtZmxvYXRlci10cmFuc2l0aW9uJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgIC8vRm9yIHRoZSBGYWRlXG4gICAgICAgICR3cmFwcGVyLmZpbmQoJy5qcy1mbG9hdGVyLW1lZGlhJykuYWRkQ2xhc3MoXCJ0cmFuc2l0aW9uaW5nXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR3cmFwcGVyLmZpbmQoJy5qcy1mbG9hdGVyLW1lZGlhJykucmVtb3ZlQ2xhc3MoXCJ0cmFuc2l0aW9uaW5nXCIpO1xuICAgICAgICB9LCA1MCk7XG5cbiAgICAgICAgZ2V0VmlkZW9PYmplY3QodmlkZW9JZCwgJ21lZGlhaW5mbycsIGZ1bmN0aW9uICh2aWRlbykge1xuICAgICAgICAgICAgdmlkZW8ud2lkdGgoNDIwKTtcbiAgICAgICAgICAgIHZpZGVvLmhlaWdodCgyNDApO1xuXG4gICAgICAgICAgICAvLyBBbmFseXplXG4gICAgICAgICAgICB2aWRlb1N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB3aW5kb3cuUEdNLmV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50Jywge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3N0aWNreSBzdGFydCcsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFt2aWRlby5tZWRpYWluZm8uaWQsIHZpZGVvLm1lZGlhaW5mby5uYW1lXS5qb2luKCcgLSAnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnVuZmxvYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlYnVnKCd1bmZsb2F0aW5nJyk7XG5cbiAgICAgICAgaWYgKCR3cmFwcGVyLmZpbmQoJy5mbG9hdGluZycpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgJHdyYXBwZXIuZmluZCgnLmZsb2F0ZXJfX2Nsb3NlJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAkd3JhcHBlci5maW5kKCcuanMtZmxvYXRlci1tZWRpYScpLnJlbW92ZUNsYXNzKCdmbG9hdGluZycpO1xuICAgICAgICAgICAgJHdyYXBwZXIuZmluZCgnLmpzLWZsb2F0ZXItdHJhbnNpdGlvbicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgZ2V0VmlkZW9PYmplY3QodmlkZW9JZCwgJ21lZGlhaW5mbycsIGZ1bmN0aW9uICh2aWRlbykge1xuICAgICAgICAgICAgICAgIHZpZGVvLndpZHRoKCdhdXRvJyk7XG4gICAgICAgICAgICAgICAgdmlkZW8uaGVpZ2h0KCdhdXRvJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbmFseXplXG4gICAgICAgICAgICAgICAgd2luZG93LlBHTS5ldmVudHMudHJpZ2dlcigndHJhY2tFdmVudCcsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnc3RpY2t5IGNsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbdmlkZW8ubWVkaWFpbmZvLmlkLCB2aWRlby5tZWRpYWluZm8ubmFtZV0uam9pbignIC0gJyksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBNYXRoLnJvdW5kKChEYXRlLm5vdygpIC0gdmlkZW9TdGFydFRpbWUpIC8gMTAwMClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICR3cmFwcGVyLm9uKFwiY2xpY2tcIiwgJy5mbG9hdGVyX19jbG9zZScsIHsgZmxvYXRlcjogdGhpcyB9LCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICBnZXRWaWRlb09iamVjdCh2aWRlb0lkLCAnYWRzJywgZnVuY3Rpb24gKHZpZGVvKSB7XG4gICAgICAgICAgICAvLyB3ZSBrbm93IHZpZGVvLmFkcyBleGlzdHNcbiAgICAgICAgICAgIC8vIGJ1dCBub3Qgd2hldGhlciB2aWRlby5pbWEzLmFkc01hbmFnZXIgZXhpc3RzXG4gICAgICAgICAgICBpZiAodmlkZW8uYWRzLnN0YXRlID09PSAnYWQtcGxheWJhY2snKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFkc01hbmFnZXIgPSB2aWRlby5pbWEzICYmIHZpZGVvLmltYTMuYWRzTWFuYWdlcjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFkc01hbmFnZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkc01hbmFnZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygndmlkZW8uaW1hMy5hZHNNYW5hZ2VyIGNhbm5vdCBwYXVzZSBkdWUgdG8gYmVpbmcgJywgdmlkZW8uaW1hMywgdmlkZW8uaW1hMyAmJiB2aWRlby5pbWEzLmFkc01hbmFnZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXZlbnQuZGF0YS5mbG9hdGVyLnVuZmxvYXQoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcbnZhciBnZXRGbG9hdGVyID0gZnVuY3Rpb24gZ2V0RmxvYXRlcigkd3JhcHBlciwgb3B0aW9ucykge1xuICAgIGRlYnVnKCduZXcgZmxvYXRlciBmb3InLCAkd3JhcHBlcik7XG4gICAgdmFyIG1vZGVsID0gbmV3IEZsb2F0ZXIoJHdyYXBwZXIsIG9wdGlvbnMpO1xuICAgIGFsbEZsb2F0ZXJzLnB1c2gobW9kZWwpO1xuICAgIHJldHVybiBtb2RlbDtcbn07XG5cbnZhciBjcmVhdGVGbG9hdGVyID0gZnVuY3Rpb24gY3JlYXRlRmxvYXRlcihvcHRpb25zKSB7XG4gICAgLy8gdmVyaWZ5IHNvbWUgcmVxdWlyZWQgb3B0aW9uc1xuICAgIFsnd3JhcHBlcicsICd1bmZsb2F0U2VsZWN0b3InXS5mb3JFYWNoKGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zW3JlcV0gPT09ICd1bmRlZmluZWQnKSB0aHJvdyB7XG4gICAgICAgICAgICBuYW1lOiAnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24nLFxuICAgICAgICAgICAgbWVzc2FnZTogJ29wdGlvbnMuJyArIHJlcSArICcgaXMgcmVxdWlyZWQnXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICB2YXIgJHdyYXBwZXIgPSAkKG9wdGlvbnMud3JhcHBlcik7XG5cbiAgICBpZiAoJHdyYXBwZXIuaGFzQ2xhc3MoJ2lzLWZsb2F0ZXItcHJvY2Vzc2VkJykpIHJldHVybjtcbiAgICAkd3JhcHBlci5hZGRDbGFzcygnaXMtZmxvYXRlci1wcm9jZXNzZWQnKTtcblxuICAgIHZhciBtb2RlbCA9IGdldEZsb2F0ZXIoJHdyYXBwZXIsIG9wdGlvbnMpO1xuICAgIG1vZGVsLmNyZWF0ZVdheXBvaW50KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUZsb2F0ZXI7XG5cbi8qKiovIH0sXG4vKiA1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQmFja2JvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBhZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxudmFyICRkb2N1bWVudCA9IHZvaWQgMDtcbnZhciBwYWdlTGlnaHRib3ggPSB2b2lkIDA7XG5cbnZhciBMaWdodGJveENvbnRlbnQgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIHR5cGU6ICcnLFxuICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgdHJhY2tpbmdMYWJlbDogJ01haW4gSW1hZ2UnXG4gICAgfVxufSk7XG5cbnZhciBEZWZhdWx0Q29udGVudFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgYWRUZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2Fkcy9zbG90J10sXG4gICAgdGFnTmFtZTogJ2FydGljbGUnLFxuICAgIGNsYXNzTmFtZTogZnVuY3Rpb24gY2xhc3NOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ2xpZ2h0Ym94LWNvbnRlbnQgbGlnaHRib3gtY29udGVudC0tJyArIHRoaXMubW9kZWwuZ2V0KCd0eXBlJyk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLm1vZGVsLmdldCgnY29udGVudCcpKTtcblxuICAgICAgICB0aGlzLm9uUmVuZGVyKCk7IC8vIGV4dGVuc2libGUhXG5cbiAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2NvbnRlbnRMb2FkZWQnLCB0aGlzLiRlbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb25SZW5kZXI6IF8ubm9vcFxufSk7XG5cbnZhciBDb250ZW50Vmlld3MgPSB7fTtcbkNvbnRlbnRWaWV3cy5nYWxsZXJ5ID0gRGVmYXVsdENvbnRlbnRWaWV3LmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy50cmFjayh7XG4gICAgICAgICAgICBhY3Rpb246ICdFeHBhbmQnLFxuICAgICAgICAgICAgbGFiZWw6IHRoaXMubW9kZWwuZ2V0KCd0cmFja2luZ0xhYmVsJylcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLmFkVGVtcGxhdGUoeyBzbG90OiB3aW5kb3cuUEdNLmFkcy5kYXRhLnNsb3RzLmxpZ2h0Ym94IH0pKTtcbiAgICAgICAgdGhpcy5zbGlkZXIgPSB0aGlzLiQoJy5qcy1zbGlkZXInKS5ieFNsaWRlcih7XG4gICAgICAgICAgICBwYWdlcjogZmFsc2UsXG4gICAgICAgICAgICBpbmZpbml0ZUxvb3A6IHRydWUsXG4gICAgICAgICAgICBzbGlkZU1hcmdpbjogNDAsXG4gICAgICAgICAgICBuZXh0VGV4dDogJycsXG4gICAgICAgICAgICBwcmV2VGV4dDogJycsXG4gICAgICAgICAgICBvblNsaWRlQmVmb3JlOiBfLmJpbmQodGhpcy5zbGlkZUJlZm9yZUhhbmRsZXIsIHRoaXMpXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRkb2N1bWVudC5vbigna2V5dXAuJyArIHRoaXMuY2lkLCBfLmJpbmQodGhpcy5rZXl1cEhhbmRsZXIsIHRoaXMpKTtcblxuICAgICAgICBfLmRlZmVyKF8uYmluZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnNsaWRlci5yZWRyYXdTbGlkZXIoKTtcbiAgICAgICAgfSwgdGhpcykpO1xuICAgIH0sXG4gICAgc2xpZGVCZWZvcmVIYW5kbGVyOiBmdW5jdGlvbiBzbGlkZUJlZm9yZUhhbmRsZXIoJHNsaWRlLCBvbGRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICAgICAgdGhpcy4kKCcuanMtc2xpZGUtY291bnQnKS50ZXh0KG5ld0luZGV4ICsgMSk7XG4gICAgICAgIHRoaXMuJCgnLmpzLXNsaWRlLXRpdGxlJykudGV4dCgkc2xpZGUuZGF0YSgndGl0bGUnKSk7XG4gICAgICAgIHRoaXMuJCgnLmpzLXNsaWRlLWRlc2NyaXB0aW9uJykudGV4dCgkc2xpZGUuZGF0YSgnZGVzY3JpcHRpb24nKSk7XG4gICAgICAgIHRoaXMuJCgnLmpzLXNsaWRlLWNyZWRpdCcpLnRleHQoJHNsaWRlLmRhdGEoJ2NyZWRpdCcpKTtcbiAgICAgICAgaWYgKCsrdGhpcy5jb3VudGVyICUgMyA9PT0gMCkge1xuICAgICAgICAgICAgYWRzLnJlZnJlc2godGhpcy4kKCcuZGZwLWFkJykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2soe1xuICAgICAgICAgICAgYWN0aW9uOiAnSXRlbScsXG4gICAgICAgICAgICBsYWJlbDogJ0NsaWNrJ1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGtleXVwSGFuZGxlcjogZnVuY3Rpb24ga2V5dXBIYW5kbGVyKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgLy8gcmlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlci5nb1RvTmV4dFNsaWRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgIC8vIGxlZnRcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlci5nb1RvUHJldlNsaWRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRyYWNrOiBmdW5jdGlvbiB0cmFjayhvcHRzKSB7XG4gICAgICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50JywgXy5leHRlbmQoe1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdHYWxsZXJ5J1xuICAgICAgICB9LCBvcHRzKSk7XG4gICAgfSxcbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5qcy1nYWxsZXJ5LW1ldGEtdG9nZ2xlJzogJ3RvZ2dsZU1ldGEnXG4gICAgfSxcbiAgICB0b2dnbGVNZXRhOiBmdW5jdGlvbiB0b2dnbGVNZXRhKCkge1xuICAgICAgICB0aGlzLiQoJy5qcy1nYWxsZXJ5LW1ldGEnKS50b2dnbGVDbGFzcygnY29sbGFwc2VkJyk7XG4gICAgICAgIHRoaXMuJCgnLmpzLWdhbGxlcnktbWV0YS10b2dnbGUnKS50b2dnbGVDbGFzcygnZ2FsbGVyeS1zbGlkZV9fbWV0YS10b2dnbGUtLWV4cGFuZCBmYSBmYS1hbmdsZS1kb3duJyk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2xpZGVyICYmIHRoaXMuc2xpZGVyLmRlc3Ryb3lTbGlkZXIpIHRoaXMuc2xpZGVyLmRlc3Ryb3lTbGlkZXIoKTtcbiAgICAgICAgdGhpcy5zbGlkZXIgPSBudWxsO1xuICAgICAgICAkZG9jdW1lbnQub2ZmKCcuJyArIHRoaXMuY2lkKTtcbiAgICAgICAgdGhpcy50cmFjayh7IGFjdGlvbjogJ0Nsb3NlJyB9KTtcbiAgICAgICAgQmFja2JvbmUuVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgfVxufSk7XG5cbnZhciBMaWdodGJveCA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBjbGFzc05hbWU6ICdsaWdodGJveCBsaWdodGJveC0tbG9hZGluZycsXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAuanMtbGlnaHRib3gtY2xvc2UnOiAncmVtb3ZlJ1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICRkb2N1bWVudC5vbigna2V5dXAuJyArIHRoaXMuY2lkLCBfLmJpbmQodGhpcy5rZXl1cEhhbmRsZXIsIHRoaXMpKTtcblxuICAgICAgICBpZiAodGhpcy5tb2RlbCAmJiAhdGhpcy5jb250ZW50VmlldykgdGhpcy5sb2FkQ29udGVudCh0aGlzLm1vZGVsKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGxvYWRDb250ZW50OiBmdW5jdGlvbiBsb2FkQ29udGVudChtb2RlbCkge1xuICAgICAgICB2YXIgQ29udGVudFZpZXcgPSBDb250ZW50Vmlld3NbbW9kZWwuZ2V0KCd0eXBlJyldIHx8IERlZmF1bHRDb250ZW50VmlldztcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuXG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdsaWdodGJveC0tbG9hZGluZycpO1xuICAgICAgICB0aGlzLmNvbnRlbnRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KHsgbW9kZWw6IG1vZGVsIH0pLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNvbnRlbnRWaWV3LiRlbC5hcHBlbmRUbyh0aGlzLmVsKTtcbiAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2NvbnRlbnREaXNwbGF5ZWQnLCAnbGlnaHRib3gtJyArIG1vZGVsLmdldCgndHlwZScpLCB0aGlzLmNvbnRlbnRWaWV3LiRlbCk7XG4gICAgfSxcbiAgICBrZXl1cEhhbmRsZXI6IGZ1bmN0aW9uIGtleXVwSGFuZGxlcihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB0aGlzLnJlbW92ZSgpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRWaWV3KSB0aGlzLmNvbnRlbnRWaWV3LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmNvbnRlbnRWaWV3ID0gbnVsbDtcbiAgICAgICAgcGFnZUxpZ2h0Ym94ID0gbnVsbDtcbiAgICAgICAgJGRvY3VtZW50Lm9mZignLicgKyB0aGlzLmNpZCk7XG4gICAgICAgIEJhY2tib25lLlZpZXcucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xuXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsICdbZGF0YS1saWdodGJveC1jb250ZW50LXBhdGhdJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdHJhY2tpbmdMYWJlbCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWxpZ2h0Ym94LXRyYWNraW5nLWxhYmVsJyk7XG4gICAgICAgIHZhciBnYWxsZXJ5UGF0aCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWxpZ2h0Ym94LWNvbnRlbnQtcGF0aCcpO1xuICAgICAgICBpZiAoIWdhbGxlcnlQYXRoLnN0YXJ0c1dpdGgoJy8nKSkgZ2FsbGVyeVBhdGggPSAnLycgKyBnYWxsZXJ5UGF0aDtcblxuICAgICAgICBpZiAocGFnZUxpZ2h0Ym94KSBwYWdlTGlnaHRib3gucmVtb3ZlKCk7XG4gICAgICAgIHBhZ2VMaWdodGJveCA9IG5ldyBMaWdodGJveCgpO1xuICAgICAgICBwYWdlTGlnaHRib3gucmVuZGVyKCkuJGVsLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvZmVfZGF0YS9saWdodGJveCcgKyBnYWxsZXJ5UGF0aCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBwYWdlTGlnaHRib3gubG9hZENvbnRlbnQobmV3IExpZ2h0Ym94Q29udGVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdnYWxsZXJ5JywgLy8gQHRvZG8gbWFrZSBtb3JlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nTGFiZWw6IHRyYWNraW5nTGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICBwYWdlTGlnaHRib3gucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLyoqKi8gfSxcbi8qIDU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ3ZpZGVvJyk7XG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIGZpcnN0VGltZSA9IHRydWU7XG52YXIgc2V0VXBOZXdQbGF5ZXJzID0gZnVuY3Rpb24gc2V0VXBOZXdQbGF5ZXJzKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93LnZpZGVvanMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGVidWcoJ25vIHZpZGVvanMsIHRyeSBhZ2FpbiBvbmNlLicpO1xuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoc2V0VXBOZXdQbGF5ZXJzLCAyMDAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgXy5lYWNoKHdpbmRvdy52aWRlb2pzLmdldFBsYXllcnMoKSwgZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAvLyBvbiBwYWdlLXJlcGxhY2VtZW50IHBhZ2VzIGxpa2UgdmlkZW8gcGFnZXNcbiAgICAgICAgLy8gd2luZG93LnZpZGVvanMuZ2V0UGxheWVycygpIGNhbiByZXR1cm4gYSBwbGF5ZXIgdGhhdCBpcyBudWxsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhhdCBwbGF5ZXIgd2FzIHRha2VuIG9mZiB0aGUgcGFnZS5cbiAgICAgICAgaWYgKHBsYXllciA9PT0gbnVsbCB8fCB0eXBlb2YgcGxheWVyID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIHBsYXllci5wZ20gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBkZWJ1Zygnc2V0dGluZyB1cCBuZXcgcGxheWVyICcsIHBsYXllci5pZCgpKTtcbiAgICAgICAgICAgIHBsYXllci5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbihbJ3BsYXknLCAnYWRzLXBsYXknXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wT3RoZXJQbGF5ZXJzKHBsYXllcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZ20gPSB7fTtcblxuICAgICAgICAgICAgICAgIC8vIGRvIGEgb25lLXRpbWUgY2hlY2tcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGF1c2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcE90aGVyUGxheWVycyh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxudmFyIHN0b3BPdGhlclBsYXllcnMgPSBmdW5jdGlvbiBzdG9wT3RoZXJQbGF5ZXJzKHBsYXlpbmcpIHtcbiAgICBkZWJ1Zygnc3RvcHBpbmcgcGxheWVycyBiZXNpZGVzJywgcGxheWluZy5pZCgpKTtcbiAgICBfLmVhY2god2luZG93LnZpZGVvanMuZ2V0UGxheWVycygpLCBmdW5jdGlvbiAocGxheWVyKSB7XG4gICAgICAgIGlmIChwbGF5ZXIuaWQoKSA9PT0gcGxheWluZy5pZCgpKSByZXR1cm47XG4gICAgICAgIHBsYXllci5wYXVzZSgpO1xuICAgICAgICBpZiAocGxheWVyLmltYTMgJiYgcGxheWVyLmltYTMuYWRzTWFuYWdlciAmJiB0eXBlb2YgcGxheWVyLmltYTMuYWRzTWFuYWdlci5wYXVzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGxheWVyLmltYTMuYWRzTWFuYWdlci5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoJChwbGF5aW5nLmVsKCkpLnBhcmVudHMoJy5qcy1mbG9hdGVyLW1lZGlhLmZsb2F0aW5nJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIHdlIGFyZSBub3QgYSBmbG9hdGVyLCBzbyB0ZWxsIHRoZSBmbG9hdGVyIHRvIGNsb3NlIChpZiBpdCBleGlzdHMpXG4gICAgICAgIHdpbmRvdy5QR00uZGVidWcoJ2Zsb2F0ZXInLCAnY2xvc2luZyBkdWUgdG8gb3RoZXIgdmlkZW8gcGxheWluZycpO1xuICAgICAgICAkKCcuanMtZmxvYXRlci1jbG9zZScpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfVxufTtcblxuLy8gd2hlbiBuZXcgY29udGVudCBjb21lcyBpbiwgZW5zdXJlIHRoZXkgYXJlIGFsbCBzZXQgdXBcbmV2ZW50cy5vbignYXN5bmNDb250ZW50TG9hZGVkJywgc2V0VXBOZXdQbGF5ZXJzKTtcblxuLy8gd2hlbiBhIHBsYXllciBpcyBjbGlja2VkIG9uLCBlbnN1cmUgdGhleSBhcmUgYWxsIHNldCB1cFxuJCgnYm9keScpLm9uKCdjbGljaycsICcudmlkZW8tanMnLCBzZXRVcE5ld1BsYXllcnMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFVwTmV3UGxheWVycztcblxuLyoqKi8gfSxcbi8qIDU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBub1BsYWNlbWVudHMgPSB7IGhvbWVwYWdlOiBbXSwgcm9zOiBbXSB9O1xuXG52YXIgcGxhY2VtZW50SWRzID0ge1xuICAgICczMDB4MjUwJzoge1xuICAgICAgICBtb2JpbGU6IG5vUGxhY2VtZW50cyxcbiAgICAgICAgZGVza3RvcDoge1xuICAgICAgICAgICAgaG9tZXBhZ2U6IFsnNDMyNjA2NycsICc0MzI2MDYyJ10sXG4gICAgICAgICAgICByb3M6IFsnNDMyNjA5MicsICc0MzI2MDkxJ11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgJzMwMHg2MDAnOiB7XG4gICAgICAgIG1vYmlsZTogbm9QbGFjZW1lbnRzLFxuICAgICAgICBkZXNrdG9wOiB7XG4gICAgICAgICAgICBob21lcGFnZTogWyc0MzI2MDY2JywgJzQzMjYwNjMnXSwgLy8gbm90aGluZ1xuICAgICAgICAgICAgcm9zOiBbJzQzMjYwOTgnLCAnNDMyNjEwMCddXG4gICAgICAgIH1cbiAgICB9LFxuICAgICc3Mjh4OTAnOiB7XG4gICAgICAgIG1vYmlsZTogbm9QbGFjZW1lbnRzLFxuICAgICAgICBkZXNrdG9wOiB7XG4gICAgICAgICAgICBob21lcGFnZTogWyc0MzI2MDY5JywgJzQzMjYwNjQnXSxcbiAgICAgICAgICAgIHJvczogWyc0MzI2MDk3JywgJzQzMjYwOTQnXVxuICAgICAgICB9XG4gICAgfSxcbiAgICAnOTcweDI1MCc6IHtcbiAgICAgICAgbW9iaWxlOiBub1BsYWNlbWVudHMsXG4gICAgICAgIGRlc2t0b3A6IHtcbiAgICAgICAgICAgIGhvbWVwYWdlOiBbJzQzMjYwNjUnXSxcbiAgICAgICAgICAgIHJvczogWyc0MzI2MDk2JywgJzQzMjYwOTknXVxuICAgICAgICB9XG4gICAgfSxcbiAgICAnOTcweDkwJzoge1xuICAgICAgICBtb2JpbGU6IG5vUGxhY2VtZW50cyxcbiAgICAgICAgZGVza3RvcDoge1xuICAgICAgICAgICAgaG9tZXBhZ2U6IFsnNDMyNjA2MScsICc0MzI2MDY4J10sXG4gICAgICAgICAgICByb3M6IFsnNDMyNjA5MycsICc0MzI2MDk1J11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgJzMwMHg1MCc6IHtcbiAgICAgICAgZGVza3RvcDogbm9QbGFjZW1lbnRzLFxuICAgICAgICBtb2JpbGU6IHtcbiAgICAgICAgICAgIGhvbWVwYWdlOiBbJzQzMjYwODUnLCAnNDMyNjA4NyddLFxuICAgICAgICAgICAgcm9zOiBbJzQzMjYxMTYnLCAnNDMyNjExNCcsICc0MzI2MTE3J11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgJzMyMHg1MCc6IHtcbiAgICAgICAgZGVza3RvcDogbm9QbGFjZW1lbnRzLFxuICAgICAgICBtb2JpbGU6IHtcbiAgICAgICAgICAgIGhvbWVwYWdlOiBbJzQzMjYwODYnLCAnNDMyNjA4OCddLFxuICAgICAgICAgICAgcm9zOiBbJzQzMjYxMTUnLCAnNDMyNjExMicsICc0MzI2MTEzJ11cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8vIHRlbGwgdXMgaWYgd2UncmUgbW9iaWxlIG9yIGRlc2t0b3BcbmZ1bmN0aW9uIGdldFZpZXdwb3J0U2l6ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDwgNzY3ID8gJ21vYmlsZScgOiAnZGVza3RvcCc7XG59XG4vLyB0ZWxsIHVzIGlmIHdlJ3JlIG9uIHRoZSBob21lcGFnZSBvciBub3RcbmZ1bmN0aW9uIGdldFNlY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoJ2hvbWVwYWdlJykgIT09IC0xID8gJ2hvbWVwYWdlJyA6ICdyb3MnO1xufVxuXG5mdW5jdGlvbiBnZXRJZChpZHMpIHtcbiAgICByZXR1cm4gaWRzLmxlbmd0aCA+IDEgPyBpZHMuc2hpZnQoKSA6IGlkc1swXTtcbn1cblxuLy8gY3JlYXRlIGEgYmlkZGVyIHRoYXQgcmV0dXJucyBvbmUgb2YgYSBsaXN0IG9mIElEcyBmb3IgYSBnaXZlbiBwbGFjZW1lbnQgc2l6ZVxuZnVuY3Rpb24gbWFrZUJpZGRlcihzaXplLCBiaWREYXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0QmlkOiBmdW5jdGlvbiBnZXRCaWQob3B0aW9ucykge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBkZXNpcmVkIHNpemUsIGRvbid0IHJldHVybiBhIGJpZFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2l6ZXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuam9pbigneCcpO1xuICAgICAgICAgICAgfSkuaW5kZXhPZihzaXplKSA9PT0gLTEpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICB2YXIgcGxhY2VtZW50SWQgPSBnZXRJZChiaWREYXRhW2dldFZpZXdwb3J0U2l6ZSgpXVtnZXRTZWN0aW9uKCldKTtcbiAgICAgICAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHBsYWNlbWVudElkKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiaWRkZXI6ICdhb2wnLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiAnMTAxODkuMScsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8gcmV0dXJuIGFuIGFycmF5IG9mIGJpZGRlcnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMocGxhY2VtZW50SWRzKS5tYXAoZnVuY3Rpb24gKHNpemUpIHtcbiAgICByZXR1cm4gbWFrZUJpZGRlcihzaXplLCBwbGFjZW1lbnRJZHNbc2l6ZV0pO1xufSk7XG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcGxhY2VtZW50SWRzID0ge1xuICAgIGRlc2t0b3A6IHtcbiAgICAgICAgaG9tZXBhZ2U6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODMnLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1Njg0J1xuICAgICAgICB9LFxuICAgICAgICByb3M6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODUnLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1Njg2J1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtb2JpbGU6IHtcbiAgICAgICAgaG9tZXBhZ2U6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODcnLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1Njg4J1xuICAgICAgICB9LFxuICAgICAgICByb3M6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODknLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1NjkwJ1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIHZhbGlkU2l6ZXMgPSB7XG4gICAgZGVza3RvcDogWyc3Mjh4OTAnLCAnOTcweDI1MCcsICc5NzB4OTAnLCAnMzAweDI1MCcsICczMDB4NjAwJ10sXG4gICAgbW9iaWxlOiBbJzMwMHgyNTAnLCAnMzIweDUwJywgJzMwMHg1MCddXG59O1xuXG4vLyB0ZWxsIHVzIGlmIHdlJ3JlIG1vYmlsZSBvciBkZXNrdG9wXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFNpemUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IDc2NyA/ICdtb2JpbGUnIDogJ2Rlc2t0b3AnO1xufVxuXG4vLyB0ZWxsIHVzIGlmIHdlJ3JlIG9uIHRoZSBob21lcGFnZSBvciBub3RcbmZ1bmN0aW9uIGdldFNlY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoJ2hvbWVwYWdlJykgIT09IC0xID8gJ2hvbWVwYWdlJyA6ICdyb3MnO1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3YWJpbGl0eShwb3NUYXJnZXRpbmcpIHtcbiAgICByZXR1cm4gcG9zVGFyZ2V0aW5nID09PSAnbTEnIHx8IHBvc1RhcmdldGluZyA9PT0gJ3QnID8gJ2hpZ2hWaWV3YWJpbGl0eScgOiAnb3RoZXInO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkU2l6ZShzbG90U2l6ZXMpIHtcbiAgICB2YXIgc2l6ZXNGb3JWaWV3cG9ydCA9IHZhbGlkU2l6ZXNbZ2V0Vmlld3BvcnRTaXplKCldO1xuICAgIHZhciBsID0gc2xvdFNpemVzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoLTEgIT09IHNpemVzRm9yVmlld3BvcnQuaW5kZXhPZihzbG90U2l6ZXNbaV0pKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYW4gYXJyYXkgb2YgYmlkZGVyc1xubW9kdWxlLmV4cG9ydHMgPSBbe1xuICAgIGdldEJpZDogZnVuY3Rpb24gZ2V0QmlkKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMudGFyZ2V0aW5nLnBvcykgfHwgLy8gc2FmZXR5XG4gICAgICAgICFpc1ZhbGlkU2l6ZShvcHRpb25zLnNpemVzLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHMuam9pbigneCcpO1xuICAgICAgICB9KSkpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiaWRkZXI6ICdhcHBuZXh1cycsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnRJZDogcGxhY2VtZW50SWRzW2dldFZpZXdwb3J0U2l6ZSgpXVtnZXRTZWN0aW9uKCldW2dldFZpZXdhYmlsaXR5KG9wdGlvbnMudGFyZ2V0aW5nLnBvc1swXSldXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufV07XG5cbi8qKiovIH0sXG4vKiA2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2l6ZUlkcyA9IHtcbiAgICAnNzI4eDkwJzogMixcbiAgICAnMTYweDYwMCc6IDksXG4gICAgJzMwMHg2MDAnOiAxMCxcbiAgICAnMzAweDI1MCc6IDE1LFxuICAgICczMjB4NTAnOiA0MyxcbiAgICAnMzAweDUwJzogNDQsXG4gICAgJzk3MHgyNTAnOiA1N1xufTtcblxuZnVuY3Rpb24gZ2V0Wm9uZUlkKCkge1xuICAgIHN3aXRjaCAoZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHJhY2tjYXRlZ29yeScpKSB7XG4gICAgICAgIGNhc2UgJ0FydGljbGUnOlxuICAgICAgICBjYXNlICdsb25nZm9ybSc6XG4gICAgICAgICAgICByZXR1cm4gJzE3NzA0NCc7XG4gICAgICAgIGNhc2UgJ1Bob3Rvcyc6XG4gICAgICAgICAgICByZXR1cm4gJzE3NzA0Nic7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoJ2NoYXJ0LXBhZ2UnKSAhPT0gLTEgfHwgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUuaW5kZXhPZigneWUtY2hhcnRzLXBhZ2UnKSAhPT0gLTEpIHJldHVybiAnMTc3MDQyJztcblxuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5pbmRleE9mKCdob21lcGFnZScpICE9PSAtMSkgcmV0dXJuICcxNzcwNDAnO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRCaWQob3B0aW9ucykge1xuICAgIHZhciBiaWQgPSB7XG4gICAgICAgIGJpZGRlcjogJ3J1Ymljb24nLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGFjY291bnRJZDogJzExODcyJyxcbiAgICAgICAgICAgIHNpdGVJZDogJzQxNDAwJyxcbiAgICAgICAgICAgIHpvbmVJZDogZ2V0Wm9uZUlkKCkgfHwgJzE3NzAzOCcsXG4gICAgICAgICAgICBzaXplczogb3B0aW9ucy5zaXplcy5tYXAoZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZUlkc1tzaXplLmpvaW4oJ3gnKV07XG4gICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhaWQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMudGFyZ2V0aW5nLnBvcykgJiYgKG9wdGlvbnMudGFyZ2V0aW5nLnBvc1swXSA9PT0gJ20xJyB8fCBvcHRpb25zLnRhcmdldGluZy5wb3NbMF0gPT09ICd0JykpIHtcbiAgICAgICAgYmlkLnBhcmFtcy56b25lSWQgPSAnMTc3MDM4JztcbiAgICAgICAgYmlkLnBhcmFtcy5wb3NpdGlvbiA9ICdhdGYnO1xuICAgIH1cblxuICAgIHJldHVybiBiaWQucGFyYW1zLnNpemVzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBiaWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGJpZGRlclNldHRpbmdzOiB7XG4gICAgICAgIHJ1Ymljb246IHtcbiAgICAgICAgICAgIGJpZENwbUFkanVzdG1lbnQ6IGZ1bmN0aW9uIGJpZENwbUFkanVzdG1lbnQoY3BtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNwbSAqIDAuODU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEJpZDogZ2V0QmlkXG59O1xuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblxudmFyIEVtYmVkc0Jhc2VNb2RlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKTtcblxudmFyIHllQ2hhcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyk7XG5cbmNvbnRlbnQuZW1iZWRzLnNldEJhc2VNb2RlbChFbWJlZHNCYXNlTW9kZWwpO1xuXG5jb250ZW50LnR5cGVzLnJlZ2lzdGVyKCd5ZWFyRW5kQ2hhcnQnLCB5ZUNoYXJ0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50O1xuXG4vKioqLyB9LFxuLyogNjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIG1kNSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcbl9fd2VicGFja19yZXF1aXJlX18oMTU0KTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ3ZvdGUnKTtcblxudmFyIHZvdGVUeXBlcyA9IFsnb25lJywgJ3VwJywgJ2Rvd24nXTtcblxuLy8gdG9kbyBmaXggaW50byBiYWNrYm9uZSB2aWV3XG52YXIgJGNoYXJ0ID0gJCgnLnllLWNoYXJ0X19oZWFkZXInKTtcbnZhciBjaGFydENvZGUgPSAkY2hhcnQuZGF0YSgnY2hhcnQtY29kZScpO1xudmFyIGNoYXJ0RGF0ZSA9ICRjaGFydC5kYXRhKCdjaGFydC1kYXRlJyk7XG52YXIgY29va2llTmFtZSA9IGNoYXJ0Q29kZSArICdfXycgKyBjaGFydERhdGU7XG5cbnZhciB1bmlxdWVJbmZvID0gJyc7XG52YXIgZ2FjID0gJC5jb29raWUoJ19nYScpO1xuaWYgKHR5cGVvZiBnYWMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHBhcnRzID0gZ2FjLnNwbGl0KCcuJyk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgdW5pcXVlSW5mbyA9IG1kNShwYXJ0c1syXSk7XG4gICAgfVxufVxuXG52YXIgZ2V0Vm90ZXMgPSBmdW5jdGlvbiBnZXRWb3RlcygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAkLmFqYXgoJy9mZV9kYXRhL2NoYXJ0cy9nZXRWb3Rlcy8nICsgY2hhcnRDb2RlICsgJy8nICsgY2hhcnREYXRlLCB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2b3RlVHlwZXMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2b3RlVG90YWwgPSArdmFsdWVbdm90ZVR5cGVzW2ldXTsgLy8gdHlwZSBjb2VyY2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWJ1Zy5nZXREYXRhKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGZvciB2b3RlIHN0dWZmaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvdGVUb3RhbCArPSArZGVidWcuZ2V0RGF0YSgpOyAvLyB0eXBlIGNvZXJjaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvdGVUb3RhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b3RlVG90YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodm90ZVRvdGFsID4gMTAwMCAmJiB2b3RlVG90YWwgPCAxMDAwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvdGVUb3RhbCA9IE1hdGgucm91bmQodm90ZVRvdGFsIC8gMTAwKSAvIDEwICsgJ0snO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodm90ZVRvdGFsID49IDEwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm90ZVRvdGFsID0gTWF0aC5yb3VuZCh2b3RlVG90YWwgLyAxMDAwMDApIC8gMTAgKyAnTSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIueWUtY2hhcnRfX2l0ZW1bZGF0YS1yYW5rPVwiICsgaW5kZXggKyBcIl0gLnllLWNoYXJ0X192b3RlLWxhYmVsLS1cIiArIHZvdGVUeXBlc1tpXSkudGV4dCh2b3RlVG90YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ1Ryb3VibGUgcmV0cmlldmluZyB2b3RlIGNvdW50IDooJyk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLy8gY29va2llIHZhbHVlIGlzIHRoZSByZXN1bHQgb2Ygam9pbidpbmcgd2l0aCAsXG4vLyAwLDEsLTEsLTEsMlxuLy8gcmFuayAxID0gdm90ZSBvbiBmaXJzdCBpdGVtICgwLWluZGV4ZWQpXG4vLyByYW5rIDIgPSB2b3RlIG9uIHNlY29uZCBpdGVtXG4vLyByYW5rIDMgYW5kIDQgPSBubyB2b3RlXG4vLyByYW5rIDUgPSB2b3RlIG9uIDNyZCBpdGVtXG4vL1xuLy8gdW5wYWNrZWQgdmVyc2lvbiBpcyB0aGUgcmVzdWx0IG9mIHNwbGl0J2luZyB3aXRoICxcblxudmFyIHVucGFja1ZvdGVzID0gZnVuY3Rpb24gdW5wYWNrVm90ZXMoY29va2llVmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIGNvb2tpZVZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBjb29raWVWYWx1ZSA9PT0gbnVsbCB8fCAhY29va2llVmFsdWUubWF0Y2goL15bLTAxMixdKyQvKSkge1xuICAgICAgICBjb29raWVWYWx1ZSA9IG51bGw7IC8vIGtpbGwgb2ZmIG9sZC1zdHlsZSBjb29raWVzXG4gICAgfVxuICAgIHZhciB1c2VyVm90ZXMgPSBuZXcgQXJyYXkoJCgnLnllLWNoYXJ0X19pdGVtJykubGVuZ3RoKS5maWxsKC0xKTtcbiAgICBpZiAoY29va2llVmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIGNvb2tpZVZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdXNlclZvdGVzO1xuICAgIH1cbiAgICB2YXIgcm93Vm90ZXMgPSBjb29raWVWYWx1ZS5zcGxpdCgnLCcpO1xuICAgIHJvd1ZvdGVzID0gXy5tYXAocm93Vm90ZXMsIF8ucGFydGlhbChwYXJzZUludCwgXywgMTApKTsgLy8gY29udmVydCB0byBpbnRzXG4gICAgdmFyIG1heExlbmd0aCA9IE1hdGgubWF4KHJvd1ZvdGVzLmxlbmd0aCwgdXNlclZvdGVzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhMZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcm93Vm90ZSA9IHJvd1ZvdGVzW2ldO1xuICAgICAgICBpZiAocm93Vm90ZSA8IDAgfHwgcm93Vm90ZSA+PSB2b3RlVHlwZXMubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgdXNlclZvdGVzW2ldID0gcm93Vm90ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlclZvdGVzO1xufTtcblxudmFyIHBvcHVsYXRlRXhpc3RpbmdWb3RlcyA9IGZ1bmN0aW9uIHBvcHVsYXRlRXhpc3RpbmdWb3Rlcyh1c2VyVm90ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJWb3Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIHVzZXJWb3Rlc1tpXSA9PT0gJ3VuZGVmaW5lZCcpIGNvbnRpbnVlO1xuICAgICAgICBpZiAodXNlclZvdGVzW2ldID49IDApIHtcbiAgICAgICAgICAgICQoXCIueWUtY2hhcnRfX2l0ZW1bZGF0YS1yYW5rPSdcIiArIChpICsgMSkgKyBcIiddIGlucHV0W3ZhbHVlPSdcIiArIHZvdGVUeXBlc1t1c2VyVm90ZXNbaV1dICsgXCInXVwiKS5hdHRyKFwiY2hlY2tlZFwiLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBzZXR1cFZvdGVBY3Rpb25zID0gZnVuY3Rpb24gc2V0dXBWb3RlQWN0aW9ucyh1c2VyVm90ZXMpIHtcbiAgICAkKCdpbnB1dC55ZS1jaGFydF9fdm90ZS1pbnB1dFt0eXBlPXJhZGlvXScpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkY2hhcnRJdGVtID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIHZvdGVUeXBlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdmFyIHJhbmsgPSArJGNoYXJ0SXRlbS5jbG9zZXN0KCcueWUtY2hhcnRfX2l0ZW0nKS5kYXRhKCdyYW5rJyk7IC8vIGNvbnZlcnQgdG8gaW50XG5cbiAgICAgICAgdmFyIGluZGV4UmFuayA9IHJhbmsgLSAxO1xuICAgICAgICBpZiAodXNlclZvdGVzW2luZGV4UmFua10gPj0gMCkge1xuICAgICAgICAgICAgdmFyIHVzZXJWb3RlVHlwZTtcbiAgICAgICAgICAgIHZhciAkcHJldlZvdGU7XG4gICAgICAgICAgICB2YXIgcHJldlZvdGVDb3VudDtcblxuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1c2VyVm90ZVR5cGUgPSB2b3RlVHlwZXNbdXNlclZvdGVzW2luZGV4UmFua11dO1xuICAgICAgICAgICAgICAgIC8vIHVzZXIgaGFzIGFscmVhZHkgdm90ZWQgb24gdGhpcyByb3dcblxuICAgICAgICAgICAgICAgIC8vIGZpcnN0LCBzaG93IHRoZSB1c2VyIHMvaGUgaGFzIHVudm90ZWRcblxuICAgICAgICAgICAgICAgICRwcmV2Vm90ZSA9ICQoXCIueWUtY2hhcnRfX2l0ZW1bZGF0YS1yYW5rPVwiICsgcmFuayArIFwiXSAueWUtY2hhcnRfX3ZvdGUtbGFiZWwtLVwiICsgdXNlclZvdGVUeXBlKTtcbiAgICAgICAgICAgICAgICBwcmV2Vm90ZUNvdW50ID0gKyRwcmV2Vm90ZS50ZXh0KCk7IC8vIHR5cGUgY29udmVyc2lvblxuXG4gICAgICAgICAgICAgICAgaWYgKHByZXZWb3RlQ291bnQgLSAxID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJHByZXZWb3RlLnRleHQocHJldlZvdGVDb3VudCAtIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHRoZW4gdGVsbCB0aGUgc3lzdGVtXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IFsnL2ZlX2RhdGEvY2hhcnRzL3ZvdGUnLCB1bmlxdWVJbmZvLCBjaGFydENvZGUsIGNoYXJ0RGF0ZSwgcmFuaywgdXNlclZvdGVUeXBlLCAnZG93biddLmpvaW4oJy8nKTtcblxuICAgICAgICAgICAgICAgICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCd2b3RlIGRlY3JlbWVudGVkJywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoJ3Ryb3VibGUgZGVjcmVtZW50aW5nIHZvdGUnLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCB0ZWxsIHRoZSB1c2VyIHMvaGUgaGFzIHZvdGVkXG4gICAgICAgIHZhciAkbmV3Vm90ZSA9ICQoXCIueWUtY2hhcnRfX2l0ZW1bZGF0YS1yYW5rPVwiICsgcmFuayArIFwiXSAueWUtY2hhcnRfX3ZvdGUtbGFiZWwtLVwiICsgdm90ZVR5cGUpO1xuICAgICAgICB2YXIgbmV3Vm90ZUNvdW50ID0gKyRuZXdWb3RlLnRleHQoKTsgLy8gdHlwZSBjb252ZXJzaW9uXG4gICAgICAgIGlmIChuZXdWb3RlQ291bnQgKyAxID4gMCkge1xuICAgICAgICAgICAgJG5ld1ZvdGUudGV4dChuZXdWb3RlQ291bnQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5leHQgdGVsbCB0aGUgdXNlcidzIGJyb3dzZXIgcy9oZSBoYXMgdm90ZWQgaGVyZVxuICAgICAgICB1c2VyVm90ZXNbaW5kZXhSYW5rXSA9IHZvdGVUeXBlcy5pbmRleE9mKHZvdGVUeXBlKTtcbiAgICAgICAgJC5jb29raWUoY29va2llTmFtZSwgdXNlclZvdGVzLmpvaW4oJywnKSk7XG5cbiAgICAgICAgLy8gZmluYWxseSB0ZWxsIHRoZSBzeXN0ZW0gYWJvdXQgdGhlIHZvdGVcbiAgICAgICAgdmFyIHVybCA9IFsnL2ZlX2RhdGEvY2hhcnRzL3ZvdGUnLCB1bmlxdWVJbmZvLCBjaGFydENvZGUsIGNoYXJ0RGF0ZSwgcmFuaywgdGhpcy52YWx1ZSwgJ3VwJ10uam9pbignLycpO1xuICAgICAgICAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCd2b3RlIGluY3JlbWVudGVkJywgdXJsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ3Ryb3VibGUgaW5jcmVtZW50aW5nIHZvdGUnLCB1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbnZhciBzZXR1cCA9IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIHZhciB1c2VyVm90ZXMgPSB1bnBhY2tWb3RlcygkLmNvb2tpZShjb29raWVOYW1lKSk7XG4gICAgcG9wdWxhdGVFeGlzdGluZ1ZvdGVzKHVzZXJWb3Rlcyk7XG4gICAgc2V0dXBWb3RlQWN0aW9ucyh1c2VyVm90ZXMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2V0dXA6IHNldHVwLFxuICAgIGdldFZvdGVzOiBnZXRWb3Rlc1xufTtcblxuLyoqKi8gfSxcbi8qIDYzICovLFxuLyogNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nik7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oOCkuUHJvbWlzZTtcblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLkFycmF5LmZpbGw7XG5cbi8qKiovIH0sXG4vKiA2NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gMjEuMS4zLjE4IFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aChzZWFyY2hTdHJpbmcgWywgcG9zaXRpb24gXSlcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpXG4gICwgdG9MZW5ndGggICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuICAsIGNvbnRleHQgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDApXG4gICwgU1RBUlRTX1dJVEggPSAnc3RhcnRzV2l0aCdcbiAgLCAkc3RhcnRzV2l0aCA9ICcnW1NUQVJUU19XSVRIXTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSkoU1RBUlRTX1dJVEgpLCAnU3RyaW5nJywge1xuICBzdGFydHNXaXRoOiBmdW5jdGlvbiBzdGFydHNXaXRoKHNlYXJjaFN0cmluZyAvKiwgcG9zaXRpb24gPSAwICovKXtcbiAgICB2YXIgdGhhdCAgID0gY29udGV4dCh0aGlzLCBzZWFyY2hTdHJpbmcsIFNUQVJUU19XSVRIKVxuICAgICAgLCBpbmRleCAgPSB0b0xlbmd0aChNYXRoLm1pbihhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgdGhhdC5sZW5ndGgpKVxuICAgICAgLCBzZWFyY2ggPSBTdHJpbmcoc2VhcmNoU3RyaW5nKTtcbiAgICByZXR1cm4gJHN0YXJ0c1dpdGhcbiAgICAgID8gJHN0YXJ0c1dpdGguY2FsbCh0aGF0LCBzZWFyY2gsIGluZGV4KVxuICAgICAgOiB0aGF0LnNsaWNlKGluZGV4LCBpbmRleCArIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG4gIH1cbn0pO1xuXG4vKioqLyB9LFxuLyogNjcgKi8sXG4vKiA2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBAc2VlIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0hlcmF5LzI3N2Q0MjFiZGEyYjgyN2Y0M2RhXG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKCdkZnAnKTtcblxuLy8gcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBwYmpzIGFuZCByZXR1cm5zIGEgYmlkZGVyIGFkYXB0ZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZUE5QWRhcHRlcihwYmpzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIEE5QWRhcHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhbGxCaWRzOiBmdW5jdGlvbiBjYWxsQmlkcygpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYW16bmFkcy5nZXRBZHNDYWxsYmFjaygnMzEyNScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBianMuYmlkc0F2YWlsYWJsZUZvcmFkYXB0ZXIoJ2FtYXpvbicpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdmYWlsZWQgYXNraW5nIGFtYXpvbiBpZiBpdCB3YW50cyB0aGUgdXNlcicsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcblxuLyoqKi8gfSxcbi8qIDY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIHNsb3RzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBiaWRkZXJzID0gW107XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyQmlkZGVyKG5ld0JpZGRlcnMpIHtcbiAgICAoQXJyYXkuaXNBcnJheShuZXdCaWRkZXJzKSA/IG5ld0JpZGRlcnMgOiBbbmV3QmlkZGVyc10pLmZvckVhY2goZnVuY3Rpb24gKGJpZGRlcikge1xuICAgICAgICByZXR1cm4gYmlkZGVycy5wdXNoKGJpZGRlcik7XG4gICAgfSk7XG59XG5cbi8vIHJldHVybiBhbiBhcnJheSBvZiBzaXplcyBmb3IgdGhlIGN1cnJlbnQgdmlld3BvcnRcbmZ1bmN0aW9uIGdldFNpemVzRm9yVmlld3BvcnQoaWQpIHtcbiAgICByZXR1cm4gc2xvdHMuZ2V0U2xvdFNpemVzKGlkKVtfLmZpbmQoT2JqZWN0LmtleXMoc2xvdHMuZ2V0U2xvdFNpemVzKGlkKSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoYiwgMTApIC0gcGFyc2VJbnQoYSwgMTApO1xuICAgIH0pLCBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICByZXR1cm4gc2l6ZSA8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIH0pXTtcbn1cblxudmFyIGNyZWF0ZUJpZHNBcnJheSA9IGZ1bmN0aW9uIGNyZWF0ZUJpZHNBcnJheShpZHMpIHtcbiAgICByZXR1cm4gaWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGlkICE9PSAnZGZwLWFkLW8xJztcbiAgICB9KS5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB2aWV3cG9ydFNpemVzID0gZ2V0U2l6ZXNGb3JWaWV3cG9ydChpZCk7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZpZXdwb3J0U2l6ZXMpID8ge1xuICAgICAgICAgICAgY29kZTogaWQsXG4gICAgICAgICAgICBzaXplczogdmlld3BvcnRTaXplcyxcbiAgICAgICAgICAgIGJpZHM6IGJpZGRlcnMubWFwKGZ1bmN0aW9uIChiaWRkZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmlkZGVyLmdldEJpZCh7XG4gICAgICAgICAgICAgICAgICAgIHNpemVzOiB2aWV3cG9ydFNpemVzLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRpbmc6IHNsb3RzLmdldFNsb3RUYXJnZXRpbmcoaWQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGJpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIWJpZDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICBiaWRzOiBbXSAvLyBlbXB0eSBvYmplY3QgaWYgdGhlcmUgYXJlIG5vIHZpZXdwb3J0IHNpemVzXG4gICAgICAgIH07XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChiaWQpIHtcbiAgICAgICAgcmV0dXJuIGJpZC5iaWRzLmxlbmd0aCA+IDA7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICByZWdpc3RlckJpZGRlcjogcmVnaXN0ZXJCaWRkZXIsXG4gICAgY3JlYXRlQmlkc0FycmF5OiBjcmVhdGVCaWRzQXJyYXlcbn07XG5cbi8qKiovIH0sXG4vKiA3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjb250ZW50QWRzKCRjb250ZW50KSB7XG4gICAgcmV0dXJuICRjb250ZW50LmZpbmQoJy5kZnAtYWQnKTtcbn1cblxuZnVuY3Rpb24gc3RhbmRhcmRGdW5jdGlvbigkY29udGVudCkge1xuICAgIHJldHVybiBjb250ZW50QWRzKCRjb250ZW50KS5hZGQoJy5kZnAtYWQtbzEnKS5hZGQoJGNvbnRlbnQuYXR0cignZGF0YS1yZWZyZXNoLWFkcycpIHx8ICcnKTtcbn1cblxuZnVuY3Rpb24gYXJ0aWNsZSgkY29udGVudCkge1xuICAgIHJldHVybiBzdGFuZGFyZEZ1bmN0aW9uKCRjb250ZW50KS5hZGQoJy5kZnAtYWQtbTEnKTtcbn1cblxudmFyIHR5cGVzID0ge1xuICAgIGFydGljbGU6IGFydGljbGUsXG4gICAgJ2xpZ2h0Ym94LWdhbGxlcnknOiBjb250ZW50QWRzXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZW50VHlwZSkge1xuICAgIHJldHVybiB0eXBlc1tjb250ZW50VHlwZV0gfHwgc3RhbmRhcmRGdW5jdGlvbjtcbn07XG5cbi8qKiovIH0sXG4vKiA3MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBnbG9iYWxEZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgZGVidWcgPSBnbG9iYWxEZWJ1ZygnZGZwJyk7XG52YXIgZGVidWdEZnBBdXRvID0gZ2xvYmFsRGVidWcoJ2RmcGF1dG8nKTtcbnZhciBkaXNhYmxlRGZwID0gZ2xvYmFsRGVidWcuaXNFbmFibGVkKCdmYWtlYWRzJyk7XG5cbnZhciBzbG90cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG4vLyB3ZSBhc3N1bWUgc2xvdCBJRCBpcyBhbHJlYWR5IHVuaXF1ZVxuZnVuY3Rpb24gZGVmaW5lRGZwU2xvdChpZCwgc2xvdEluc3RhbmNlRGF0YSwgc2xvdEVsZW1lbnQpIHtcbiAgICB2YXIgc2xvdERhdGEgPSBzbG90SW5zdGFuY2VEYXRhLnNsb3Q7XG4gICAgdmFyIGFkU2l6ZXM7XG5cbiAgICB2YXIgbm9uUmVzcG9uc2l2ZVNpemUgPSBzbG90RGF0YS5zaXplTWFwcGluZ1tfLm1heChPYmplY3Qua2V5cyhzbG90RGF0YS5zaXplTWFwcGluZyksIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh4LCAxMCk7XG4gICAgfSldO1xuXG4gICAgXy5leHRlbmQoc2xvdERhdGEudGFyZ2V0aW5nUGFyYW1ldGVycywgc2xvdEluc3RhbmNlRGF0YS5leHRyYVRhcmdldGluZyk7XG5cbiAgICBpZiAoZGlzYWJsZURmcCkge1xuICAgICAgICBhZFNpemVzID0gc2xvdERhdGEuc2l6ZU1hcHBpbmdbXy5maW5kKE9iamVjdC5rZXlzKHNsb3REYXRhLnNpemVNYXBwaW5nKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoYiwgMTApIC0gcGFyc2VJbnQoYSwgMTApO1xuICAgICAgICB9KSwgZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplIDwgd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIH0pXTtcbiAgICAgICAgaWYgKGFkU2l6ZXMgPT09IG51bGwgfHwgdHlwZW9mIGFkU2l6ZXMubGVuZ3RoID09PSAndW5kZWZpbmVkJyB8fCBhZFNpemVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgICQoc2xvdEVsZW1lbnQpLmRhdGEoe1xuICAgICAgICAgICAgJ2FkLXdpZHRoJzogYWRTaXplc1swXVswXSxcbiAgICAgICAgICAgICdhZC1oZWlnaHQnOiBhZFNpemVzWzBdWzFdLFxuICAgICAgICAgICAgJ2FkLXNsb3QnOiBzbG90RGF0YS50YXJnZXRpbmdQYXJhbWV0ZXJzICYmIHNsb3REYXRhLnRhcmdldGluZ1BhcmFtZXRlcnMucG9zICYmIHNsb3REYXRhLnRhcmdldGluZ1BhcmFtZXRlcnMucG9zWzBdIHx8IHNsb3REYXRhLnNsb3ROYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdsb2JhbERlYnVnKCdmYWtlYWRzJywgJ2RlZmluZWQgZmFrZSBhZCAnICsgaWQsIHNsb3REYXRhLnNsb3ROYW1lLCBhZFNpemVzWzBdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvdy5nb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2xvdCA9IHdpbmRvdy5nb29nbGV0YWcuZGVmaW5lU2xvdCh3aW5kb3cuUEdNLmFkcy5hZFVuaXQsIG5vblJlc3BvbnNpdmVTaXplLCBpZCkuYWRkU2VydmljZSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpKTtcblxuICAgICAgICBfLmVhY2goc2xvdERhdGEudGFyZ2V0aW5nUGFyYW1ldGVycywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHNsb3Quc2V0VGFyZ2V0aW5nKGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2xvdERhdGEucmVzcG9uc2l2ZSkge1xuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwcGluZyA9IHdpbmRvdy5nb29nbGV0YWcuc2l6ZU1hcHBpbmcoKTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNsb3REYXRhLnNpemVNYXBwaW5nKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChiLCAxMCkgLSBwYXJzZUludChhLCAxMCk7XG4gICAgICAgICAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcHBpbmcuYWRkU2l6ZShbcGFyc2VJbnQoa2V5LCAxMCksIDBdLCBzbG90RGF0YS5zaXplTWFwcGluZ1trZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNsb3QuZGVmaW5lU2l6ZU1hcHBpbmcobWFwcGluZy5idWlsZCgpKTtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIGRvZXNuJ3QgYWN0dWFsbHkgc2hvdyB0aGUgc2xvdFxuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLmRpc3BsYXkoaWQpO1xuXG4gICAgICAgIHNsb3RzLmFkZChpZCwgc2xvdCwgc2xvdERhdGEuc2l6ZU1hcHBpbmcpO1xuICAgICAgICBkZWJ1ZygnZGVmaW5lZCAnICsgaWQsIHNsb3QuZ2V0VGFyZ2V0aW5nKCdwb3MnKVswXSwgc2xvdERhdGEuc2l6ZU1hcHBpbmcsIHNsb3REYXRhLnRhcmdldGluZ1BhcmFtZXRlcnMpO1xuICAgICAgICBkZWJ1Z0RmcEF1dG8oc2xvdC5nZXRUYXJnZXRpbmcoJ3BvcycpWzBdLCBzbG90RGF0YS5zaXplTWFwcGluZywgc2xvdERhdGEudGFyZ2V0aW5nUGFyYW1ldGVycyk7XG4gICAgfSk7XG59XG5cbnZhciByZWZyZXNoRGZwU2xvdCA9IGZ1bmN0aW9uIHJlZnJlc2hEZnBTbG90KHNsb3RJZHMpIHtcbiAgICB2YXIgZmFrZUFkQ29sb3I7XG5cbiAgICBpZiAoZ2xvYmFsRGVidWcuaXNFbmFibGVkKCdkZnB3aHknKSkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2Ygc2xvdElkcykgcmV0dXJuO1xuICAgIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIHNsb3RJZHMpIHNsb3RJZHMgPSBbc2xvdElkc107XG5cbiAgICBpZiAoZGlzYWJsZURmcCkge1xuICAgICAgICBmYWtlQWRDb2xvciA9IFtNYXRoLmZsb29yKDI1NiAqIE1hdGgucmFuZG9tKCkpLCBNYXRoLmZsb29yKDI1NiAqIE1hdGgucmFuZG9tKCkpLCBNYXRoLmZsb29yKDI1NiAqIE1hdGgucmFuZG9tKCkpXTtcblxuICAgICAgICBfLmVhY2goc2xvdElkcywgZnVuY3Rpb24gKHNsb3RJZCkge1xuICAgICAgICAgICAgZ2xvYmFsRGVidWcoJ2Zha2VhZHMnLCBcImRpc3BsYXlpbmcgY29sb3JlZCBib3ggYWQgZm9yXCIsIHNsb3RJZCk7XG4gICAgICAgICAgICB2YXIgJGFkU2xvdCA9ICQoJyMnICsgc2xvdElkKTtcbiAgICAgICAgICAgIGlmICgkYWRTbG90Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdmYWtlYWRzJywgXCJjb3VsZCBub3QgZmluZCBzbG90XCIsIHNsb3RJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAkYWRTbG90LmRhdGEoJ2FkLXdpZHRoJyk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJGFkU2xvdC5kYXRhKCdhZC1oZWlnaHQnKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aWR0aCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWxEZWJ1ZygnZmFrZWFkcycsIFwiY291bGQgbm90IGZpbmQgd2lkdGggb3IgaGVpZ2h0XCIsIHNsb3RJZCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkYWRTbG90Lmh0bWwoJzxkaXYgY2xhc3M9XCJmYWtlLWFkXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOnJnYignICsgZmFrZUFkQ29sb3Iuam9pbignLCcpICsgJyk7d2lkdGg6JyArIHdpZHRoICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O21hcmdpbjphdXRvXCI+PGgxIHN0eWxlPVwiYmFja2dyb3VuZDpibGFjaztjb2xvcjp3aGl0ZTt3aWR0aDo1MHB4O21hcmdpbjphdXRvXCI+JyArICRhZFNsb3QuZGF0YSgnYWQtc2xvdCcpICsgJzwvaDE+PC9kaXY+Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkucmVmcmVzaChzbG90SWRzLm1hcChzbG90cy5nZXQpKTtcbiAgICAgICAgZGVidWcoJ3JlZnJlc2hpbmcgJyArIHNsb3RJZHMuam9pbignLCAnKSwgc2xvdElkcy5tYXAoc2xvdHMuZ2V0KSk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBkZWZpbmU6IGRlZmluZURmcFNsb3QsXG4gICAgcmVmcmVzaDogcmVmcmVzaERmcFNsb3Rcbn07XG5cbi8qKiovIH0sXG4vKiA3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBnbG9iYWxEZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgZGVidWcgPSBnbG9iYWxEZWJ1ZygnZGZwJyk7XG52YXIgcGJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUyKTtcblxudmFyIGJpZGRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcbnZhciBtYWtlQTlBZGFwdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG52YXIgUFJFQklEX1RJTUVPVVQgPSBnbG9iYWxEZWJ1ZygncHJlYmlkJykuZ2V0RGF0YSgpIHx8IDUwMDtcblxucGJqcy5yZWdpc3RlckJpZEFkYXB0ZXIobWFrZUE5QWRhcHRlcihwYmpzKSwgJ2FtYXpvbicpO1xucGJqcy5iaWRkZXJUaW1lb3V0ID0gUFJFQklEX1RJTUVPVVQ7XG5cbnBianMucXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3cucGVyZm9ybWFuY2UgJiYgdHlwZW9mIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKCdhZHNfcmVxdWVzdGVkJyk7XG4gICAgfVxuICAgIHBianMuZW5hYmxlU2VuZEFsbEJpZHMoKTtcbn0pO1xuXG5mdW5jdGlvbiBhdWN0aW9uKGlkcykge1xuICAgIHZhciByZWZyZXNoU2xvdHMgPSBiaWRkZXJzLmNyZWF0ZUJpZHNBcnJheShpZHMpLmNvbmNhdCh7XG4gICAgICAgIGNvZGU6ICdmYWtlU2xvdEZvckFtYXpvbicsXG4gICAgICAgIHNpemVzOiBbWzMwMCwgMjUwXV0sXG4gICAgICAgIGJpZHM6IFt7IGJpZGRlcjogJ2FtYXpvbicgfV1cbiAgICB9KTtcblxuICAgIGRlYnVnKCdzZXR0aW5nIHVwIHByZWJpZCBmb3InLCByZWZyZXNoU2xvdHMsICd3aXRoIGEgdGltZW91dCBvZiAnLCBQUkVCSURfVElNRU9VVCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHBianMucXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGJqcy5hZGRBZFVuaXRzKHJlZnJlc2hTbG90cyk7XG4gICAgICAgICAgICBwYmpzLnJlcXVlc3RCaWRzKHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiBQUkVCSURfVElNRU9VVCxcbiAgICAgICAgICAgICAgICBiaWRzQmFja0hhbmRsZXI6IGZ1bmN0aW9uIGJpZHNCYWNrSGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ3JlY2VpdmVkIGJpZHMgYmFjaycsIHBianMuZ2V0QmlkUmVzcG9uc2VzKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHBianMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbXpuYWRzLnNldFRhcmdldGluZ0ZvckdQVEFzeW5jKCdhbXpuc2xvdHMnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBmYWtlQXVjdGlvbigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckJpZGRlcihuZXdCaWRkZXJzKSB7XG4gICAgaWYgKCFuZXdCaWRkZXJzKSByZXR1cm47XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG5ld0JpZGRlcnMpKSBuZXdCaWRkZXJzID0gW25ld0JpZGRlcnNdO1xuXG4gICAgYmlkZGVycy5yZWdpc3RlckJpZGRlcihuZXdCaWRkZXJzKTtcbiAgICBuZXdCaWRkZXJzLmZvckVhY2goZnVuY3Rpb24gKGJpZGRlcikge1xuICAgICAgICBfLmV4dGVuZChwYmpzLmJpZGRlclNldHRpbmdzLCBiaWRkZXIuYmlkZGVyU2V0dGluZ3MpOyAvLyBubyBwcm9ibGVtIGlmIGl0J3MgdW5kZWZpbmVkXG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGF1Y3Rpb246IGdsb2JhbERlYnVnLmlzRW5hYmxlZCgnZmFrZWFkcycpID8gZmFrZUF1Y3Rpb24gOiBhdWN0aW9uLFxuICAgIHJlZ2lzdGVyQmlkZGVyOiByZWdpc3RlckJpZGRlclxufTtcblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbnF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cbnZhciBpbml0aWFsTG9hZDtcblxuZnVuY3Rpb24gcmVmcmVzaEFkcygpIHtcbiAgICBpZiAoaW5pdGlhbExvYWQpIHJldHVybiBpbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5yZXBsYWNlKCdmdWxsLXBhZ2UtYWQnLCAnJyk7XG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkucmVmcmVzaCgpO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIHF1ZXJ5KSByZXR1cm47XG4gICAgaW5pdGlhbExvYWQgPSB3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSkubWF0Y2hlcztcbiAgICBlbnF1aXJlLnJlZ2lzdGVyKHF1ZXJ5LCB7XG4gICAgICAgIG1hdGNoOiByZWZyZXNoQWRzLFxuICAgICAgICB1bm1hdGNoOiByZWZyZXNoQWRzXG4gICAgfSk7XG59O1xuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgZ2xvYmFsRGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlYnVnID0gZ2xvYmFsRGVidWcoJ2RmcCcpO1xuXG5mdW5jdGlvbiByZXRhcmdldFBhZ2UoJGNvbnRlbnQpIHtcbiAgICB3aW5kb3cuZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRzY3JpcHQgPSAkY29udGVudC5maW5kKCcuanMtYWQtcGFnZVRhcmdldGluZyBzY3JpcHQnKTtcblxuICAgICAgICBpZiAoISRzY3JpcHQubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWJ1ZygnQ2Fubm90IHJldGFydGdldCBwYWdlOyBubyB0cmFja2luZyBzY3JpcHQgZm91bmQgaW4gJywgJGNvbnRlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF8uZWFjaChKU09OLnBhcnNlKCRzY3JpcHQudGV4dCgpKSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLnNldFRhcmdldGluZyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBnbG9iYWxEZWJ1ZygnZGZwYXV0bycsICdQQUdFJywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZGVidWcoJ0Vycm9yIHBhcnNpbmcgcGFnZSB0YXJnZXRpbmcgc2NyaXB0IGRhdGEuJywgJHNjcmlwdCwgZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXRhcmdldFBhZ2U7XG5cbi8qKiovIH0sXG4vKiA3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ2RmcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLnNsb3QuZ2V0U2xvdEVsZW1lbnRJZCgpKTtcbiAgICB2YXIgcHJlcGVuZCA9IHZvaWQgMDtcblxuICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGlmIChlbGVtLmlkID09PSAnZGZwLWFkLW8xJykge1xuICAgICAgICAgICAgaWYgKGUuaXNFbXB0eSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUucmVwbGFjZSgnIGZ1bGwtcGFnZS1hZCcsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoLTEgPT09IGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoJ2Z1bGwtcGFnZS1hZCcpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gJyBmdWxsLXBhZ2UtYWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC0xID09PSBlbGVtLmNsYXNzTmFtZS5pbmRleE9mKCdpcy1kZnAtcmV0dXJuZWQnKSkgZWxlbS5jbGFzc05hbWUgKz0gJyBpcy1kZnAtcmV0dXJuZWQnO1xuXG4gICAgICAgIHByZXBlbmQgPSBlbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1wcmVwZW5kJyk7XG4gICAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlcHJlcGVuZCcsIHByZXBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGUuaXNFbXB0eSkge1xuICAgICAgICBkZWJ1ZygnZGZwJywgJ0FkIHVuaXQgJyArIGVsZW0uaWQgKyAnIGlzIGVtcHR5LicpO1xuICAgIH1cblxuICAgIGV2ZW50cy50cmlnZ2VyKCdhZHM6c2xvdFJlbmRlckVuZGVkJywgeyBlbDogZWxlbSwgc2xvdDogZS5zbG90IH0pO1xufTtcblxuLyoqKi8gfSxcbi8qIDc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIHN1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcbnZhciBnbG9iYWxEZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgZGVidWcgPSBnbG9iYWxEZWJ1ZygnZGZwJyk7XG5cbi8vIHRoaXMgaXMgY2FsbGVkIGFmdGVyIGRvY3VtZW50IHJlYWR5XG5mdW5jdGlvbiBtYWtlTGVhZGVyYm9hcmRTdGlja3kob3B0cykge1xuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICBwb3NpdGlvbjogJ3QnLFxuICAgICAgICBjbGFzc05hbWU6ICdsZWFkZXJib2FyZC0tdG9wJyxcbiAgICAgICAgLy8gYWxsb3cgcHJvZHVjdCB0byBzZXQgYSBjdXN0b20gc3RpY2t5IGxlYWRlcmJvYXJkIHRpbWVcbiAgICAgICAgc3RpY2t5VGltZTogNTAwMCxcbiAgICAgICAgYXZvaWRDb2xsaXNpb246IGZhbHNlLFxuICAgICAgICBtaW46IDEwLFxuICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgb2Zmc2V0OiBmdW5jdGlvbiBvZmZzZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH0sIG9wdHMpO1xuXG4gICAgLy8gb3ZlcnJpZGUgc29tZSB0aGluZ3MgaWYgbmVjZXNzYXJ5XG4gICAgaWYgKGdsb2JhbERlYnVnLmdldERhdGEoJ3N0aWNreXQnKSkgb3B0aW9ucy5zdGlja3lUaW1lID0gZ2xvYmFsRGVidWcuZ2V0RGF0YSgnc3RpY2t5dCcpICogMTAwMDtcbiAgICBpZiAoJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIG9wdGlvbnMub2Zmc2V0KSBvcHRpb25zLm9mZnNldCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgICAgIH07XG4gICAgfShwYXJzZUludChvcHRpb25zLm9mZnNldCwgMTApKTtcblxuICAgIC8vIHRoaXMgb25seSBoYXBwZW5zIG9uY2UgcGVyIHNsb3RcbiAgICB2YXIgc3RpY2t5Q29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8vIHdyYXAgdGhlIGxlYWRlcmJvYXJkIGluIGEgcGxhY2Vob2xkZXIgKGRvbmUgaW1tZWRhaXRlbHkgb24gYWRzOmRlZmluZWQsXG4gICAgLy8gYmVjYXVzZSBkb2luZyBpdCBsYXRlciB3b3VsZCBpbnRlcmZlcmUgd2l0aCBERlAncyBldmVudCBiaW5kaW5nKVxuICAgIHZhciAkbGVhZGVyYm9hcmRUb3AgPSAkKChvcHRpb25zLmNsYXNzTmFtZS5pbmRleE9mKCcuJykgPT09IDAgPyAnJyA6ICcuJykgKyBvcHRpb25zLmNsYXNzTmFtZSk7XG4gICAgdmFyICRwbGFjZWhvbGRlciA9ICRsZWFkZXJib2FyZFRvcC53cmFwKCc8ZGl2PicpLnBhcmVudCgpO1xuICAgIHZhciAkYXZvaWRDb2xsaXNpb24gPSAnc3RyaW5nJyA9PT0gdHlwZW9mIG9wdGlvbnMuYXZvaWRDb2xsaXNpb24gPyAkKChvcHRpb25zLmF2b2lkQ29sbGlzaW9uLmluZGV4T2YoJy4nKSA9PT0gMCA/ICcnIDogJy4nKSArIG9wdGlvbnMuYXZvaWRDb2xsaXNpb24pIDogJCgpO1xuXG4gICAgdmFyIHByZWZpeCA9IG9wdGlvbnMuY2xhc3NOYW1lLnJlcGxhY2UoL15cXC4vLCAnJykuc3BsaXQoJy0tJylbMF07XG4gICAgdmFyIHN0aWNreUNsYXNzID0gcHJlZml4ICsgJy0taXMtc3RpY2t5JztcbiAgICB2YXIgc2xpZGluZ0NsYXNzID0gcHJlZml4ICsgJy0taXMtc2xpZGluZy11cCc7XG5cbiAgICB2YXIgcmVtb3ZlTGVhZGVyYm9hcmRGcm9tVmlldyA9IF8ub25jZShmdW5jdGlvbiByZW1vdmVMZWFkZXJib2FyZEZyb21WaWV3KCkge1xuICAgICAgICBkZWJ1ZygncmVtb3Zpbmcgc3RpY2t5IGxlYWRlcmJvYXJkJyk7XG4gICAgICAgIHN0aWNreUNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgJGxlYWRlcmJvYXJkVG9wLmFkZENsYXNzKHNsaWRpbmdDbGFzcyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gcmVzZXRMZWFkZXJiYW9yZCgpIHtcbiAgICAgICAgICAgICRsZWFkZXJib2FyZFRvcC5yZW1vdmVDbGFzcyhzdGlja3lDbGFzcykucmVtb3ZlQ2xhc3Moc2xpZGluZ0NsYXNzKTtcbiAgICAgICAgICAgICRwbGFjZWhvbGRlci5jc3MoJ2hlaWdodCcsICdhdXRvJyk7XG4gICAgICAgICAgICBkZWJ1Zygnc3RpY2t5IGxlYWRlcmJvYXJkIHJlbW92ZWQnKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNldHVwU3RpY2t5TGVhZGVyYm9hcmQoKSB7XG4gICAgICAgICRwbGFjZWhvbGRlci53YXlwb2ludChmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoc3RpY2t5Q29tcGxldGUpIHJldHVybjsgLy8gd2UncmUgZG9uZSBiZWluZyBzdGlja3lcblxuICAgICAgICAgICAgZGVidWcoJ3N0aWNreSBsZWFkZXJib2FyZCBpcyAnICsgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gJycgOiAndW4nKSArICdzdGlja2luZycpO1xuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnZG93bicpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Zygnc3RpY2t5IGxlYWRlcmJvYXJkIGlzIHN0aWNraW5nJyk7XG4gICAgICAgICAgICAgICAgJHBsYWNlaG9sZGVyLmNzcygnaGVpZ2h0JywgJGxlYWRlcmJvYXJkVG9wLm91dGVySGVpZ2h0KHRydWUpKTtcbiAgICAgICAgICAgICAgICAkbGVhZGVyYm9hcmRUb3AuYWRkQ2xhc3Moc3RpY2t5Q2xhc3MpLmNzcygndG9wJywgb3B0aW9ucy5vZmZzZXQoKSArICdweCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgd2UncmUgbm90IGdvaW5nIGRvd24sIHdlJ3JlIGdvaW5nIHVwXG4gICAgICAgICAgICAkbGVhZGVyYm9hcmRUb3AucmVtb3ZlQ2xhc3Moc3RpY2t5Q2xhc3MpLmNzcygndG9wJywgJ2F1dG8nKTtcbiAgICAgICAgICAgICRwbGFjZWhvbGRlci5jc3MoJ2hlaWdodCcsICdhdXRvJyk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucy5vZmZzZXRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYWRzIHNob3VsZG4ndCBvdmVybGFwIHdpdGggJGF2b2lkQ29sbGlzaW9uIGVsZW1lbnRzXG4gICAgICAgICRhdm9pZENvbGxpc2lvbi53YXlwb2ludChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc3RpY2t5Q29tcGxldGUpIHJldHVybjtcbiAgICAgICAgICAgIGRlYnVnKCdzdGlja3kgbGVhZGVyYm9hcmQgbW92aW5nIG91dCBvZiB0aGUgd2F5IG9mICcgKyBvcHRpb25zLmF2b2lkQ29sbGlzaW9uKTtcbiAgICAgICAgICAgIHJlbW92ZUxlYWRlcmJvYXJkRnJvbVZpZXcoKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiBmdW5jdGlvbiBvZmZzZXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gJGxlYWRlcmJvYXJkVG9wLm91dGVySGVpZ2h0KHRydWUpICsgb3B0aW9ucy5vZmZzZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNOYU4oZGlzdGFuY2UpID8gMCA6IGRpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQud2F5cG9pbnRzKCdyZWZyZXNoJyk7XG4gICAgICAgIH0sIDI1MDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGltcHJlc3Npb25WaWV3YWJsZUNhbGxiYWNrKGUpIHtcbiAgICAgICAgaWYgKGUuc2xvdC5nZXRUYXJnZXRpbmcoJ3BvcycpLmluZGV4T2Yob3B0aW9ucy5wb3NpdGlvbikgIT09IC0xKSB7XG4gICAgICAgICAgICBkZWJ1ZygnbGVhZGVyYm9hcmQgKHBvczogJyArIG9wdGlvbnMucG9zaXRpb24gKyAnKSBpcyB2aXNpYmxlIGF0ICcgKyBEYXRlLm5vdygpKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdsZWFkZXJib2FyZCAocG9zOiAnICsgb3B0aW9ucy5wb3NpdGlvbiArICcpIGhhcyBiZWVuIHZpc2libGUgZm9yIGF0IGxlYXN0ICcgKyBvcHRpb25zLnN0aWNreVRpbWUgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICByZW1vdmVMZWFkZXJib2FyZEZyb21WaWV3KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnN0aWNreVRpbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2xvdFJlbmRlckVuZGVkQ2FsbGJhY2soZSkge1xuICAgICAgICBpZiAoZS5zbG90LmdldFRhcmdldGluZygncG9zJykuaW5kZXhPZihvcHRpb25zLnBvc2l0aW9uKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChlLnNpemVbMV0gPj0gb3B0aW9ucy5taW4gJiYgZS5zaXplWzFdIDw9IG9wdGlvbnMubWF4KSB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ2xlYWRlcmJvYXJkIChwb3M6ICcgKyBvcHRpb25zLnBvc2l0aW9uICsgJykgc2hvdWxkIGJlIHN0aWNreScpO1xuICAgICAgICAgICAgICAgIHNldHVwU3RpY2t5TGVhZGVyYm9hcmQoKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmFkZEV2ZW50TGlzdGVuZXIoJ2ltcHJlc3Npb25WaWV3YWJsZScsIGltcHJlc3Npb25WaWV3YWJsZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ2xlYWRlcmJvYXJkIHNob3VsZCBub3QgYmUgc3RpY2t5IChwb3M6ICcgKyBvcHRpb25zLnBvc2l0aW9uICsgJywgc2l6ZTogJyArIGUuc2l6ZS5qb2luKCd4JykgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuYWRkRXZlbnRMaXN0ZW5lcignc2xvdFJlbmRlckVuZGVkJywgc2xvdFJlbmRlckVuZGVkQ2FsbGJhY2spO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN1cHBvcnQudG91Y2ggPyAkLm5vb3AgOiBtYWtlTGVhZGVyYm9hcmRTdGlja3k7XG5cbi8qKiovIH0sXG4vKiA3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFja2JvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5vblJlbmRlcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHt9XG59KTtcblxuLyoqKi8gfSxcbi8qIDc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciByZW1vdmVGb290ZXIgPSBfLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgICQoJy5zaXRlLWZvb3RlcicpLmFkZENsYXNzKCdwZXJtYS1oaWRkZW4nKS53YXlwb2ludCgnZGVzdHJveScpO1xuICAgICQud2F5cG9pbnRzKCdyZWZyZXNoJyk7XG59KTtcblxuZnVuY3Rpb24gc2V0VXBBdXRvTG9hZCgpIHtcblxuICAgIHZhciAkYXV0b2xvYWQgPSAkKCcuYXV0b2xvYWQtZGlyZWN0LXJlbmRlcicpO1xuICAgIGlmICgkYXV0b2xvYWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmICgkKCcuanMtYXV0b2xvYWRTdG9wJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAkKCcuc2l0ZS1mb290ZXInKS5yZW1vdmVDbGFzcygncGVybWEtaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlbW92ZUZvb3RlcigpO1xuXG4gICAgJGF1dG9sb2FkLmZpbHRlcignOm5vdCgucHJvY2Vzc2VkLWJ5LWF1dG9sb2FkZXIpJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7IC8vIGZvciBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICB2YXIgdXJsUHJlZml4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdXJsLXByZWZpeCcpIHx8ICcnO1xuICAgICAgICB2YXIgdXJsID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdXJsJyk7XG4gICAgICAgIHZhciBxdWVyeSA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCB8fCAnJztcblxuICAgICAgICAvLyBzYW5pdHkgY2hlY2tcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgICAgICAgJHRoaXMud2F5cG9pbnQoe1xuICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnYXV0b2xvYWQtc3Bpbm5lcicpO1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsUHJlZml4ICsgdXJsICsgcXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlcGxhY2VXaXRoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy50cmlnZ2VyKCdhc3luY0NvbnRlbnRSZWFkeScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2Zmc2V0OiAnMTUwJScsXG4gICAgICAgICAgICB0cmlnZ2VyT25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9KS5hZGRDbGFzcygncHJvY2Vzc2VkLWJ5LWF1dG9sb2FkZXInKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRVcEF1dG9Mb2FkO1xuXG4vKioqLyB9LFxuLyogNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgnaW5pdCcpO1xuXG52YXIgQmFzZU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAvLyBieSBkZWZhdWx0IHdlIG92ZXJyaWRlIHRoZSBmZXRjaCBtZXRob2QsIGJlY2F1c2UgaW4gdGhlXG4gICAgLy8gbGFyZ2UgbWFqb3JpdHkgb2YgY2FzZXMgd2UncmUgbm90IGdvaW5nIHRvIGhhdmUgdG8gZmV0Y2hcbiAgICAvLyBkYXRhIGZyb20gdGhlIHNlcnZlclxuICAgIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICB9LFxuXG4gICAgLy8gdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHBhdGhzXG4gICAgLy8gQHRvZG8gdGhpcyBzdWNrc1xuICAgIHNsYXNoaWZ5OiBmdW5jdGlvbiBzbGFzaGlmeShwYXRoKSB7XG4gICAgICAgIHBhdGggPSBwYXRoIHx8ICcnO1xuICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKCdodHRwJykpIHJldHVybiBwYXRoO1xuICAgICAgICByZXR1cm4gKHBhdGguc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLycpICsgcGF0aDtcbiAgICB9LFxuICAgIG1ha2VJbWFnZVNyYzogZnVuY3Rpb24gbWFrZUltYWdlU3JjKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IHRoaXMuc2xhc2hpZnkocGF0aCk7XG4gICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJ2h0dHAnKSkgcmV0dXJuIHBhdGg7XG5cbiAgICAgICAgLy8gQHRvZG8gdGhpcyBzdWNrc1xuICAgICAgICByZXR1cm4gd2luZG93LlRIUiAmJiB3aW5kb3cuVEhSLmNvbmZpZyAmJiB3aW5kb3cuVEhSLmNvbmZpZy5nZXRNZWRpYUhvc3QgPyB3aW5kb3cuVEhSLmNvbmZpZy5nZXRNZWRpYUhvc3QocGF0aCkgOiB3aW5kb3cuQkIgJiYgd2luZG93LkJCLmNvbmZpZyAmJiB3aW5kb3cuQkIuY29uZmlnLm1lZGlhSG9zdCA/IHdpbmRvdy5CQi5jb25maWcubWVkaWFIb3N0ICsgcGF0aCA6IHBhdGg7XG4gICAgfSxcbiAgICBtYWtlSW1hZ2VjYWNoZVNyYzogZnVuY3Rpb24gbWFrZUltYWdlY2FjaGVTcmMobWVkaWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFrZUltYWdlU3JjKG1lZGlhLnBhdGgpO1xuICAgIH1cbn0pO1xuXG52YXIgQmFzZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgIH0sXG4gICAgdGVtcGxhdGU6IGZ1bmN0aW9uIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcbiAgICBzZXJpYWxpemVEYXRhOiBmdW5jdGlvbiBzZXJpYWxpemVEYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAvLyBleHRlbnNpYmxlIVxuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5zZXJpYWxpemVEYXRhKCkpKTtcbiAgICAgICAgdGhpcy5vblJlbmRlcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHt9XG59KTtcblxudmFyIHR5cGVzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNldEJhc2VWaWV3OiBmdW5jdGlvbiBzZXRCYXNlVmlldyhWaWV3KSB7XG4gICAgICAgIC8vIEB0b2RvIHZhbGlkYXRpb25cbiAgICAgICAgQmFzZVZpZXcgPSBWaWV3O1xuICAgIH0sXG4gICAgZ2V0QmFzZVZpZXc6IGZ1bmN0aW9uIGdldEJhc2VWaWV3KCkge1xuICAgICAgICByZXR1cm4gQmFzZVZpZXc7XG4gICAgfSxcbiAgICBzZXRCYXNlTW9kZWw6IGZ1bmN0aW9uIHNldEJhc2VNb2RlbChNb2RlbCkge1xuICAgICAgICAvLyBAdG9kbyB2YWxpZGF0aW9uXG4gICAgICAgIEJhc2VNb2RlbCA9IE1vZGVsO1xuICAgIH0sXG4gICAgZ2V0QmFzZU1vZGVsOiBmdW5jdGlvbiBnZXRCYXNlTW9kZWwoKSB7XG4gICAgICAgIHJldHVybiBCYXNlTW9kZWw7XG4gICAgfSxcbiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIodGVtcGxhdGUsIG1vZGVsRGF0YSwgdmlld0RhdGEpIHtcbiAgICAgICAgLy8gQHRvZG8gdmFsaWRhdGlvblxuICAgICAgICB0eXBlc1t0ZW1wbGF0ZV0gPSB7XG4gICAgICAgICAgICBtb2RlbERhdGE6IG1vZGVsRGF0YSB8fCB7fSxcbiAgICAgICAgICAgIHZpZXdEYXRhOiB2aWV3RGF0YSB8fCB7fVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXR0YWNoOiBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgICAgIHZhciAkcHJvY2Vzc2VkQ29udGVudCA9ICQoKTtcblxuICAgICAgICAkKCcuZW1iZWRkZWQtY29udGVudFtkYXRhLXRlbXBsYXRlXTpub3QoLmlzLWVtYmVkLWluaXRpYWxpemVkKScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKTtcbiAgICAgICAgICAgIHZhciBkYXRhLCBNb2RlbCwgbW9kZWwsIFZpZXcsIHZpZXc7XG5cbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSAmJiB0eXBlc1t0ZW1wbGF0ZV0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZSgkKHRoaXMpLmZpbmQoJ3NjcmlwdFt0eXBlPVwiYXBwbGljYXRpb24vanNvblwiXScpLmh0bWwoKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnQ291bGQgbm90IGZpbmQgZW1iZWQgZGF0YSBpbicsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGJhaWwgaWYgSlNPTi5wYXJzZSgpIGRvZXNuJ3Qgd29ya1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFwiaW5zdGFuY2VvZlwiIHdvbid0IHdvcmsgaGVyZSwgc2luY2UgaXQgd29uJ3QgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICAvLyB1bnRpbCB0aGUgY2xhc3MgaXMgaW5zdGFudGlhdGVkLiBTbywgYXMgYSBwcm94eSwgd2UgdGVzdFxuICAgICAgICAgICAgICAgIC8vIGZvciB0aGUgXCJleHRlbmRcIiBtZXRob2QuXG4gICAgICAgICAgICAgICAgTW9kZWwgPSB0eXBlb2YgdHlwZXNbdGVtcGxhdGVdLm1vZGVsRGF0YS5leHRlbmQgPT09ICdmdW5jdGlvbicgPyB0eXBlc1t0ZW1wbGF0ZV0ubW9kZWxEYXRhIDogQmFzZU1vZGVsLmV4dGVuZCh0eXBlc1t0ZW1wbGF0ZV0ubW9kZWxEYXRhKTtcblxuICAgICAgICAgICAgICAgIFZpZXcgPSB0eXBlb2YgdHlwZXNbdGVtcGxhdGVdLnZpZXdEYXRhLmV4dGVuZCA9PT0gJ2Z1bmN0aW9uJyA/IHR5cGVzW3RlbXBsYXRlXS52aWV3RGF0YSA6IEJhc2VWaWV3LmV4dGVuZCh0eXBlc1t0ZW1wbGF0ZV0udmlld0RhdGEpO1xuXG4gICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgTW9kZWwoZGF0YSwgeyBwYXJzZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB2aWV3ID0gbmV3IFZpZXcoe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIGVsOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2aWV3LiRlbC5hZGRDbGFzcygnZW1iZWRkZWQtY29udGVudC0tJyArIHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgJ2VtYmVkTW9kZWwnLCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdlbWJlZFZpZXcnLCB2aWV3KTtcbiAgICAgICAgICAgICAgICBtb2RlbC5mZXRjaCgpOyAvLyB0cmlnZ2VyIFwiY2hhbmdlXCJcblxuICAgICAgICAgICAgICAgICRwcm9jZXNzZWRDb250ZW50ID0gJHByb2Nlc3NlZENvbnRlbnQuYWRkKHZpZXcuJGVsKTtcblxuICAgICAgICAgICAgICAgIGRlYnVnKCdJbml0aWFsaXppbmcgRW1iZWQnLCB0ZW1wbGF0ZSwgJ29uJywgdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdDb3VsZCBOb3QgSW5pdGlhbGl6ZSBFbWJlZCcsIHRlbXBsYXRlLCAnb24nLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuYWRkQ2xhc3MoJ2lzLWVtYmVkLWluaXRpYWxpemVkJyk7XG5cbiAgICAgICAgcmV0dXJuICRwcm9jZXNzZWRDb250ZW50O1xuICAgIH1cbn07XG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNb2RlbDoge1xuICAgICAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgJC5lYWNoKGRhdGEuaXRlbXMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5pdGVtc1tpXS5wYXRoID0gd2luZG93LlBHTS5jb25maWcuY29udGVudEhvc3QgKyBzZWxmLnNsYXNoaWZ5KGRhdGEuaXRlbXNbaV0ucGF0aCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pdGVtc1tpXS5pbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW1zW2ldLm1lZGlhID0gZGF0YS5pdGVtc1tpXS5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGEuaXRlbXNbaV0uaW1hZ2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbXNbaV0ubWVkaWEuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtc1tpXS5tZWRpYSA9IGRhdGEuaXRlbXNbaV0ubWVkaWEuaW1hZ2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbXNbaV0ubWVkaWEgJiYgZGF0YS5pdGVtc1tpXS5tZWRpYS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaXRlbXNbaV0ubWVkaWEucGF0aCA9IHNlbGYubWFrZUltYWdlU3JjKGRhdGEuaXRlbXNbaV0ubWVkaWEucGF0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLml0ZW1zW2ldLm1lZGlhICYmIGRhdGEuaXRlbXNbaV0ubWVkaWEuY3JvcCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW1zW2ldLm1lZGlhLnBhdGggPSBkYXRhLml0ZW1zW2ldLm1lZGlhLmNyb3BbJzc2OHg0MzMnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBWaWV3OiB7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2UnLCB0aGlzLnJlbmRlcik7XG4gICAgICAgICAgICAkd2luZG93Lm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKF8uYmluZCh0aGlzLnJlbmRlciwgdGhpcyksIDE1MCkpO1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2xvbmdmb3JtL3Byb21vJ10sXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBzaW5nbGUgPSB0aGlzLm1vZGVsLmdldCgnaXRlbXMnKS5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnbG9uZ2Zvcm0tcmFpbC1wcm9tbyBsb25nZm9ybS1yYWlsLXByb21vLS0nICsgKHNpbmdsZSA/ICdzaW5nbGUnIDogJ211bHRpcGxlJykpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqKi8gfSxcbi8qIDgxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIE1vZGVsOiB7XG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5pbWFnZSkge1xuICAgICAgICAgICAgICAgIGRhdGEubWVkaWEgPSBkYXRhLmltYWdlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmltYWdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnBhdGggPSBkYXRhWydyZWxhdGl2ZS1wYXRoJ10gfHwgZGF0YS5yZWxhdGl2ZV9wYXRoOyAvLyBpbmNvbnN0ZW50IFRIUi9CQlxuICAgICAgICAgICAgZGF0YS5tZWRpYS5zcmMgPSB0aGlzLm1ha2VJbWFnZVNyYyhkYXRhLm1lZGlhLnBhdGgpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgVmlldzoge1xuICAgICAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2VtYmVkcy9nYWxsZXJ5J11cbiAgICB9XG59O1xuXG4vKioqLyB9LFxuLyogODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZ2xvYmFsRGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlYnVnID0gZ2xvYmFsRGVidWcoJ2h5YnJpZFBsYXllcicpO1xudmFyIGNyZWF0ZVNjcmlwdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG52YXIgZ3VhcmFudGVlWW91VHViZUFwaSA9IF8ub25jZShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHdpbmRvdy5vbllvdVR1YmVJZnJhbWVBUElSZWFkeSA9IHJlc29sdmU7XG4gICAgICAgIGNyZWF0ZVNjcmlwdC5jcmVhdGVTY3JpcHRUYWcoJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGknKTtcbiAgICB9KTtcbn0pO1xuXG52YXIgVmlkZW8gPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoKTtcbnZhciBQbGF5ZXJNb2RlbCA9IHsgLy8gZXh0ZW5kZWQgYnkgdGhlIGVtYmVkcyBzeXN0ZW1cbiAgICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIGpzb24gPSBCYWNrYm9uZS5Nb2RlbC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7XG4gICAgICAgIGpzb24uaXRlbXMgPSB0aGlzLmdldCgnaXRlbXMnKS50b0pTT04oKTtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZGF0YSkge1xuICAgICAgICByZXR1cm4gXy5leHRlbmQoZGF0YSwge1xuICAgICAgICAgICAgaXRlbXM6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKGRhdGEuaXRlbXMsIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogZnVuY3Rpb24gbW9kZWwoYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdicmlnaHRjb3ZlJyA9PT0gYXR0cnMudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5leHRlbmQoYXR0cnMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiBkYXRhLnBsYXllcklkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFZpZGVvKGF0dHJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleDogMFxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgc2V0SW5kZXg6IGZ1bmN0aW9uIHNldEluZGV4KGkpIHtcbiAgICAgICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5nZXQoJ2l0ZW1zJykuc2l6ZSgpKSB0aHJvdyB7XG4gICAgICAgICAgICBuYW1lOiAnSW52YWxpZCBJbmRleCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnWW91IHRyaWVkIHRvIHNldCBhIGJhZCB2aWRlbyBpbmRleCdcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXQoJ2N1cnJlbnRJbmRleCcsIGkpO1xuICAgIH0sXG5cbiAgICBnZXRDdXJyZW50VmlkZW86IGZ1bmN0aW9uIGdldEN1cnJlbnRWaWRlbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdpdGVtcycpLmF0KHRoaXMuZ2V0KCdjdXJyZW50SW5kZXgnKSk7XG4gICAgfVxufTtcblxudmFyIFZpZGVvUGxheWVyID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuVG8oZXZlbnRzLCAnaHlicmlkUGxheWVyOnZpZGVvU3RhcnQnLCB0aGlzLnN0b3ApO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGhpcy5nZXRUZW1wbGF0ZSgpO1xuICAgICAgICB0aGlzLm9uSW5pdGlhbGl6ZSgpO1xuICAgIH0sXG5cbiAgICBvbkluaXRpYWxpemU6IF8ubm9vcCxcblxuICAgIGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5QR00uSlNUWydoeWJyaWRfcGxheWVyL3BsYXllciddO1xuICAgIH0sXG5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5oeWJyaWQtcGxheWVyLXZpZGVvX19jb250YWluZXInOiAncGxheSdcbiAgICB9LFxuXG4gICAgY2xhc3NOYW1lOiBmdW5jdGlvbiBjbGFzc05hbWUoKSB7XG4gICAgICAgIHJldHVybiAnaHlicmlkLXBsYXllci12aWRlbyBoeWJyaWQtcGxheWVyLXZpZGVvLS0nICsgdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy4kZWwuaXMoJy5pcy12aWRlby1wbGF5aW5nJykpIHJldHVybjtcbiAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2h5YnJpZFBsYXllcjp2aWRlb1N0YXJ0Jyk7XG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdpcy12aWRlby1wbGF5aW5nJyk7XG4gICAgICAgIHRoaXMudHJhY2tQbGF5RXZlbnQoKTtcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0ZVBsYXllcigpO1xuICAgIH0sXG5cbiAgICB0cmFja1BsYXlFdmVudDogZnVuY3Rpb24gdHJhY2tQbGF5RXZlbnQoKSB7XG4gICAgICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50Jywge1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdWaWRlbyAtIFVzZXJJbml0aWF0ZWQgLSBCQiBXYXRjaCcsXG4gICAgICAgICAgICBhY3Rpb246ICdQbGF5JyxcbiAgICAgICAgICAgIGxhYmVsOiBbdGhpcy5tb2RlbC5nZXQoJ3RpdGxlJyksIHRoaXMubW9kZWwuZ2V0KCdpZCcpXS5qb2luKCcgLSAnKVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRlbC5pcygnLmlzLXZpZGVvLXBsYXlpbmcnKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmRlc3Ryb3lQbGF5ZXJJbnN0YW5jZSgpO1xuICAgICAgICB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXZpZGVvX19jb250YWluZXInKS5lbXB0eSgpO1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnaXMtdmlkZW8tcGxheWluZycpO1xuICAgIH0sXG5cbiAgICBpbnN0YW50aWF0ZVBsYXllcjogZnVuY3Rpb24gaW5zdGFudGlhdGVQbGF5ZXIoKSB7XG4gICAgICAgIGRlYnVnKCdDYWxsZWQgaW5zdGFudGlhdGVQbGF5ZXIgb24gdGhlIGJhc2UgY2xhc3MuJyk7XG4gICAgfSxcbiAgICBkZXN0cm95UGxheWVySW5zdGFuY2U6IGZ1bmN0aW9uIGRlc3Ryb3lQbGF5ZXJJbnN0YW5jZSgpIHtcbiAgICAgICAgZGVidWcoJ0NhbGxlZCBkZXN0cm95UGxheWVySW5zdGFuY2Ugb24gdGhlIGJhc2UgY2xhc3MuJyk7XG4gICAgfSxcblxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgQmFja2JvbmUuVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgfVxufSk7XG5cbi8vIGNoaWxkIGNsYXNzZXMgaW1wbGVtZW50IGluc3RhbnRpYXRlUGxheWVyIGFuZCBkZXN0cm95UGxheWVySW5zdGFuY2VcbnZhciBZb3VUdWJlUGxheWVyID0gVmlkZW9QbGF5ZXIuZXh0ZW5kKHtcbiAgICBnZXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuUEdNLkpTVFsnaHlicmlkX3BsYXllci9wbGF5ZXIteW91dHViZSddO1xuICAgIH0sXG5cbiAgICAvLyBcInBsYXlcIiBnZXRzIGNhbGxlZCBvbmNlIGJ5IHRoZSBtYWluIGh5YnJpZCBwbGF5ZXIgdmlld1xuICAgIC8vIHdoZW4gdGhlIHZpZXcgaXMgaW5zZXJ0ZWRcbiAgICBvbkluaXRpYWxpemU6IGZ1bmN0aW9uIG9uSW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgXy5iaW5kQWxsKHRoaXMsICdvblBsYXllclN0YXRlQ2hhbmdlJywgJ3BsYXknLCAndHJhY2tQbGF5RXZlbnQnLCAnY3JlYXRlWW91VHViZUFwaVBsYXllcicpO1xuICAgICAgICB0aGlzLnRyYWNrUGxheUV2ZW50ID0gXy5vbmNlKHRoaXMudHJhY2tQbGF5RXZlbnQpO1xuICAgICAgICB0aGlzLnBsYXkgPSBfLmFmdGVyKDEsIHRoaXMucGxheSk7XG4gICAgfSxcblxuICAgIGV2ZW50czoge30sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgVmlkZW9QbGF5ZXIucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXZpZGVvX19wbGF5ZXItaW5zdGFuY2UnKS5hcHBlbmQoJzxkaXYgaWQ9XCInICsgdGhpcy5jaWQgKyAnXCI+PC9kaXY+Jyk7XG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGVQbGF5ZXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgIGlmICh0aGlzLiRlbC5pcygnLmlzLXZpZGVvLXBsYXlpbmcnKSkgcmV0dXJuO1xuICAgICAgICBldmVudHMudHJpZ2dlcignaHlicmlkUGxheWVyOnZpZGVvU3RhcnQnLCB0aGlzLmNpZCk7XG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdpcy12aWRlby1wbGF5aW5nJyk7XG4gICAgICAgIHRoaXMudHJhY2tQbGF5RXZlbnQoKTtcbiAgICB9LFxuXG4gICAgLy8gdGhpcyBpcyBzdG9wIFwibGl0ZVwiLCBzaW5jZSB3ZSdyZSBub3QgcmVtb3ZpbmcgdGhlIHBsYXllclxuICAgIC8vIEFuZCB3ZSBoYXZlIHRvIGNoZWNrIHdoZXRoZXIgdGhpcyB2aWV3IHRyaWdnZXJlZCB0aGUgc3RvcFxuICAgIC8vIGJlY2F1c2UgdGhlIHBsYXllciBpcyBhbHJlYWR5IGluIHByb2dyZXNzIHdoZW4gdGhpcyBpcyBjYWxsZWRcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKGNpZCkge1xuICAgICAgICBpZiAoY2lkICE9PSB0aGlzLmNpZCkgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnaXMtdmlkZW8tcGxheWluZycpO1xuICAgIH0sXG5cbiAgICBvblBsYXllclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiBvblBsYXllclN0YXRlQ2hhbmdlKGUpIHtcbiAgICAgICAgLy8gbm90IGRlc3Ryb3lpbmcgdGhlIHBsYXllciB3aGVuIHRoZSB2aWRlbyBpcyBlbmRlZFxuICAgICAgICBpZiAoZS5kYXRhID09PSB3aW5kb3cuWVQuUGxheWVyU3RhdGUuRU5ERUQgfHwgZS5kYXRhID09PSB3aW5kb3cuWVQuUGxheWVyU3RhdGUuUEFVU0VEKSB0aGlzLnN0b3AoKTtcbiAgICAgICAgaWYgKGUuZGF0YSA9PT0gd2luZG93LllULlBsYXllclN0YXRlLlBMQVlJTkcpIHRoaXMucGxheSgpO1xuICAgIH0sXG5cbiAgICBpbnN0YW50aWF0ZVBsYXllcjogZnVuY3Rpb24gaW5zdGFudGlhdGVQbGF5ZXIoKSB7XG4gICAgICAgIGd1YXJhbnRlZVlvdVR1YmVBcGkoKS50aGVuKHRoaXMuY3JlYXRlWW91VHViZUFwaVBsYXllcik7XG4gICAgfSxcblxuICAgIGNyZWF0ZVlvdVR1YmVBcGlQbGF5ZXI6IGZ1bmN0aW9uIGNyZWF0ZVlvdVR1YmVBcGlQbGF5ZXIoKSB7XG4gICAgICAgIHZhciAkY29udGFpbmVyID0gdGhpcy4kKCcuaHlicmlkLXBsYXllci12aWRlb19fY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IHdpbmRvdy5ZVC5QbGF5ZXIodGhpcy5jaWQsIHtcbiAgICAgICAgICAgIGhlaWdodDogJGNvbnRhaW5lci5vdXRlckhlaWdodCgpLFxuICAgICAgICAgICAgd2lkdGg6ICRjb250YWluZXIub3V0ZXJXaWR0aCgpLFxuICAgICAgICAgICAgdmlkZW9JZDogdGhpcy5tb2RlbC5nZXQoJ3ZpZGVvSWQnKSxcbiAgICAgICAgICAgIHBsYXllclZhcnM6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBhdXRvaGlkZTogMSxcbiAgICAgICAgICAgICAgICBtb2Rlc3RicmFuZGluZzogMSxcbiAgICAgICAgICAgICAgICBzaG93aW5mbzogMCxcbiAgICAgICAgICAgICAgICByZWw6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICBvblN0YXRlQ2hhbmdlOiBfLmJpbmQodGhpcy5vblBsYXllclN0YXRlQ2hhbmdlLCB0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgZGVzdHJveVBsYXllckluc3RhbmNlOiBmdW5jdGlvbiBkZXN0cm95UGxheWVySW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcikgdGhpcy5wbGF5ZXIuZGVzdHJveSgpO1xuICAgIH0sXG5cbiAgICAvLyBkb2Vzbid0IHVzZSBcInN0b3BcIlxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lQbGF5ZXJJbnN0YW5jZSgpO1xuICAgICAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcbiAgICB9XG59KTtcblxudmFyIEJyaWdodGNvdmVQbGF5ZXIgPSBWaWRlb1BsYXllci5leHRlbmQoe1xuICAgIGluc3RhbnRpYXRlUGxheWVyOiBmdW5jdGlvbiBpbnN0YW50aWF0ZVBsYXllcigpIHtcbiAgICAgICAgdmFyICRjb250YWluZXIgPSB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXZpZGVvX19jb250YWluZXInKTtcbiAgICAgICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgcy5zcmMgPSBcIi8vcGxheWVycy5icmlnaHRjb3ZlLm5ldC9cIiArIHRoaXMubW9kZWwuZ2V0KCdhY2NvdW50SWQnKSArIFwiL1wiICsgdGhpcy5tb2RlbC5nZXQoJ3BsYXllcklkJykgKyBcIl9kZWZhdWx0L2luZGV4Lm1pbi5qc1wiO1xuICAgICAgICBzLm9ubG9hZCA9IF8uYmluZCh0aGlzLmdldFBsYXllck9iamVjdCwgdGhpcyk7XG5cbiAgICAgICAgJCgnPHZpZGVvPicpLmF0dHIoe1xuICAgICAgICAgICAgY2xhc3M6ICd2aWRlby1qcycsXG4gICAgICAgICAgICBpZDogJ3ZpZGVvLWpzLScgKyB0aGlzLm1vZGVsLmdldCgndmlkZW9JZCcpLFxuICAgICAgICAgICAgJ2RhdGEtdmlkZW8taWQnOiB0aGlzLm1vZGVsLmdldCgndmlkZW9JZCcpLFxuICAgICAgICAgICAgJ2RhdGEtYWNjb3VudCc6IHRoaXMubW9kZWwuZ2V0KCdhY2NvdW50SWQnKSxcbiAgICAgICAgICAgICdkYXRhLXBsYXllcic6IGdsb2JhbERlYnVnLmdldERhdGEoJ3BsYXllcicpIHx8IHRoaXMubW9kZWwuZ2V0KCdwbGF5ZXJJZCcpLFxuICAgICAgICAgICAgJ2RhdGEtZW1iZWQnOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICB3aWR0aDogJGNvbnRhaW5lci5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQ6ICRjb250YWluZXIub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgIGF1dG9wbGF5OiAndHJ1ZScsXG4gICAgICAgICAgICBjb250cm9sczogJ2NvbnRyb2xzJ1xuICAgICAgICB9KS53cmFwKCc8ZGl2IGNsYXNzPVwiaHlicmlkLXBsYXllci12aWRlb19fcGxheWVyLWluc3RhbmNlXCI+PC9kaXY+JykucGFyZW50KCkuYXBwZW5kKHMpLmFwcGVuZFRvKCRjb250YWluZXIpO1xuICAgIH0sXG5cbiAgICBnZXRQbGF5ZXJPYmplY3Q6IGZ1bmN0aW9uIGdldFBsYXllck9iamVjdCgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSB3aW5kb3cudmlkZW9qcygndmlkZW8tanMtJyArIHRoaXMubW9kZWwuZ2V0KCd2aWRlb0lkJykpO1xuICAgIH0sXG5cbiAgICBkZXN0cm95UGxheWVySW5zdGFuY2U6IGZ1bmN0aW9uIGRlc3Ryb3lQbGF5ZXJJbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyKSB0aGlzLnBsYXllci5yZW1vdmUoKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gUGxheWVyRmFjdG9yeSh2aWRlb01vZGVsKSB7XG4gICAgdmFyIFZpZXcgPSBWaWRlb1BsYXllcjsgLy8gZGVmYXVsdCBjYXNlXG5cbiAgICBzd2l0Y2ggKHZpZGVvTW9kZWwuZ2V0KCd0eXBlJykpIHtcbiAgICAgICAgY2FzZSAneW91dHViZSc6XG4gICAgICAgICAgICBWaWV3ID0gWW91VHViZVBsYXllcjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2JyaWdodGNvdmUnOlxuICAgICAgICAgICAgVmlldyA9IEJyaWdodGNvdmVQbGF5ZXI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZpZXcoe1xuICAgICAgICBtb2RlbDogdmlkZW9Nb2RlbFxuICAgIH0pO1xufVxuXG52YXIgUGxheWxpc3RWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgJ2NoYW5nZTpjdXJyZW50SW5kZXgnLCB0aGlzLnNldEN1cnJlbnRWaWRlbyk7XG4gICAgICAgIF8uYmluZEFsbCh0aGlzLCAnc2V0dXBQbGF5bGlzdFNjcm9sbEJlaGF2aW9yJywgJ2NhbGN1bGF0ZU5hdkJ1dHRvblN0YXRlcycpO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gd2luZG93LlBHTS5KU1RbJ2h5YnJpZF9wbGF5ZXIvcGxheWxpc3QnXTtcbiAgICB9LFxuXG4gICAgdGFnTmFtZTogJ25hdicsXG4gICAgY2xhc3NOYW1lOiAnaHlicmlkLXBsYXllci1wbGF5bGlzdCcsXG5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtJzogJ3NlbGVjdE5ld1ZpZGVvJ1xuICAgIH0sXG5cbiAgICBkZWZlcnJlZEV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLmh5YnJpZC1wbGF5ZXItcGxheWxpc3RfX25hdic6ICdzY3JvbGxQbGF5bGlzdCdcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZpZGVvKCk7XG4gICAgICAgIF8uZGVmZXIodGhpcy5zZXR1cFBsYXlsaXN0U2Nyb2xsQmVoYXZpb3IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2VsZWN0TmV3VmlkZW86IGZ1bmN0aW9uIHNlbGVjdE5ld1ZpZGVvKGUpIHtcbiAgICAgICAgdmFyIG5ld1ZpZGVvSW5kZXggPSB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtJykuaW5kZXgoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgaWYgKG5ld1ZpZGVvSW5kZXggPT09IHRoaXMubW9kZWwuZ2V0KCdjdXJyZW50SW5kZXgnKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLm1vZGVsLnNldCgnY3VycmVudEluZGV4JywgbmV3VmlkZW9JbmRleCk7XG4gICAgfSxcblxuICAgIHNldEN1cnJlbnRWaWRlbzogZnVuY3Rpb24gc2V0Q3VycmVudFZpZGVvKCkge1xuICAgICAgICB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtJykucmVtb3ZlQ2xhc3MoJ2lzLWN1cnJlbnQtdmlkZW8nKS5lcSh0aGlzLm1vZGVsLmdldCgnY3VycmVudEluZGV4JykpLmFkZENsYXNzKCdpcy1jdXJyZW50LXZpZGVvJyk7XG4gICAgfSxcblxuICAgIHNldHVwUGxheWxpc3RTY3JvbGxCZWhhdmlvcjogZnVuY3Rpb24gc2V0dXBQbGF5bGlzdFNjcm9sbEJlaGF2aW9yKCkge1xuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aWR0aCArPSAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtcycpLndpZHRoKHdpZHRoKTtcbiAgICAgICAgdGhpcy5pdGVtc1dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLy8gY2FjaGUgb2JqZWN0cyB3ZSB3aWxsIHVzZSBhIGxvdFxuICAgICAgICB0aGlzLiRwcmV2ID0gdGhpcy4kKCcuaHlicmlkLXBsYXllci1wbGF5bGlzdF9fbmF2LS1wcmV2aW91cycpO1xuICAgICAgICB0aGlzLiRuZXh0ID0gdGhpcy4kKCcuaHlicmlkLXBsYXllci1wbGF5bGlzdF9fbmF2LS1uZXh0Jyk7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9IHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXItcGxheWxpc3RfX2NvbnRhaW5lcicpO1xuXG4gICAgICAgIC8vIGFkZCBkZWZlcnJlZCBldmVudHMgdG8gdGhlIGV2ZW50cyBoYXNoIGFuZCByZS1iaW5kXG4gICAgICAgIHRoaXMuZGVsZWdhdGVFdmVudHMoXy5leHRlbmQodGhpcy5ldmVudHMsIHRoaXMuZGVmZXJyZWRFdmVudHMpKTtcbiAgICAgICAgLy8gc2Nyb2xsIGRvZXNuJ3QgYnViYmxlLCBzbyBpdCB3b24ndCB3b3JrIHdpdGhcbiAgICAgICAgLy8gYmFja2JvbmUncyB3YXkgb2YgYmluZGluZyBldmVudHMgdG8gdGhlIHZpZXdcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdzY3JvbGwnLCBfLmRlYm91bmNlKHRoaXMuY2FsY3VsYXRlTmF2QnV0dG9uU3RhdGVzLCAxMDApKTtcbiAgICB9LFxuXG4gICAgc2Nyb2xsUGxheWxpc3Q6IGZ1bmN0aW9uIHNjcm9sbFBsYXlsaXN0KGUpIHtcbiAgICAgICAgdmFyIG5leHQgPSAtMSAhPT0gZS5jdXJyZW50VGFyZ2V0LmNsYXNzTmFtZS5zZWFyY2goL25leHQvKTtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLnNjcm9sbExlZnQodGhpcy4kY29udGFpbmVyLnNjcm9sbExlZnQoKSArIChuZXh0ID8gMjQ1IDogLTI0NSkpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZU5hdkJ1dHRvblN0YXRlcygpO1xuICAgIH0sXG5cbiAgICBjYWxjdWxhdGVOYXZCdXR0b25TdGF0ZXM6IGZ1bmN0aW9uIGNhbGN1bGF0ZU5hdkJ1dHRvblN0YXRlcygpIHtcbiAgICAgICAgdmFyIHNjcm9sbExlZnQgPSB0aGlzLiRjb250YWluZXIuc2Nyb2xsTGVmdCgpO1xuICAgICAgICBpZiAoc2Nyb2xsTGVmdCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy4kcHJldi5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kcHJldi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY3JvbGxMZWZ0ID49IHRoaXMuaXRlbXNXaWR0aCAtIHRoaXMuJGNvbnRhaW5lci53aWR0aCgpKSB7XG4gICAgICAgICAgICB0aGlzLiRuZXh0LmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRuZXh0LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxudmFyIEh5YnJpZFBsYXllck1haW5WaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmdldCgnaXRlbXMnKS5zaXplKCkgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXlsaXN0ID0gbmV3IFBsYXlsaXN0Vmlldyh7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuVG9PbmNlKHRoaXMubW9kZWwsICdjaGFuZ2UnLCB0aGlzLnJlbmRlcik7XG4gICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgJ2NoYW5nZTpjdXJyZW50SW5kZXgnLCB0aGlzLmluc2VydFBsYXllckFuZEF1dG9wbGF5KTtcblxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gd2luZG93LlBHTS5KU1RbJ2h5YnJpZF9wbGF5ZXIvbWFpblZpZXcnXTtcbiAgICAgICAgdGhpcy5hZFRlbXBsYXRlID0gd2luZG93LlBHTS5KU1RbJ2Fkcy9zbG90J107XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgICAgICB2YXIgYWRTbG90ID0gd2luZG93LlBHTS5hZHMuZGF0YS5zbG90c1t0aGlzLm1vZGVsLmdldCgnYWRTbG90JyldO1xuICAgICAgICBpZiAoYWRTbG90KSB7XG4gICAgICAgICAgICAkKHRoaXMuYWRUZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgc2xvdDogYWRTbG90LFxuICAgICAgICAgICAgICAgIHByZXBlbmQ6ICdQcmVzZW50ZWQgYnk6J1xuICAgICAgICAgICAgfSkpLmFwcGVuZFRvKHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXJfX2hlYWRlcicpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc2VydFBsYXllcigpO1xuICAgICAgICBpZiAodGhpcy5wbGF5bGlzdCkgdGhpcy5wbGF5bGlzdC5yZW5kZXIoKS4kZWwuYXBwZW5kVG8odGhpcy4kZWwpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgaW5zZXJ0UGxheWVyOiBmdW5jdGlvbiBpbnNlcnRQbGF5ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcikgdGhpcy5wbGF5ZXIucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucGxheWVyID0gUGxheWVyRmFjdG9yeSh0aGlzLm1vZGVsLmdldEN1cnJlbnRWaWRlbygpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuJGVsLmluc2VydEFmdGVyKHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXJfX2hlYWRlcicpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucmVuZGVyKCk7XG4gICAgfSxcblxuICAgIGluc2VydFBsYXllckFuZEF1dG9wbGF5OiBmdW5jdGlvbiBpbnNlcnRQbGF5ZXJBbmRBdXRvcGxheSgpIHtcbiAgICAgICAgdGhpcy5pbnNlcnRQbGF5ZXIoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheSgpO1xuICAgIH0sXG5cbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyKSB0aGlzLnBsYXllci5yZW1vdmUoKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWxpc3QpIHRoaXMucGxheWxpc3QucmVtb3ZlKCk7XG4gICAgICAgIEJhY2tib25lLlZpZXcucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNb2RlbDogUGxheWVyTW9kZWwsXG4gICAgVmlldzogSHlicmlkUGxheWVyTWFpblZpZXdcbn07XG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNb2RlbDoge1xuICAgICAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZGF0YSkge1xuICAgICAgICAgICAgZGF0YS5wYXRoID0gdGhpcy5tYWtlSW1hZ2VTcmMoZGF0YS5wYXRoKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBWaWV3OiB7XG4gICAgICAgIHRlbXBsYXRlOiB3aW5kb3cuUEdNLkpTVFsnZW1iZWRzL2ltYWdlJ11cbiAgICB9XG59O1xuXG4vKioqLyB9LFxuLyogODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIHZlcmJzID0ge1xuICAgIGdhbGxlcnk6ICdTZWUnLFxuICAgIHZpZGVvOiAnV2F0Y2gnLFxuICAgIGRlZmF1bHQ6ICdSZWFkJ1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgTW9kZWw6IHtcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEudmVyYiA9IHZlcmJzW2RhdGEudHlwZV0gfHwgdmVyYnMuZGVmYXVsdDtcblxuICAgICAgICAgICAgaWYgKGRhdGEuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICBkYXRhLm1lZGlhID0gZGF0YS5pbWFnZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGF0YS5pbWFnZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEubWVkaWEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tZWRpYS5pbWFnZSkgZGF0YS5tZWRpYSA9IGRhdGEubWVkaWEuaW1hZ2U7XG4gICAgICAgICAgICAgICAgZGF0YS5tZWRpYS51cmwgPSB0aGlzLm1ha2VJbWFnZWNhY2hlU3JjKGRhdGEubWVkaWEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgVmlldzoge1xuICAgICAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2VtYmVkcy9yZWFkbW9yZSddXG4gICAgfVxufTtcblxuLyoqKi8gfSxcbi8qIDg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKCdpbml0Jyk7XG52YXIgcm91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cbnZhciAkcGFnZUNvbnRlbnQgPSB2b2lkIDAsXG4gICAgY29udGVudFR5cGUgPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIGNsaWNrSGFuZGxlcihldmVudCkge1xuICAgIC8vIHdlIG5lZWQgYW4gaHJlZiBidXQgd2UgZG9uJ3Qgd2FudCB0byBnbyB0aGVyZVxuICAgIGlmICh0eXBlb2YgdGhpcy5ocmVmID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKCdodG1sLCBib2R5Jykuc3RvcCh0cnVlKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIFwic2xvd1wiKTtcblxuICAgIC8vIHVzZSBhIHJlbGF0aXZlIFVSTCBldmVuIGlmIGEgaG9zdCBpcyBzcGVjaWZpZWRcbiAgICB2YXIgaHJlZiA9IHRoaXMuaHJlZi5yZXBsYWNlKC9eaHR0cDpcXC9cXC9bXlxcL10qLywgJycpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBcIi9mZV9kYXRhXCIgKyBocmVmLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBMZXQgaW50ZXJlc3RlZCBmdW5jdGlvbnMgaG9vayBpbiB0byBhbHRlciB0aGUgYWpheCByZXNwb25zZSBieVxuICAgICAgICAgICAgLy8gdHJpZ2dlcmluZyBhbiBldmVudCB1bmlxdWUgdG8gdGhpcyBzcGVjaWZpYyBjb250ZW50IGxvYWQuXG4gICAgICAgICAgICAvLyBTYW1wbGUgY2xpZW50IGNvZGU6XG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vIFBHTS5ldmVudHMub24oJ2xvYWRJblBhZ2VSZXNwb25zZVJlY2VpdmVkJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vICAgICBpZiAob3B0aW9ucy5jb250ZW50VHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgLy8gICAgICAgICBQR00uZXZlbnRzLnRyaWdnZXIob3B0aW9ucy51aWQsIG1hbmlwdWxhdGVSZXNwb25zZVN0cmluZyhvcHRpb25zLnJlc3BvbnNlKSk7XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIHZhciB1aWQgPSBfLnVuaXF1ZUlkKCdhbHRlclJlc3BvbnNlOicpO1xuICAgICAgICAgICAgZXZlbnRzLm9uKHVpZCwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50cy50cmlnZ2VyKCdsb2FkSW5QYWdlUmVzcG9uc2VSZWNlaXZlZCcsIHtcbiAgICAgICAgICAgICAgICB1aWQ6IHVpZCxcbiAgICAgICAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXZlbnRzLm9mZih1aWQpO1xuXG4gICAgICAgICAgICBldmVudHMudHJpZ2dlcignYXN5bmNDb250ZW50VW5sb2FkZWQnLCBjb250ZW50VHlwZSwgJHBhZ2VDb250ZW50KTtcbiAgICAgICAgICAgICRwYWdlQ29udGVudC5odG1sKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGV2ZW50cy50cmlnZ2VyKCdhc3luY0NvbnRlbnRSZWFkeScsIGNvbnRlbnRUeXBlLCByZXNwb25zZSk7XG5cbiAgICAgICAgICAgIHZhciAkbWFpbkNvbnRlbnQgPSAkcGFnZUNvbnRlbnQuZmluZCgnLmpzLW1haW5Db250ZW50Jyk7XG4gICAgICAgICAgICBpZiAoJG1haW5Db250ZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBOLkIuIGlmIHlvdSByZW1vdmUgdGhlIHJlcGxhY2U6dHJ1ZSwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIGRldGVjdGluZyBhIGJyb3dzZXIgYmFjayBhbmQgcmVmcmVzaGluZyB0byB0aGUgbmV3IHVybFxuICAgICAgICAgICAgcm91dGVyLmNoYW5nZVVybChocmVmLCBjb250ZW50VHlwZSwgJG1haW5Db250ZW50LCBcImRvd25cIiwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgJHBhZ2VDb250ZW50ID0gJCgnLmpzLXBhZ2VDb250ZW50Jyk7XG4gICAgaWYgKCRwYWdlQ29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVidWcoJ05vdCBzZXR0aW5nIHVwIGluLXBhZ2UgbG9hZGluZzogbm8gYC5qcy1wYWdlQ29udGVudGAgZWxlbWVudCBwcmVzZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQHRvZG8gY29udGVudFR5cGUgc2hvdWxkIGJlIGRlZmluZWQgb24gdGhlIGluY29taW5nIGNvbnRlbnQsXG4gICAgLy8gICAgICAgbm90IG9uIHRoZSBwYWdlIGdsb2JhbGx5LCBzbyB0aGF0IGNhbiBldmVudHVhbGx5XG4gICAgLy8gICAgICAgbG9hZCBtdWx0aXBsZSBraW5kcyBvZiBjb250ZW50IGludG8gdGhlIHBhZ2VcbiAgICBjb250ZW50VHlwZSA9ICRwYWdlQ29udGVudC5hdHRyKCdkYXRhLWNvbnRlbnQtdHlwZScpO1xuICAgIGlmICh0eXBlb2YgY29udGVudFR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRlYnVnKCdBYm9ydGluZyBpbi1wYWdlIGxvYWRpbmcgc2V0dXAuIE5vIGNvbnRlbnQgdHlwZSBwcmVzZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVidWcoJ1NldHRpbmcgdXAgaW4tcGFnZSBsb2FkaW5nIGZvciAnICsgY29udGVudFR5cGUgKyAnIG9uJywgJHBhZ2VDb250ZW50KTtcbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5qcy1sb2FkSW5QYWdlJywgY2xpY2tIYW5kbGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaW5pdDogaW5pdFxufTtcblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBNYXJpb25ldHRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbnZhciBhcHAgPSBuZXcgTWFyaW9uZXR0ZS5BcHBsaWNhdGlvbigpO1xuXG5hcHAuTW9kZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcbmFwcC5WaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5hcHAuVmlld01vZGVsID0ge1xuICAgIEJlaGF2aW9yOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KShhcHApIC8vIGF2b2lkIGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhcHA7XG5cbi8qKiovIH0sXG4vKiA4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQmFja2JvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ2xlZnRSYWlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwcCkge1xuICAgIHJldHVybiBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUobW9kZWxzLCBkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnRSYWlsTW9kZWwgPSBkYXRhLmxlZnRSYWlsTW9kZWw7XG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ21haW5MaXN0JyksICd1cGRhdGUnLCB0aGlzLnJlZnJlc2gpO1xuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnRSYWlsTW9kZWwuZ2V0KCdvcHRpb25zJykgJiYgdGhpcy5sZWZ0UmFpbE1vZGVsLmdldCgnb3B0aW9ucycpLnNob3dBY3RpdmVJdGVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1heEluZGV4ID0gdGhpcy5hY3RpdmVJbmRleDtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hZERpdiA9ICQoJy5qcy1sZWZ0UmFpbC1zbG90LW0xJyk7IC8vIHRvZG8gU1BMIHdlIGNhbiBsaWtlbHkgaW5pdGlhbGl6ZSBiZXR0ZXIuLi5cbiAgICAgICAgICAgIGRlYnVnKCdmaXJzdCBhZERpdiBpcycsIHRoaXMuYWREaXYpO1xuICAgICAgICAgICAgdGhpcy5sYXN0QWREaXYgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLnRhYm9vbGEgPSB0aGlzLmdlbmVyYXRlUmFpbFRhYm9vbGEoKTtcblxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG5cbiAgICAgICAgICAgIHRoaXMubGFzdEFkRGl2ID0gdGhpcy5hZERpdjtcblxuICAgICAgICAgICAgZXZlbnRzLm9uKCd1cmxDaGFuZ2U6cHJlJywgXy5iaW5kKGZ1bmN0aW9uIChjb250ZW50VHlwZSwgJGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSWQgPSAkY29udGVudC5kYXRhKCdpZCcpO1xuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVNb2RlbCA9IHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ21haW5MaXN0JykuZ2V0KGFjdGl2ZUlkKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3SW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZU1vZGVsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNraXAgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZWZ0UmFpbE1vZGVsLmdldCgnb3B0aW9ucycpICYmIHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ29wdGlvbnMnKS5zaG93QWN0aXZlSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ21haW5MaXN0JykuaW5kZXhPZihhY3RpdmVNb2RlbCkgKyBza2lwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdub3QgY2hhbmdpbmcgYWN0aXZlIGluZGV4LCBjb3VsZCBub3QgZmluZCBpZCcsICRjb250ZW50LCBhY3RpdmVJZCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gbmV3SW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhJbmRleCA9IE1hdGgubWF4KHRoaXMubWF4SW5kZXgsIHRoaXMuYWN0aXZlSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZERpdiA9ICRjb250ZW50LmZpbmQoJy5qcy1sZWZ0UmFpbC1zbG90LW0xJyk7XG4gICAgICAgICAgICAgICAgZGVidWcoJ25leHQgYWREaXYgaXMnLCB0aGlzLmFkRGl2KTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0QWREaXYgPSB0aGlzLmFkRGl2O1xuICAgICAgICAgICAgfSwgdGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICAgICAgICB2YXIgbWFpbkxpc3QgPSB0aGlzLmxlZnRSYWlsTW9kZWwuZ2V0KCdtYWluTGlzdCcpO1xuICAgICAgICAgICAgdmFyIHRvcGljQmxvY2sgPSB0aGlzLmxlZnRSYWlsTW9kZWwuZ2V0KCd0b3BpY0Jsb2NrJyk7XG5cbiAgICAgICAgICAgIHZhciBvbmUgPSB0aGlzLmFjdGl2ZUluZGV4O1xuICAgICAgICAgICAgaWYgKHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ29wdGlvbnMnKSAmJiB0aGlzLmxlZnRSYWlsTW9kZWwuZ2V0KCdvcHRpb25zJykubGVmdFJhaWxIaWdod2F0ZXIpIHtcbiAgICAgICAgICAgICAgICBvbmUgPSB0aGlzLm1heEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVidWcoJ3JlZnJlc2hpbmcgdG8gaW5kZXggJywgb25lKTtcblxuICAgICAgICAgICAgdmFyIHR3byA9IG9uZSArIDE7XG4gICAgICAgICAgICB2YXIgbW9kZWxzID0gbWFpbkxpc3Quc2xpY2Uob25lLCB0d28pO1xuXG4gICAgICAgICAgICB2YXIgYWQgPSB0aGlzLmdlbmVyYXRlUmFpbEFkKCk7XG4gICAgICAgICAgICBpZiAoYWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBtb2RlbHMgPSBtb2RlbHMuY29uY2F0KGFkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudGFib29sYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1vZGVscyA9IG1vZGVscy5jb25jYXQodGhpcy50YWJvb2xhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25lID0gdHdvO1xuICAgICAgICAgICAgdHdvID0gb25lICsgMjtcbiAgICAgICAgICAgIG1vZGVscyA9IG1vZGVscy5jb25jYXQobWFpbkxpc3Quc2xpY2Uob25lLCB0d28pKTtcblxuICAgICAgICAgICAgaWYgKHRvcGljQmxvY2spIHtcbiAgICAgICAgICAgICAgICBtb2RlbHMgPSBtb2RlbHMuY29uY2F0KHRvcGljQmxvY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvbmUgPSB0d287XG4gICAgICAgICAgICB2YXIgdGhlUmVzdCA9IG1haW5MaXN0LnNsaWNlKG9uZSk7XG4gICAgICAgICAgICBtb2RlbHMgPSBtb2RlbHMuY29uY2F0KHRoZVJlc3QpO1xuXG4gICAgICAgICAgICBkZWJ1Zygnc2V0dGluZyBtb2RlbHMnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0KG1vZGVscyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2VuZXJhdGVSYWlsQWQ6IGZ1bmN0aW9uIGdlbmVyYXRlUmFpbEFkKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hZERpdiA9PT0gdGhpcy5sYXN0QWREaXYgJiYgdGhpcy5jdXJyZW50QWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50QWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkc2NyaXB0ID0gdGhpcy5hZERpdi5maW5kKCdzY3JpcHQnKTtcbiAgICAgICAgICAgIGlmICgkc2NyaXB0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZERhdGEgPSBKU09OLnBhcnNlKCRzY3JpcHQudGV4dCgpKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBZCA9IG5ldyBhcHAuTW9kZWwuQWQoeyBzbG90OiBhZERhdGEsIGV4dHJhQ2xhc3M6ICdpcy1kZnAtZGVmZXJyZWQnIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50QWQ7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnRXJyb3IgcGFyc2luZyBsZWZ0IHJhaWwgYWQgZGF0YS4nLCB0aGlzLmFkRGl2LCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdubyBhZCBkYXRhIGZvdW5kLicsIHRoaXMuYWREaXYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICBnZW5lcmF0ZVJhaWxUYWJvb2xhOiBmdW5jdGlvbiBnZW5lcmF0ZVJhaWxUYWJvb2xhKCkge1xuICAgICAgICAgICAgdGhpcy50YWJvb2xhID0gbmV3IGFwcC5Nb2RlbC5UYWJvb2xhKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJvb2xhO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIE1hcmlvbmV0dGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBNb2RlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIHZpZXcgPSB7fTtcblxudmlldy5MZWZ0UmFpbEl0ZW0gPSBNYXJpb25ldHRlLkl0ZW1WaWV3LmV4dGVuZCh7XG4gICAgdGFnTmFtZTogXCJhcnRpY2xlXCIsXG4gICAgY2xhc3NOYW1lOiAncmFpbC1pdGVtJyxcbiAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2xlZnRfcmFpbC9yYWlsX2l0ZW0nXSxcbiAgICBhdHRyaWJ1dGVzOiBmdW5jdGlvbiBhdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2RhdGEtaWQnOiB0aGlzLm1vZGVsLmdldCgnaWQnKVxuICAgICAgICB9O1xuICAgIH1cbn0pO1xuXG52aWV3LlRvcGljQmxvY2sgPSBNYXJpb25ldHRlLkl0ZW1WaWV3LmV4dGVuZCh7XG4gICAgdGFnTmFtZTogXCJkaXZcIixcbiAgICBjbGFzc05hbWU6ICdyYWlsLXRvcGljLWJsb2NrJyxcbiAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2xlZnRfcmFpbC90b3BpY19ibG9jayddXG59KTtcblxudmlldy5BZCA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgICBjbGFzc05hbWU6ICdyYWlsLWFkJyxcbiAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2Fkcy9zbG90J10sXG4gICAgb25TaG93OiBmdW5jdGlvbiBvblNob3coKSB7XG4gICAgICAgIGV2ZW50cy50cmlnZ2VyKCdhZFRlbXBsYXRlc0luc2VydGVkJywgdGhpcy4kZWwpOyAvLyB0byBkZWZpbmUgYWRzXG4gICAgfVxufSk7XG5cbnZpZXcuVGFib29sYSA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLm1vZGVsLnNldCgnYnJlYWRjcnVtYicsICcnKTtcbiAgICB9LFxuXG4gICAgdGVtcGxhdGU6IGZ1bmN0aW9uIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgIGNsYXNzTmFtZTogJ3RhYm9vbGEtbGVmdC1yYWlsLXdyYXBwZXInLFxuXG4gICAgb25TaG93OiBmdW5jdGlvbiBvblNob3coKSB7XG5cbiAgICAgICAgdmFyIGJyZWFkY3J1bWIgPSAkKCcuYXJ0aWNsZV9fY29udGVudC13ZWxsLmlzLWFjdGl2ZScpLmRhdGEoJ3VybC1icmVhZGNydW1iJyk7XG5cbiAgICAgICAgLy8gYmFpbCBpZiB0aGUgYnJlYWRjcnVtYiBoYXNuJ3QgY2hhbmdlZFxuICAgICAgICBpZiAoIWJyZWFkY3J1bWIgfHwgYnJlYWRjcnVtYiA9PT0gdGhpcy5tb2RlbC5nZXQoJ2JyZWFkY3J1bWInKSkge1xuXG4gICAgICAgICAgICBkZWJ1ZygndGFib29sYScsICdub3QgcmVmcmVzaGluZycsIGJyZWFkY3J1bWIsIHRoaXMubW9kZWwuZ2V0KCdicmVhZGNydW1iJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoJ3RhYm9vbGEnLCAncmVmcmVzaGluZycsIGJyZWFkY3J1bWIsIHRoaXMubW9kZWwuZ2V0KCdicmVhZGNydW1iJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ2JyZWFkY3J1bWInLCBicmVhZGNydW1iKTtcblxuICAgICAgICB2YXIgdXJsID0gW3dpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCwgd2luZG93LlBHTS5jb25maWcuY29udGVudEhvc3QsIHRoaXMubW9kZWwuZ2V0KCdicmVhZGNydW1iJyldLmpvaW4oJycpO1xuXG4gICAgICAgIHRoaXMuJGVsLmVtcHR5KCk7XG4gICAgICAgIHdpbmRvdy5QR00udGFib29sYS5jcmVhdGVXaWRnZXQodGhpcy5lbCwge1xuICAgICAgICAgICAgbW9kZTogJ3RodW1ibmFpbHMtcnInLFxuICAgICAgICAgICAgY29udGFpbmVyOiAndGFib29sYS1sZWZ0LXJhaWwtdGh1bWJuYWlscycsXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdMZWZ0IFJhaWwgVGh1bWJuYWlscydcbiAgICAgICAgfSwgdXJsKTtcbiAgICB9XG59KTtcblxudmlldy5MZWZ0UmFpbCA9IE1hcmlvbmV0dGUuQ29tcG9zaXRlVmlldy5leHRlbmQoe1xuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShkYXRhKSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBkYXRhLmxlZnRSYWlsTW9kZWw7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBkYXRhLmJlaGF2aW9yKG51bGwsIGRhdGEpO1xuICAgIH0sXG5cbiAgICBjaGlsZFZpZXc6IHZpZXcuTGVmdFJhaWxJdGVtLFxuICAgIHRlbXBsYXRlOiB3aW5kb3cuUEdNLkpTVFsnbGVmdF9yYWlsL2xlZnRfcmFpbCddLFxuXG4gICAgY2hpbGRWaWV3Q29udGFpbmVyOiAnLmpzLXJhaWwtaXRlbXMnLFxuICAgIGdldENoaWxkVmlldzogZnVuY3Rpb24gZ2V0Q2hpbGRWaWV3KGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBNb2RlbC5BZCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuQWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIE1vZGVsLlRhYm9vbGEpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LlRhYm9vbGE7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIE1vZGVsLlRvcGljQmxvY2spIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LlRvcGljQmxvY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIE1vZGVsLkxlZnRSYWlsSXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuTGVmdFJhaWxJdGVtO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoJ2xlZnRSYWlsJywgJ3Vua25vd24gY2hpbGQgdmlldyBmb3IgJywgaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxudmlldy5MYXlvdXQgPSBNYXJpb25ldHRlLkxheW91dFZpZXcuZXh0ZW5kKHtcbiAgICBlbDogJy5hcnRpY2xlLXBhZ2UnLFxuICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgXCJsZWZ0UmFpbFwiOiBcIi5qcy1sZWZ0UmFpbFwiXG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gdmlldztcblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJzNwJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3cuaW5zdGdybSAmJiB3aW5kb3cuaW5zdGdybS5FbWJlZHMgJiYgdHlwZW9mIHdpbmRvdy5pbnN0Z3JtLkVtYmVkcy5wcm9jZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRlYnVnKCdyZWZyZXNoaW5nIGluc3RhZ3JhbScpO1xuICAgICAgICB3aW5kb3cuaW5zdGdybS5FbWJlZHMucHJvY2VzcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnKCdub3QgcmVmcmVzaGluZyBpbnN0YWdyYW0nKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LkZCICYmIHdpbmRvdy5GQi5YRkJNTCAmJiB0eXBlb2Ygd2luZG93LkZCLlhGQk1MLnBhcnNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRlYnVnKCdyZWZyZXNoaW5nIGZhY2Vib29rJyk7XG4gICAgICAgIHdpbmRvdy5GQi5YRkJNTC5wYXJzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnKCdub3QgcmVmcmVzaGluZyBmYWNlYm9vaycpO1xuICAgIH1cbn07XG5cbi8qKiovIH0sXG4vKiA5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ2luaXQnKTtcblxudmFyIEJhc2VWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG5cbnZhciB0eXBlcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzZXRCYXNlVmlldzogZnVuY3Rpb24gc2V0QmFzZVZpZXcoVmlldykge1xuICAgICAgICAvLyBAdG9kbyB2YWxpZGF0aW9uXG4gICAgICAgIEJhc2VWaWV3ID0gVmlldztcbiAgICB9LFxuICAgIGdldEJhc2VWaWV3OiBmdW5jdGlvbiBnZXRCYXNlVmlldygpIHtcbiAgICAgICAgcmV0dXJuIEJhc2VWaWV3O1xuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGNvbnRlbnRUeXBlLCBWaWV3T3JPcHRpb25zKSB7XG4gICAgICAgIC8vIFwiaW5zdGFuY2VvZlwiIHdvbid0IHdvcmsgaGVyZSwgc2luY2UgaXQgd29uJ3QgcmV0dXJuIHRydWVcbiAgICAgICAgLy8gdW50aWwgdGhlIGNsYXNzIGlzIGluc3RhbnRpYXRlZC4gU28sIGFzIGEgcHJveHksIHdlIHRlc3RcbiAgICAgICAgLy8gZm9yIHRoZSBcImV4dGVuZFwiIG1ldGhvZC5cbiAgICAgICAgLy8gQHRvZG8gdmFsaWRhdGlvblxuICAgICAgICB0eXBlc1tjb250ZW50VHlwZV0gPSB0eXBlb2YgVmlld09yT3B0aW9ucy5leHRlbmQgPT09ICdmdW5jdGlvbicgPyBWaWV3T3JPcHRpb25zIDogQmFzZVZpZXcuZXh0ZW5kKFZpZXdPck9wdGlvbnMpO1xuICAgIH0sXG4gICAgYXR0YWNoOiBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgICAgIHZhciAkcHJvY2Vzc2VkQ29udGVudCA9ICQoKTtcblxuICAgICAgICAkKCdbZGF0YS1jb250ZW50LXR5cGVdOm5vdCguYXV0b2xvYWQtZGlyZWN0LXJlbmRlcik6bm90KC5pcy1jb250ZW50LWluaXRpYWxpemVkKScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRUeXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29udGVudC10eXBlJyk7XG4gICAgICAgICAgICB2YXIgdmlldztcblxuICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIHR5cGVzW2NvbnRlbnRUeXBlXSkge1xuICAgICAgICAgICAgICAgIHZpZXcgPSBuZXcgdHlwZXNbY29udGVudFR5cGVdKHsgZWw6IHRoaXMgfSk7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdjb250ZW50VmlldycsIHZpZXcucmVuZGVyKCkpO1xuICAgICAgICAgICAgICAgICRwcm9jZXNzZWRDb250ZW50ID0gJHByb2Nlc3NlZENvbnRlbnQuYWRkKHZpZXcuJGVsKTtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnSW5pdGlhbGl6aW5nIENvbnRlbnQgVHlwZScsIGNvbnRlbnRUeXBlLCAnb24nLCB0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ0NvdWxkIE5vdCBJbml0aWFsaXplIENvbnRlbnQgVHlwZScsIGNvbnRlbnRUeXBlLCAnb24nLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuYWRkQ2xhc3MoJ2lzLWNvbnRlbnQtaW5pdGlhbGl6ZWQnKTtcblxuICAgICAgICByZXR1cm4gJHByb2Nlc3NlZENvbnRlbnQ7XG4gICAgfVxufTtcblxuLyoqKi8gfSxcbi8qIDkxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZ2xvYmFsRGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlYnVnID0gZ2xvYmFsRGVidWcoJ2xpc3QnKTtcbnZhciBhZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5zZXR1cExpc3RJdGVtUmVmcmVzaCA9IF8ub25jZSh0aGlzLnNldHVwTGlzdEl0ZW1SZWZyZXNoKTtcbiAgICB9LFxuICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gSlNPTi5wYXJzZSgkKCcuanMtbGVmdFJhaWwtY29udGFpbmVyJykuY2hpbGRyZW4oJ3NjcmlwdCcpLnRleHQoKSkub3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuc2V0dXBMaXN0SXRlbVJlZnJlc2godGhpcy4kZWwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRUYWJvb2xhKHRoaXMuJGVsLCBvcHRpb25zKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2xvYmFsRGVidWcoJ2luaXQnLCAnRmFpbGVkIHRvIHBhcnNlIGRhdGEgZm9yIGxlZnQgcmFpbCBvcHRpb25zLicsICQoJy5qcy1sZWZ0UmFpbC1jb250YWluZXInKS5jaGlsZHJlbignc2NyaXB0JykpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXR1cExpc3RJdGVtUmVmcmVzaDogZnVuY3Rpb24gc2V0dXBMaXN0SXRlbVJlZnJlc2goJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICgkZWwuaGFzQ2xhc3MoJ2lzLWxpc3QtaXRlbS1yZWZyZXNoLXByb2Nlc3NlZCcpIHx8ICFvcHRpb25zLmxpc3RQYWdldmlld0ludGVydmFsIHx8ICEkLmlzTnVtZXJpYyhvcHRpb25zLmxpc3RQYWdldmlld0ludGVydmFsKSkgcmV0dXJuO1xuXG4gICAgICAgICRlbC5hZGRDbGFzcygnaXMtbGlzdC1pdGVtLXJlZnJlc2gtcHJvY2Vzc2VkJykuZmluZCgnLmpzLXJldmFydGljbGUtbGlzdEl0ZW0nKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWwpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgdmFyICRsaXN0SXRlbSA9ICQoZWwpO1xuICAgICAgICAgICAgJGxpc3RJdGVtLndheXBvaW50KHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggJSBvcHRpb25zLmxpc3RQYWdldmlld0ludGVydmFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygndHJpZ2dlcmluZyBwYWdldmlldyBmb3IgbGlzdCBpdGVtJywgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ3RyYWNrUGFnZXZpZXcnLCB7IGZpcmVHVE06ICdvbicgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggJSBvcHRpb25zLmxpc3RDb21zY29yZUludGVydmFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygndHJpZ2dlcmluZyBjb21zY29yZSBmb3InLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMudHJpZ2dlcigndHJhY2tDb21zY29yZScsIGVsLCAkbGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICUgb3B0aW9ucy5saXN0SXRlbVJhaWxBZEludGVydmFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygndHJpZ2dlcmluZyBsZWZ0IHJhaWwgcmVmcmVzaCBmb3InLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHMucmVmcmVzaCgkKCcuZGZwLWFkLW0xJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IFwiNTAlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGluc2VydFRhYm9vbGE6IGZ1bmN0aW9uIGluc2VydFRhYm9vbGEoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciAkdGFib29sYVdyYXBwZXIgPSAkZWwuZmluZCgnLnRhYm9vbGEtd3JhcHBlcicpO1xuXG4gICAgICAgIC8vIHdlIG9ubHkgd29yayBvbiBjb250ZW50IHdpdGggYSB1cmwgYnJlYWRjcnVtYlxuICAgICAgICAvLyBhbmQgYW4gZW1wdHkgdGFib29sYSB3cmFwcGVyXG4gICAgICAgIGlmICghJGVsLmRhdGEoJ3VybC1icmVhZGNydW1iJykgfHwgISR0YWJvb2xhV3JhcHBlci5pcygnOmVtcHR5JykpIHJldHVybjtcblxuICAgICAgICB3aW5kb3cuUEdNLnRhYm9vbGEuY3JlYXRlV2lkZ2V0KCR0YWJvb2xhV3JhcHBlci5nZXQoMCksIHtcbiAgICAgICAgICAgIG1vZGU6IG9wdGlvbnMuY29udGVudFdlbGxUYWJvb2xhTW9kZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJ3RhYm9vbGEtYmVsb3ctYXJ0aWNsZS10aHVtYm5haWxzJyxcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ0JlbG93IEFydGljbGUgVGh1bWJuYWlscydcbiAgICAgICAgfSwgZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgKyB3aW5kb3cuUEdNLmNvbmZpZy5jb250ZW50SG9zdCArICRlbC5kYXRhKCd1cmwtYnJlYWRjcnVtYicpKTtcbiAgICB9XG59O1xuXG4vKioqLyB9LFxuLyogOTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIFJhaWxWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIHRhZ05hbWU6ICdhc2lkZScsXG4gICAgY2xhc3NOYW1lOiAnbG9uZ2Zvcm1fX2JvZHktc3VwcGxlbWVudGFyeScsXG4gICAgaW5zZXJ0QWQ6IGZ1bmN0aW9uIGluc2VydEFkKCkge1xuICAgICAgICB0aGlzLiRlbC5hcHBlbmQod2luZG93LlBHTS5KU1RbJ2Fkcy9zbG90J10oeyBzbG90OiB3aW5kb3cuUEdNLmFkcy5kYXRhLnNsb3RzLm0gfSkpO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICB2YXIgJHBhcmFncmFwaHMgPSAkKCcubG9uZ2Zvcm1fX2JvZHktcHJpbWFyeScpLmNoaWxkcmVuKCdwJyk7XG5cbiAgICAgICAgLy8gdGhlcmUgc2hvdWxkbid0IGJlIG1vcmUgdGhhbiBvbmVcbiAgICAgICAgLy8gbG9uZ2Zvcm0gYXJ0aWNsZSBvbiB0aGUgcGFnZVxuICAgICAgICB3aW5kb3cuUEdNLkhlYWRlci5pbml0aWFsaXplU2Nyb2xsVHJhY2tpbmcodGhpcy4kZWwpO1xuXG4gICAgICAgIC8vIHN0aWNrIGluIHRoZSBsb25nZm9ybSBhZFxuICAgICAgICAkcGFyYWdyYXBocy5lcShNYXRoLmZsb29yKCRwYXJhZ3JhcGhzLmxlbmd0aCAvIDIpKS5hZnRlcih3aW5kb3cuUEdNLkpTVFsnYWRzL3Nsb3QnXSh7XG4gICAgICAgICAgICBzbG90OiB3aW5kb3cuUEdNLmFkcy5kYXRhLnNsb3RzLmxvbmdmb3JtX3QyXG4gICAgICAgIH0pKTtcblxuICAgICAgICAvLyB0aGlzIHZpZXcgYWxyZWFkeSBoYXMgSFRNTCBjb250ZW50XG4gICAgICAgIHRoaXMuJGJvZHlFbGVtZW50cyA9ICQoJy5sb25nZm9ybV9fYm9keS1wcmltYXJ5JykuY2hpbGRyZW4oKS5jbG9uZSgpO1xuICAgIH0sXG4gICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICB0aGlzLmxheW91dEFydGljbGUoKTtcbiAgICB9LFxuICAgIGxheW91dEFydGljbGU6IGZ1bmN0aW9uIGxheW91dEFydGljbGUoKSB7XG4gICAgICAgIHRoaXMuJCgnLmxvbmdmb3JtX19ib2R5IC5jb250YWluZXI6bm90KDpmaXJzdC1vZi10eXBlKScpLnJlbW92ZSgpO1xuICAgICAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJCgnLmxvbmdmb3JtX19ib2R5IC5jb250YWluZXInKTtcbiAgICAgICAgdmFyICRzdG9yeSA9ICRjb250YWluZXIuZmluZCgnLmxvbmdmb3JtX19ib2R5LXByaW1hcnknKS5lbXB0eSgpO1xuICAgICAgICB2YXIgaXNGdWxsV2lkdGhFbGVtZW50ID0gZnVuY3Rpb24gaXNGdWxsV2lkdGhFbGVtZW50KGVsKSB7XG4gICAgICAgICAgICAvLyBAdG9kbyBhZGQgbW9yZSBjb25kaXRpb25zXG4gICAgICAgICAgICByZXR1cm4gLTEgIT09IGVsLmNsYXNzTmFtZS5pbmRleE9mKCdkZnAtYWQtbG9uZ2Zvcm1fdDInKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGlzQ29udGVudFByb21vID0gZnVuY3Rpb24gaXNDb250ZW50UHJvbW8oZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAtMSAhPT0gZWwuY2xhc3NOYW1lLmluZGV4T2YoJ2VtYmVkZGVkLWNvbnRlbnQnKSAmJiAncHJvbW8nID09PSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1ha2VOZXdTZWN0aW9uID0gZnVuY3Rpb24gbWFrZU5ld1NlY3Rpb24ob3B0cykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBfLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QWQ6IGZhbHNlXG4gICAgICAgICAgICB9LCBvcHRzKTtcbiAgICAgICAgICAgIHZhciByYWlsVmlldyA9IG5ldyBSYWlsVmlldygpO1xuXG4gICAgICAgICAgICAkc3RvcnkgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdsb25nZm9ybV9fYm9keS1wcmltYXJ5Jyk7XG4gICAgICAgICAgICAkY29udGFpbmVyID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnY29udGFpbmVyJykuaW5zZXJ0QWZ0ZXIoJGNvbnRhaW5lcikgLy8gdGhpcyByZWZlcnMgdG8gdGhlIG9sZCBjb250YWluZXJcbiAgICAgICAgICAgIC5hcHBlbmQocmFpbFZpZXcucmVuZGVyKCkuJGVsKS5hcHBlbmQoJHN0b3J5KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmluc2VydEFkKSByYWlsVmlldy5pbnNlcnRBZCgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0UHJvbW9EYXRhID0gXy5iaW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcm9tb0RhdGE7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHByb21vRGF0YSA9IEpTT04ucGFyc2UodGhpcy4kKCcjZmVhdHVyZV9wcm9tb3MnKS50ZXh0KCkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGJhaWwgaWYgSlNPTiBkb2Vzbid0IHBhcnNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJvbW9EYXRhICYmIHByb21vRGF0YVswXTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHZhciBpbnNlcnRQcm9tbyA9IGZ1bmN0aW9uIGluc2VydFByb21vKHByb21vRGF0YSkge1xuICAgICAgICAgICAgLy8gdGhpcyBydW5zIGJlZm9yZSBlbWJlZHMgYXJlIHByb2Nlc3NlZCwgc28gaWYgd2UganVzdFxuICAgICAgICAgICAgLy8gZHJvcCBkYXRhIGluIGl0IHdpbGwgYmUgY2F1Z2h0XG4gICAgICAgICAgICAkKCc8ZGl2PicpLmF0dHIoe1xuICAgICAgICAgICAgICAgIGNsYXNzOiAnZW1iZWRkZWQtY29udGVudCcsXG4gICAgICAgICAgICAgICAgJ2RhdGEtdGVtcGxhdGUnOiAncHJvbW8nXG4gICAgICAgICAgICB9KS5hcHBlbmQoJCgnPHNjcmlwdCB0eXBlPVwiYXBwbGljYXRpb24vanNvblwiPicpLnRleHQoSlNPTi5zdHJpbmdpZnkocHJvbW9EYXRhKSkpLnByZXBlbmRUbygkY29udGFpbmVyLmZpbmQoJy5sb25nZm9ybV9fYm9keS1zdXBwbGVtZW50YXJ5JykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGRvIHRoZSBhY3R1YWwgbGF5b3V0XG4gICAgICAgIHRoaXMuJGJvZHlFbGVtZW50cy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcm9tb0RhdGE7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBib2R5IGlzIGEgZnVsbC13aWR0aCBlbGVtZW50LCBzdGFydCBhIG5ld1xuICAgICAgICAgICAgLy8gY29udGFpbmVyIGFuZCBzdGljayB0aGUgZnVsbHdpZHRoIGVsZW1lbnQgaW4gYmVmb3JlIGl0XG4gICAgICAgICAgICBpZiAoaXNGdWxsV2lkdGhFbGVtZW50KHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgcHJvbW9EYXRhID0gZ2V0UHJvbW9EYXRhKCk7XG4gICAgICAgICAgICAgICAgbWFrZU5ld1NlY3Rpb24oeyBpbnNlcnRBZDogISFwcm9tb0RhdGEgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb21vRGF0YSkgaW5zZXJ0UHJvbW8ocHJvbW9EYXRhKTtcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmJlZm9yZSh0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDb250ZW50UHJvbW8odGhpcykpIHtcbiAgICAgICAgICAgICAgICBtYWtlTmV3U2VjdGlvbih7IGluc2VydEFkOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmxvbmdmb3JtX19ib2R5LXN1cHBsZW1lbnRhcnknKS5wcmVwZW5kKHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc3RvcnkuYXBwZW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBraWxsIGVtcHR5IHBhcmFncmFwaHNcbiAgICAgICAgdGhpcy4kKCcubG9uZ2Zvcm1fX2JvZHkgcCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5uZXJIVE1MLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5lbnF1aXJlLnJlZ2lzdGVyKHdpbmRvdy5QR00ubWVkaWFRdWVyaWVzLmxhcmdlLCB7XG4gICAgICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2goKSB7XG4gICAgICAgICAgICAgICAgJCgnLmRmcC1hZC1tLCAuZGZwLWFkLW0xJykucmFpbFNsaWRlcih7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlck9mZnNldDogJCgnI3NpdGUtaGVhZGVyJykuaGVpZ2h0KCkgKyA4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5tYXRjaDogZnVuY3Rpb24gdW5tYXRjaCgpIHtcbiAgICAgICAgICAgICAgICAkKCcuZGZwLWFkLW0sIC5kZnAtYWQtbTEnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5yYWlsU2xpZGVycy5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJC5yYWlsU2xpZGVycy5yZWNhbGN1bGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKioqLyB9LFxuLyogOTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgndG9waWMnKTtcblxuLy8gQHRvZG86IG1heWJlIHRoaXMgc2hvdWxkIGJlIG92ZXJyaWRhYmxlXG52YXIgQUpBWF9VUkkgPSAnL2ZlX2RhdGEvdG9waWNfYmxvY2tzLyc7XG5cbi8vIHV0aWxpdHkgZnVuY3Rpb24gdG8gcmVjYWxjdWxhdGUgc3RpY2t5IGFkc1xudmFyIHJlY2FsY3VsYXRlUmFpbFNsaWRlcnMgPSBfLmRlYm91bmNlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJC5yYWlsU2xpZGVycykgJC5yYWlsU2xpZGVycy5yZWNhbGN1bGF0ZSgpO1xufSwgMjAwKTtcblxudmFyIFB1c2hkb3duUHJvbW8gPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe30pO1xuXG52YXIgQmxvY2sgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy5nZXQoJ3R5cGUnKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdtdWx0aXBsZScpIHJldHVybjsgLy8gbm8gcGFnaW5hdGlvblxuICAgICAgICB0aGlzLnBhZ2VMZW5ndGggPSB0eXBlID09PSAndmlkZW8nIHx8IHR5cGUgPT09ICdnYWxsZXJ5JyA/IDIgOiAzO1xuICAgICAgICB0aGlzLm9uKCdjaGFuZ2U6Y3VycmVudEluZGV4JywgdGhpcy5zZXRDdXJyZW50UGFnZSk7XG4gICAgICAgIHRoaXMuc2V0KCd0b3RhbFBhZ2VzJywgTWF0aC5jZWlsKHRoaXMuZ2V0KCdpdGVtcycpLmxlbmd0aCAvIHRoaXMucGFnZUxlbmd0aCkpO1xuICAgICAgICB0aGlzLnNldCgnY3VycmVudEluZGV4JywgMCk7XG4gICAgfSxcbiAgICBzZXRDdXJyZW50UGFnZTogZnVuY3Rpb24gc2V0Q3VycmVudFBhZ2UoKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldCgnY3VycmVudEluZGV4Jyk7XG5cbiAgICAgICAgLy8gY3VycmVudEluZGV4IGlzIHplcm8taW5kZXhlZFxuICAgICAgICB0aGlzLnNldCgnY3VycmVudFBhZ2VJdGVtcycsIHRoaXMuZ2V0KCdpdGVtcycpLnNsaWNlKHRoaXMucGFnZUxlbmd0aCAqIGN1cnJlbnRJbmRleCwgdGhpcy5wYWdlTGVuZ3RoICogY3VycmVudEluZGV4ICsgdGhpcy5wYWdlTGVuZ3RoKSk7XG4gICAgICAgIHRoaXMuc2V0KCdjdXJyZW50UGFnZScsIGN1cnJlbnRJbmRleCArIDEpOyAvLyBsYXN0LCBiZWNhdXNlIGl0IHRyaWdnZXJzIHJlbmRlclxuICAgIH0sXG4gICAgbmV4dFBhZ2U6IGZ1bmN0aW9uIG5leHRQYWdlKCkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlSW5kZXggPSB0aGlzLmdldCgnY3VycmVudEluZGV4JykgKyAxO1xuICAgICAgICB0aGlzLnNldCgnY3VycmVudEluZGV4JywgY2FuZGlkYXRlSW5kZXggPCB0aGlzLmdldCgndG90YWxQYWdlcycpID8gY2FuZGlkYXRlSW5kZXggOiAwKTtcbiAgICB9LFxuICAgIHByZXZQYWdlOiBmdW5jdGlvbiBwcmV2UGFnZSgpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZUluZGV4ID0gdGhpcy5nZXQoJ2N1cnJlbnRJbmRleCcpIC0gMTtcbiAgICAgICAgdGhpcy5zZXQoJ2N1cnJlbnRJbmRleCcsIGNhbmRpZGF0ZUluZGV4IDwgMCA/IHRoaXMuZ2V0KCd0b3RhbFBhZ2VzJykgLSAxIDogY2FuZGlkYXRlSW5kZXgpO1xuICAgIH1cbn0pO1xuXG52YXIgQmxvY2tzQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgfSxcblxuICAgIG1vZGVsOiBCbG9jayxcblxuICAgIGdldEN1cnJlbnRJbmRleDogZnVuY3Rpb24gZ2V0Q3VycmVudEluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SW5kZXg7XG4gICAgfSxcblxuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGRlYnVnKCd0b3BpYycsICdyZW5kZXJpbmcgJyArIHRoaXMuY3VycmVudEluZGV4ICsgJyBvZiAnICsgdGhpcy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5hdCh0aGlzLmN1cnJlbnRJbmRleCsrICUgdGhpcy5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGFyZ2V0IHx8IDA7XG4gICAgfVxufSk7XG5cbnZhciBCbG9ja1ZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgdGFnTmFtZTogJ2FzaWRlJyxcbiAgICBjbGFzc05hbWU6IGZ1bmN0aW9uIGNsYXNzTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnY2Fwc3VsZScsICdjYXBzdWxlLS0nICsgdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKSwgJ2NhcHN1bGUtLScgKyAodGhpcy5tb2RlbC5nZXQoJ3R5cGUnKSA9PT0gJ3B1c2hkb3duJyA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpXS5qb2luKCcgJyk7XG4gICAgfSxcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMubW9kZWwuZ2V0KCd0eXBlJyk7XG4gICAgICAgIGlmICh0eXBlID09PSAndmlkZW8nIHx8IHR5cGUgPT09ICdnYWxsZXJ5Jykge1xuICAgICAgICAgICAgdHlwZSA9ICdtZWRpYSc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xpc3RfaW5kZXgnIHx8IHR5cGUgPT09ICdyZXZpZXcnKSB7XG4gICAgICAgICAgICB0eXBlID0gJ2xpc3QnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB3aW5kb3cuUEdNLkpTVFsndG9waWNfaW5kZXgvY2Fwc3VsZS0nICsgdHlwZV07XG5cbiAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlOmN1cnJlbnRQYWdlJywgdGhpcy5yZW5kZXIpO1xuICAgIH0sXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAuY2Fwc3VsZV9fbmF2LWJ1dHRvbi0tbmV4dCc6ICduZXh0UGFnZScsXG4gICAgICAgICdjbGljayAuY2Fwc3VsZV9fbmF2LWJ1dHRvbi0tcHJldic6ICdwcmV2UGFnZSdcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgICAgICByZWNhbGN1bGF0ZVJhaWxTbGlkZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgbmV4dFBhZ2U6IGZ1bmN0aW9uIG5leHRQYWdlKCkge1xuICAgICAgICB0aGlzLm1vZGVsLm5leHRQYWdlKCk7XG4gICAgfSxcbiAgICBwcmV2UGFnZTogZnVuY3Rpb24gcHJldlBhZ2UoKSB7XG4gICAgICAgIHRoaXMubW9kZWwucHJldlBhZ2UoKTtcbiAgICB9XG59KTtcblxudmFyIEJsb2NrU3dpcGVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIHRhZ05hbWU6ICdhc2lkZScsXG4gICAgY2xhc3NOYW1lOiBmdW5jdGlvbiBjbGFzc05hbWUoKSB7XG4gICAgICAgIHZhciBvcmllbnRhdGlvbiA9IHRoaXMubW9kZWwuZ2V0KCd0eXBlJykgPT09ICdwdXNoZG93bicgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgICByZXR1cm4gWydjYXBzdWxlJywgJ2NhcHN1bGUtLXN3aXBlJywgJ2NhcHN1bGUtLXN3aXBlLScgKyBvcmllbnRhdGlvbiwgJ2NhcHN1bGUtLScgKyBvcmllbnRhdGlvbl0uam9pbignICcpO1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLm1vZGVsLmdldCgndHlwZScpO1xuICAgICAgICB2YXIgYXBwZW5kID0gJyc7XG4gICAgICAgIGlmICh0eXBlID09PSAnY2hhcnQnIHx8IHR5cGUgPT09ICdwdXNoZG93bicpIHtcbiAgICAgICAgICAgIGFwcGVuZCA9ICctJyArIHR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHdpbmRvdy5QR00uSlNUWyd0b3BpY19pbmRleC9jYXBzdWxlLXN3aXBlJyArIGFwcGVuZF07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKHRoaXMubW9kZWwudG9KU09OKCkpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSk7XG5cbi8vIHN1YnNlcXVlbnQgY2FsbHMgcmV0dXJuIHRoZSBzYW1lIG9iamVjdFxudmFyIGdldEJsb2Nrc0NvbGxlY3Rpb24gPSBfLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQmxvY2tzQ29sbGVjdGlvbigpO1xufSk7XG5cbi8vIHN1YnNlcXVlbnQgY2FsbHMgcmV0dXJuIHRoZSBzYW1lIG9iamVjdFxudmFyIGdldFB1c2hkb3duUHJvbW8gPSBfLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUHVzaGRvd25Qcm9tbygpO1xufSk7XG5cbnZhciBmZXRjaEJsb2NrRGF0YSA9IGZ1bmN0aW9uIGZldGNoQmxvY2tEYXRhKHNsdWcsIHB1c2hkb3duUHJvbW8sIGJsb2Nrc0NvbGxlY3Rpb24pIHtcbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IEFKQVhfVVJJICsgc2x1ZyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEucHVzaGRvd25Qcm9tbyAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YS5wdXNoZG93blByb21vICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHVzaGRvd25Qcm9tby5zZXQoZGF0YS5wdXNoZG93blByb21vKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsb2Nrc0NvbGxlY3Rpb24uc2V0KGRhdGEuYmxvY2tzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICAgICAgZGVidWcoJ3RvcGljJywgJ2NvdWxkIG5vdCBmZXRjaCB0b3BpYyBibG9ja3MnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5ibG9ja1ZpZXdzID0gW107XG4gICAgICAgIHRoaXMucHVzaGRvd25Qcm9tbyA9IGdldFB1c2hkb3duUHJvbW8oKTtcbiAgICAgICAgdGhpcy5ibG9ja3NDb2xsZWN0aW9uID0gZ2V0QmxvY2tzQ29sbGVjdGlvbigpO1xuICAgICAgICBmZXRjaEJsb2NrRGF0YSh0aGlzLiRlbC5kYXRhKCd0b3BpY3NsdWcnKSwgdGhpcy5wdXNoZG93blByb21vLCB0aGlzLmJsb2Nrc0NvbGxlY3Rpb24pO1xuXG4gICAgICAgIHRoaXMuY29sbGVjdGlvblJlc2V0VGFyZ2V0ID0gdGhpcy5ibG9ja3NDb2xsZWN0aW9uLmdldEN1cnJlbnRJbmRleCgpO1xuXG4gICAgICAgIHRoaXMucmVzaXplU2xpZGVyc0ZvckFkcygpO1xuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoXy5iaW5kKHRoaXMucmVuZGVyLCB0aGlzKSwgMTUwKSk7XG4gICAgfSxcbiAgICByZXNpemVTbGlkZXJzRm9yQWRzOiBmdW5jdGlvbiByZXNpemVTbGlkZXJzRm9yQWRzKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcgPSB3aW5kb3cuZ29vZ2xldGFnIHx8IHt9O1xuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLmNtZCA9IHdpbmRvdy5nb29nbGV0YWcuY21kIHx8IFtdO1xuXG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5hZGRFdmVudExpc3RlbmVyKCdzbG90UmVuZGVyRW5kZWQnLCBfLmJpbmQoc2VsZi5oYW5kbGVTbG90UmVuZGVyRW5kZWQsIHNlbGYpKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBldmVudHM6IF8uZXh0ZW5kKHtcbiAgICAgICAgJ2NsaWNrIC50b3BpYy1pbmRleF9fc3VtbWFyeS10b2dnbGUnOiAndG9nZ2xlU3VtbWFyeScsXG4gICAgICAgICdjbGljayAudG9waWMtc2hhcmVfX3RvZ2dsZSc6ICd0b2dnbGVTaGFyZSdcbiAgICB9LCB3aW5kb3cuUEdNLnRvdWNoID8ge1xuICAgICAgICAndG91Y2hlbmQgLnRvcGljLWNhcmRfX2ZlYXR1cmVkLWZsYWcnOiAndG9nZ2xlRmVhdHVyZWRGbGFnSW5kaWNhdG9yJ1xuICAgIH0gOiB7XG4gICAgICAgICdtb3VzZWVudGVyIC50b3BpYy1jYXJkX19mZWF0dXJlZC1mbGFnJzogJ3RvZ2dsZUZlYXR1cmVkRmxhZ0luZGljYXRvcicsXG4gICAgICAgICdtb3VzZWxlYXZlIC50b3BpYy1jYXJkX19mZWF0dXJlZC1mbGFnJzogJ3RvZ2dsZUZlYXR1cmVkRmxhZ0luZGljYXRvcidcbiAgICB9KSxcbiAgICBpc0Rlc2t0b3A6IGZ1bmN0aW9uIGlzRGVza3RvcCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+PSAxMDI0O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuJHJhaWwgPSB0aGlzLiRyYWlsIHx8IHRoaXMuJCgnLmpzLWxlZnRSYWlsJyk7XG4gICAgICAgIHRoaXMuJHdlbGwgPSB0aGlzLiR3ZWxsIHx8IHRoaXMuJCgnLmpzLW1haW5XZWxsJyk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVCbG9ja1ZpZXdzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNEZXNrdG9wKCkpIHRoaXMuaW5zZXJ0TGVmdFJhaWxBZHMoKTtcbiAgICAgICAgaWYgKHRoaXMuYmxvY2tzQ29sbGVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0QmxvY2tWaWV3cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmJsb2Nrc0NvbGxlY3Rpb24sICdhZGQnLCB0aGlzLnJlbmRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHRvZ2dsZUZlYXR1cmVkRmxhZ0luZGljYXRvcjogZnVuY3Rpb24gdG9nZ2xlRmVhdHVyZWRGbGFnSW5kaWNhdG9yKGUpIHtcbiAgICAgICAgaWYgKC9pcy1leHBhbmRlZC8udGVzdChlLmN1cnJlbnRUYXJnZXQuY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTmFtZSA9IGUuY3VycmVudFRhcmdldC5jbGFzc05hbWUucmVwbGFjZSgnIGlzLWV4cGFuZGVkJywgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTmFtZSArPSAnIGlzLWV4cGFuZGVkJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdG9nZ2xlU3VtbWFyeTogZnVuY3Rpb24gdG9nZ2xlU3VtbWFyeSgpIHtcbiAgICAgICAgdGhpcy4kKCcudG9waWMtaW5kZXhfX3N1bW1hcnknKS50b2dnbGVDbGFzcygnaXMtY2xvc2VkJyk7XG4gICAgICAgIF8uZGVmZXIocmVjYWxjdWxhdGVSYWlsU2xpZGVycyk7XG4gICAgfSxcbiAgICB0b2dnbGVTaGFyZTogZnVuY3Rpb24gdG9nZ2xlU2hhcmUoZSkge1xuICAgICAgICBpZiAoL2lzLWV4cGFuZGVkLy50ZXN0KGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5jbGFzc05hbWUgPSBlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTmFtZS5yZXBsYWNlKCcgaXMtZXhwYW5kZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTmFtZSArPSAnIGlzLWV4cGFuZGVkJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW5zZXJ0TGVmdFJhaWxBZHM6IGZ1bmN0aW9uIGluc2VydExlZnRSYWlsQWRzKCkge1xuICAgICAgICB2YXIgYWRIVE1MID0gWyc8ZGl2IGNsYXNzPVwidG9waWMtaW5kZXhfX3NsaWRlLWNvbnRhaW5lclwiPicsIHdpbmRvdy5QR00uSlNUWydhZHMvc2xvdCddKHsgc2xvdDogd2luZG93LlBHTS5hZHMuZGF0YS5zbG90cy5yYWlsIH0pLCAnPC9kaXY+J10uam9pbignJyk7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuJHJhaWwuZmluZCgnLnRvcGljLWluZGV4X19zbGlkZS1jb250YWluZXInKS5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICB0aGlzLiRyYWlsLmFwcGVuZChhZEhUTUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyBwbHVnaW4gaXMgaWRlbXBvdGVudDsgcmVwZWF0ZWQgY2FsbHMgd29uJ3QgbWF0dGVyXG4gICAgICAgIHRoaXMuJHJhaWwuZmluZCgnLmRmcC1hZCcpLnJhaWxTbGlkZXIoe1xuICAgICAgICAgICAgY29udGV4dDogJy50b3BpYy1pbmRleF9fc2xpZGUtY29udGFpbmVyJyxcbiAgICAgICAgICAgIGhlYWRlck9mZnNldDogZnVuY3Rpb24gaGVhZGVyT2Zmc2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKCcjc2l0ZS1oZWFkZXInKS5vdXRlckhlaWdodCh0cnVlKSArIDI0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGluc2VydEJsb2NrVmlld3M6IGZ1bmN0aW9uIGluc2VydEJsb2NrVmlld3MoKSB7XG4gICAgICAgIHZhciAkZWxlbWVudFRvSW5zZXJ0QWZ0ZXIgPSB0aGlzLmlzRGVza3RvcCgpID8gdGhpcy4kcmFpbC5maW5kKCcudG9waWMtaW5kZXhfX3NsaWRlLWNvbnRhaW5lcicpIDogdGhpcy4kd2VsbC5maW5kKCcuZGZwLWFkJyk7XG4gICAgICAgIHZhciB2aWV3VG9Vc2UgPSB0aGlzLmlzRGVza3RvcCgpID8gQmxvY2tWaWV3IDogQmxvY2tTd2lwZVZpZXc7XG5cbiAgICAgICAgJGVsZW1lbnRUb0luc2VydEFmdGVyLmVhY2goXy5iaW5kKGZ1bmN0aW9uIChpLCBlbCkge1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgdmlld1RvVXNlKHsgbW9kZWw6IHRoaXMuYmxvY2tzQ29sbGVjdGlvbi5uZXh0KCkgfSk7XG4gICAgICAgICAgICB0aGlzLmJsb2NrVmlld3MucHVzaCh2aWV3LnJlbmRlcigpKTtcbiAgICAgICAgICAgIHZpZXcuJGVsLmluc2VydEFmdGVyKGVsKTtcbiAgICAgICAgfSwgdGhpcykpO1xuXG4gICAgICAgIGlmICh0aGlzLnB1c2hkb3duUHJvbW8uaGFzKCd0aXRsZScpKSB7XG4gICAgICAgICAgICB0aGlzLiQoJy5qcy1wdXNoZG93blByb21vJykuYXBwZW5kKG5ldyB2aWV3VG9Vc2UoeyBtb2RlbDogdGhpcy5wdXNoZG93blByb21vIH0pLnJlbmRlcigpLiRlbCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUJsb2NrVmlld3M6IGZ1bmN0aW9uIHJlbW92ZUJsb2NrVmlld3MoKSB7XG4gICAgICAgIF8uZWFjaCh0aGlzLmJsb2NrVmlld3MsIGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgICB2aWV3LnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kKCcuanMtcHVzaGRvd25Qcm9tbycpLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuYmxvY2tWaWV3cyA9IFtdO1xuICAgICAgICB0aGlzLmJsb2Nrc0NvbGxlY3Rpb24ucmVzZXQodGhpcy5jb2xsZWN0aW9uUmVzZXRUYXJnZXQpO1xuICAgIH0sXG4gICAgLy8gQHNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9kb3VibGVjbGljay1ncHQvcmVmZXJlbmNlI2dvb2dsZXRhZ2V2ZW50c3Nsb3RyZW5kZXJlbmRlZGV2ZW50XG4gICAgaGFuZGxlU2xvdFJlbmRlckVuZGVkOiBmdW5jdGlvbiBoYW5kbGVTbG90UmVuZGVyRW5kZWQoZSkge1xuICAgICAgICBpZiAoZS5pc0VtcHR5IHx8ICF0aGlzLmlzRGVza3RvcCgpKSByZXR1cm47XG4gICAgICAgIHZhciBzbG90RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuc2xvdC5nZXRTbG90RWxlbWVudElkKCkpO1xuICAgICAgICBpZiAoIS8oZGZwLWFkLShyYWlsfG0xKSkvLnRlc3Qoc2xvdEVsZW1lbnQuY2xhc3NOYW1lKSkgcmV0dXJuO1xuICAgICAgICBzbG90RWxlbWVudC5wYXJlbnROb2RlLnN0eWxlLm1pbkhlaWdodCA9IHBhcnNlSW50KGUuc2l6ZVsxXSwgMTApICsgMTAwMCArICdweCc7XG4gICAgICAgIHJlY2FsY3VsYXRlUmFpbFNsaWRlcnMoKTtcbiAgICB9XG59KTtcblxuLyoqKi8gfSxcbi8qIDk0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBCYWNrYm9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIF8uYmluZEFsbCh0aGlzLCAncmVuZGVyJyk7XG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplLicgKyB0aGlzLmNpZCwgXy5kZWJvdW5jZSh0aGlzLnJlbmRlciwgMjAwKSk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDEwMjMgJiYgdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmFja2dyb3VuZC1kZXNrdG9wJykpIHtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0QmFja2dyb3VuZCgnZGVza3RvcCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDc2NyAmJiB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1iYWNrZ3JvdW5kLXRhYmxldCcpKSB7XG4gICAgICAgICAgICB0aGlzLmxheW91dEJhY2tncm91bmQoJ3RhYmxldCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGxheW91dEJhY2tncm91bmQ6IGZ1bmN0aW9uIGxheW91dEJhY2tncm91bmQoc2l6ZSkge1xuICAgICAgICB0aGlzLiRlbC5jc3Moe1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1iYWNrZ3JvdW5kLScgKyBzaXplKSArICcpJyxcbiAgICAgICAgICAgIG1pbkhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICogOSAvIDE2ICsgJ3B4JyxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy4kKCcudG9waWMtc3BsYXNoX19jb250ZW50JykuaGVpZ2h0KCkgKyAncHgnXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICQod2luZG93KS5vZmYoJy4nICsgdGhpcy5jaWQpO1xuICAgICAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcbiAgICB9XG59KTtcblxuLyoqKi8gfSxcbi8qIDk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBCYWNrYm9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGdldENvbnRlbnRJbmZvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSkuZ2V0Q29udGVudEluZm87XG5cbnZhciByb3V0ZXIgPSBuZXcgQmFja2JvbmUuUm91dGVyKCk7IC8vIHRoaXMgZ2V0cyBydW4gb25jZVxudmFyIHN0YXJ0SGlzdG9yeSA9IF8ub25jZShmdW5jdGlvbiAoKSB7XG4gICAgQmFja2JvbmUuaGlzdG9yeS5zdGFydCh7XG4gICAgICAgIHB1c2hTdGF0ZTogdHJ1ZVxuICAgIH0pO1xufSk7XG5cbi8vIHNhdmUgdGhlIHF1ZXJ5IG9uY2VcbnZhciBxdWVyeSA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCB8fCAnJztcblxuZnVuY3Rpb24gc2V0VXBSb3V0ZXJOYXZpZ2F0aW9uKCkge1xuICAgICQoJy51cmwtYnJlYWRjcnVtYi5pcy11bnByb2Nlc3NlZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgJHByZXZpb3VzID0gJHRoaXMucHJldkFsbCgnLnVybC1icmVhZGNydW1iJykuZmlyc3QoKTsgLy8gcmV0dXJucyBlbGVtZW50cyBpbiByZXZlcnNlIG9yZGVyXG5cbiAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2lzLXVucHJvY2Vzc2VkJykud2F5cG9pbnQoe1xuICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgJG5ld0FjdGl2ZSA9ICR0aGlzO1xuXG4gICAgICAgICAgICAgICAgLy8gd2UncmUgc2Nyb2xsaW5nIHVwIGFuZCBsb2FkaW5nIHByZXZpb3VzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAndXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJhaWwgaWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29udGVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoJHByZXZpb3VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAkbmV3QWN0aXZlID0gJHByZXZpb3VzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGJhaWwgaWYgd2UncmUgc2Nyb2xsaW5nIGludG8gY29udGVudCB0aGF0IGlzXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBhY3RpdmUgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgICAgICAgICAgaWYgKCRuZXdBY3RpdmUuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjaGFuZ2VVcmwoJG5ld0FjdGl2ZS5kYXRhKCd1cmwtYnJlYWRjcnVtYicpLCAkbmV3QWN0aXZlLmRhdGEoJ2NvbnRlbnQtdHlwZScpIHx8ICd1bmtub3duJywgJG5ld0FjdGl2ZSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZzZXQ6ICczMCUnXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG52YXIgY2hhbmdlVGl0bGUgPSBmdW5jdGlvbiAodGl0bGUsIHN1ZmZpeCkge1xuICAgIC8vIGdyYWIgdGhlIFwifCBTaXRlIE5hbWVcIiBmcm9tIHRoZSB0aXRsZVxuICAgIHZhciBzdWZmaXhQb3MgPSB0aXRsZS5sYXN0SW5kZXhPZignfCcpO1xuICAgIGlmIChzdWZmaXhQb3MgPiAtMSkge1xuICAgICAgICBzdWZmaXggPSAnICcgKyB0aXRsZS5zdWJzdHIoc3VmZml4UG9zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gY2hhbmdlVGl0bGUoYmFzZVRpdGxlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRpdGxlICE9PSAndW5kZWZpbmVkJyAmJiBiYXNlVGl0bGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGJhc2VUaXRsZSArIHN1ZmZpeDtcbiAgICAgICAgfVxuICAgIH07XG59KGRvY3VtZW50LnRpdGxlLCAnJyk7XG5cbi8vIHJlY2FsY3VsYXRlIHRoZSBpcy1hY3RpdmUgY2xhc3Mgd2hlbiBuZXcgY29udGVudCBpcyBsb2FkZWRcbmZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZUZpZWxkKGNvbnRlbnRUeXBlLCAkbmV3QWN0aXZlKSB7XG4gICAgJCgnLnVybC1icmVhZGNydW1iJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICRuZXdBY3RpdmUuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VVcmwoZGVzdCwgY29udGVudFR5cGUsICRuZXdBY3RpdmUsIGRpciwgb3B0aW9ucykge1xuICAgIHN0YXJ0SGlzdG9yeSgpO1xuICAgIGV2ZW50cy50cmlnZ2VyKCd1cmxDaGFuZ2U6cHJlJywgY29udGVudFR5cGUsICRuZXdBY3RpdmUpO1xuICAgIGNoYW5nZVRpdGxlKGdldENvbnRlbnRJbmZvKCRuZXdBY3RpdmUpLnRpdGxlKTtcbiAgICByb3V0ZXIubmF2aWdhdGUoZGVzdCArIHF1ZXJ5LCBvcHRpb25zKTtcbiAgICB3aW5kb3cuUEdNLmV2ZW50cy50cmlnZ2VyKCd1cmxDaGFuZ2U6cG9zdCcsIGNvbnRlbnRUeXBlLCAkbmV3QWN0aXZlLCBkaXIpO1xufVxuXG53aW5kb3cuUEdNLmV2ZW50cy5vbigndXJsQ2hhbmdlOnByZScsIHVwZGF0ZUFjdGl2ZUZpZWxkKTtcbndpbmRvdy5QR00uZXZlbnRzLm9uKCdjb250ZW50TG9hZGVkJywgc2V0VXBSb3V0ZXJOYXZpZ2F0aW9uKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2hhbmdlVXJsOiBjaGFuZ2VVcmxcbn07XG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB0b3VjaDogJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2hcbn07XG5cbi8qKiovIH0sXG4vKiA5NyAqLyxcbi8qIDk4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ2NoYXJ0YmVhdCcpO1xuXG52YXIgZ2V0Q29udGVudEluZm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFja0NoYXJ0YmVhdChjb250ZW50VHlwZSwgJGNvbnRlbnQpIHtcbiAgICB2YXIgaW5mbyA9IGdldENvbnRlbnRJbmZvKCRjb250ZW50KTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93Ll9zZl9hc3luY19jb25maWcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5fc2ZfYXN5bmNfY29uZmlnLmF1dGhvcnMgPSBpbmZvLmF1dGhvcnM7XG4gICAgICAgIHdpbmRvdy5fc2ZfYXN5bmNfY29uZmlnLnNlY3Rpb25zID0gaW5mby5jaGFydGJlYXRTZWN0aW9uO1xuICAgICAgICB3aW5kb3cuX3NmX2FzeW5jX2NvbmZpZy50aXRsZSA9IGluZm8udGl0bGU7XG4gICAgICAgIHdpbmRvdy5fc2ZfYXN5bmNfY29uZmlnLnBhdGggPSBpbmZvLmNhbm9uaWNhbDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdy5wU1VQRVJGTFkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cucFNVUEVSRkxZLnZpcnR1YWxQYWdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRlYnVnKCdDYWxsaW5nIHZpcnR1YWxQYWdlIG9uJywgaW5mby5jYW5vbmljYWwsIGluZm8udGl0bGUsIHdpbmRvdy5fc2ZfYXN5bmNfY29uZmlnKTtcbiAgICAgICAgd2luZG93LnBTVVBFUkZMWS52aXJ0dWFsUGFnZShpbmZvLmNhbm9uaWNhbCwgaW5mby50aXRsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWcoJ0Nhbm5vdCBjYWxsIHZpcnR1YWxQYWdlIGR1ZSB0bycsIHdpbmRvdy5wU1VQRVJGTFkpO1xuICAgIH1cbn07XG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBjb21zY29yZSB0cmFja2luZyBmdW5jdGlvbiBmb3IgVVJMIGNoYW5nZVxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKCdjb21zY29yZScpO1xuXG5mdW5jdGlvbiB0cmFja0l0ZW1WaWV3Q29tc2NvcmUoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuQ09NU0NPUkUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuQ09NU0NPUkUuYmVhY29uID09PSAnZnVuY3Rpb24nICYmIHdpbmRvdy5jb21zY29yZVZhcnMpIHtcbiAgICAgICAgZGVidWcoJ2NhbGwgYmVhY29uJywgd2luZG93LkNPTVNDT1JFLCB3aW5kb3cuY29tc2NvcmVWYXJzKTtcbiAgICAgICAgd2luZG93LkNPTVNDT1JFLmJlYWNvbih3aW5kb3cuY29tc2NvcmVWYXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1ZygnZGlkIG5vdCBjYWxsIGJlYWNvbicsIHdpbmRvdy5DT01TQ09SRSwgd2luZG93LmNvbXNjb3JlVmFycyk7XG4gICAgfVxufVxuXG52YXIgY291bnRlciA9IDA7IC8vIGluIGNhc2UgdGhlcmUgaXMgbm8gbnVtZXJpYyBpZCBvbiB0aGUgZWxlbWVudFxuZnVuY3Rpb24gc2VuZFRvQ29tc2NvcmUoY29udGVudFR5cGUsICRjb250ZW50KSB7XG4gICAgaWYgKHR5cGVvZiAkY29udGVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mICRjb250ZW50LmRhdGEgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGVidWcoJ3VuYWJsZSB0byB0cmFjayB3aXRoIGNvbnRlbnQnLCAkY29udGVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVidWcoJ3JlcXVlc3QgdG8gdHJhY2sgdmlhJywgZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XG4gICAgJC5hamF4KCcvZmVfZGF0YS9wYWdldmlld19jYW5kaWRhdGUvJyArICgkY29udGVudC5kYXRhKCdpZCcpIHx8ICsrY291bnRlciksIHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgX3BnbWlnbm9yZTogRGF0ZS5ub3coKVxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiB0cmFja0l0ZW1WaWV3Q29tc2NvcmUsXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiBjb21zY29yZUVycm9yKCkge1xuICAgICAgICAgICAgZGVidWcoJ2Vycm9yIG9uIGFqYXggcmV0dXJuJywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRUb0NvbXNjb3JlO1xuXG4vKioqLyB9LFxuLyogMTAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgnZ2EnKTtcblxudmFyIGNhdGVnb3J5ID0gbnVsbDtcbnZhciBhY3Rpb24gPSBudWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzZXRDYXRlZ29yeTogZnVuY3Rpb24gc2V0Q2F0ZWdvcnkoY2F0KSB7XG4gICAgICAgIGNhdGVnb3J5ID0gY2F0LnRvU3RyaW5nKCk7XG4gICAgICAgIGRlYnVnKCd0cmFja2luZyBjYXRlZ29yeSBzZXQgdG8gJyArIGNhdGVnb3J5KTtcbiAgICB9LFxuXG4gICAgc2V0QWN0aW9uOiBmdW5jdGlvbiBzZXRBY3Rpb24oYWN0KSB7XG4gICAgICAgIGFjdGlvbiA9IGFjdC50b1N0cmluZygpO1xuICAgICAgICBkZWJ1ZygndHJhY2tpbmcgYWN0aW9uIHNldCB0byAnICsgYWN0aW9uKTtcbiAgICB9LFxuXG4gICAgdHJhY2tFdmVudDogZnVuY3Rpb24gdHJhY2tFdmVudChvcHRzKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICAgICAgZXZlbnQ6ICd0cmFja0V2ZW50JyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbGFiZWw6IG51bGwsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG5vbkludGVyYWN0aW9uOiB0cnVlXG4gICAgICAgIH0sIG9wdHMpO1xuXG4gICAgICAgIC8vIGRlYnVnIHdpdGggdGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLFxuICAgICAgICAvLyBhbmQgd2l0aCB0aGUgcmVzdWx0aW5nIGhhc2hcbiAgICAgICAgZGVidWcoJ3RyYWNrRXZlbnQnLCBvcHRzLCBvcHRpb25zKTtcbiAgICAgICAgd2luZG93Ll9nYXEucHVzaChbJ190cmFja0V2ZW50Jywgb3B0aW9ucy5jYXRlZ29yeSwgb3B0aW9ucy5hY3Rpb24sIG9wdGlvbnMubGFiZWwsIG9wdGlvbnMudmFsdWUsIG9wdGlvbnMubm9uSW50ZXJhY3Rpb25dKTtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICB0cmFja1BhZ2V2aWV3OiBmdW5jdGlvbiB0cmFja1BhZ2V2aWV3KG9wdHMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICBldmVudDogJ3Njcm9sbFBhZ2V2aWV3JyxcbiAgICAgICAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LCBvcHRzKTtcblxuICAgICAgICBvcHRpb25zLnBhdGhOYW1lID0gb3B0aW9ucy5wYXRoO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5wYXRoO1xuXG4gICAgICAgIGRlYnVnKCd0cmFja1BhZ2V2aWV3Jywgb3B0cywgb3B0aW9ucyk7XG4gICAgICAgIHdpbmRvdy5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldycsIG9wdGlvbnMucGF0aE5hbWVdKTtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKG9wdGlvbnMpO1xuICAgIH1cbn07XG5cbi8qKiovIH0sXG4vKiAxMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZ2V0Q29udGVudEluZm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFja0dhKGNvbnRlbnRUeXBlLCAkY29udGVudCkge1xuICAgIHZhciBpbmZvID0gZ2V0Q29udGVudEluZm8oJGNvbnRlbnQpO1xuXG4gICAgZXZlbnRzLnRyaWdnZXIoJ3RyYWNrUGFnZXZpZXcnLCB7XG4gICAgICAgICdmaXJlR1RNJzogJ29uJyxcbiAgICAgICAgJ2NvbnRlbnRJZCc6IGluZm8uaWQsXG4gICAgICAgICdhdXRob3InOiBpbmZvLmF1dGhvcnMsXG4gICAgICAgICdwdWJsaXNoRGF0ZSc6IGluZm8ucHVibGlzaERhdGUsXG4gICAgICAgICdjYXRlZ29yeSc6IGluZm8uYW5hbHl0aWNzQ2F0ZWdvcnksXG4gICAgICAgICd0YWdzJzogaW5mby5hbmFseXRpY3NUYWdzXG4gICAgfSk7XG59O1xuXG4vKioqLyB9LFxuLyogMTAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5lbWJlZHMuZ2V0QmFzZU1vZGVsKCkuZXh0ZW5kKHtcbiAgICBtYWtlSW1hZ2VjYWNoZVNyYzogZnVuY3Rpb24gbWFrZUltYWdlY2FjaGVTcmMobWVkaWEpIHtcbiAgICAgICAgdmFyIGZpbGVzUGF0aCA9ICdmaWxlcyc7XG4gICAgICAgIHZhciBwcmVzZXRzID0ge1xuICAgICAgICAgICAgcG9ydHJhaXQ6ICczMjB4NDE2X2dhbGxlcnknLFxuICAgICAgICAgICAgc3F1YXJlOiAnMzIweDMyMCcsXG4gICAgICAgICAgICBkZWZhdWx0OiAnNDgweDI3MCdcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5tYWtlSW1hZ2VTcmMobWVkaWEucGF0aCkucmVwbGFjZShmaWxlc1BhdGgsIFtmaWxlc1BhdGgsICdzdHlsZXMnLCBwcmVzZXRzW21lZGlhLm9yaWVudGF0aW9uXSB8fCBwcmVzZXRzLmRlZmF1bHQsICdwdWJsaWMnXS5qb2luKCcvJykpO1xuICAgIH1cbn0pO1xuXG4vKioqLyB9LFxuLyogMTAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBIb3dJdFdvcmtzVmlldyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA0KTtcbnZhciBUaW1lTWFjaGluZVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG52YXIgUm93VmlldyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdmFyICRzcG90aWZ5RGF0YVNvdXJjZSA9IHRoaXMuJCgnLmpzLWhhc1Nwb3RpZnlUeXBlJyk7XG4gICAgICAgIHZhciAkYXVkaW9FbGVtZW50ID0gdGhpcy4kKCcuanMtYXVkaW8tZWxlbWVudCcpO1xuXG4gICAgICAgIC8vIGF0dGFjaCB2aWV3c1xuICAgICAgICBpZiAodGhpcy4kKCcudGltZS1tYWNoaW5lJykubGVuZ3RoID4gMCkgbmV3IFRpbWVNYWNoaW5lVmlldyh7IGVsOiB0aGlzLiQoJy50aW1lLW1hY2hpbmUnKSB9KS5yZW5kZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuJCgnLnllLWNoYXJ0X19ob3ctaXQtd29ya3MnKS5sZW5ndGggPiAwKSBuZXcgSG93SXRXb3Jrc1ZpZXcoeyBlbDogdGhpcy4kKCcueWUtY2hhcnRfX2hvdy1pdC13b3JrcycpIH0pLnJlbmRlcigpO1xuXG4gICAgICAgIHRoaXMuJCgnLnllLWNoYXJ0X19pdGVtJykuZWFjaChmdW5jdGlvbiAoaSwgZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUm93Vmlldyh7XG4gICAgICAgICAgICAgICAgZWw6IGVsLFxuICAgICAgICAgICAgICAgICRzcG90aWZ5RGF0YVNvdXJjZTogJHNwb3RpZnlEYXRhU291cmNlLFxuICAgICAgICAgICAgICAgICRhdWRpb0VsZW1lbnQ6ICRhdWRpb0VsZW1lbnRcbiAgICAgICAgICAgIH0pLnJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKioqLyB9LFxuLyogMTA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBCYWNrYm9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLmpzLXRvZ2dsZS1tb2RhbCc6ICd0b2dnbGVNb2RhbCdcbiAgICB9LFxuICAgIHRvZ2dsZU1vZGFsOiBmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHtcbiAgICAgICAgdGhpcy4kZWwudG9nZ2xlQ2xhc3MoJ3llLWNoYXJ0X19ob3ctaXQtd29ya3MtLXZpc2libGUnKTtcbiAgICB9XG59KTtcblxuLyoqKi8gfSxcbi8qIDEwNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQmFja2JvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIFZvdGluZ0JhclZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG52YXIgU3BvdGlmeVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMik7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoZGF0YSkge1xuICAgICAgICB2YXIgc3BvdGlmeUlkID0gdGhpcy4kZWwuYXR0cignZGF0YS1zcG90aWZ5LWlkJyk7XG4gICAgICAgIHZhciBzcG90aWZ5VXJsID0gdGhpcy4kZWwuYXR0cignZGF0YS1zcG90aWZ5LXVybCcpO1xuICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLiQoJy55ZS1jaGFydF9faXRlbS10aXRsZScpLmZpcnN0KCkudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgdGhpcy5zcG90aWZ5UHJldmlld1ZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLnNwb3RpZnlGb290ZXJWaWV3ID0gbnVsbDtcbiAgICAgICAgaWYgKHNwb3RpZnlJZCAmJiBzcG90aWZ5SWQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdmFyIHZpZXdBcmdzID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICBzcG90aWZ5SWQ6IHNwb3RpZnlJZCxcbiAgICAgICAgICAgICAgICBzcG90aWZ5VXJsOiBzcG90aWZ5VXJsLFxuICAgICAgICAgICAgICAgICRkYXRhU291cmNlOiBkYXRhLiRzcG90aWZ5RGF0YVNvdXJjZSxcbiAgICAgICAgICAgICAgICAkYXVkaW9FbGVtZW50OiBkYXRhLiRhdWRpb0VsZW1lbnRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc3BvdGlmeVByZXZpZXdWaWV3ID0gbmV3IFNwb3RpZnlWaWV3KF8uZXh0ZW5kKHt9LCB2aWV3QXJncywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB3aW5kb3cuUEdNLkpTVFsnY2hhcnQvc3BvdGlmeS9wcmV2aWV3J10sXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuJCgnLmpzLXNwb3RpZnlQcmV2aWV3LXdyYXBwZXInKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy5zcG90aWZ5Rm9vdGVyVmlldyA9IG5ldyBTcG90aWZ5VmlldyhfLmV4dGVuZCh7fSwgdmlld0FyZ3MsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2NoYXJ0L3Nwb3RpZnkvZm9vdGVyJ10sXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuJCgnLmpzLXNwb3RpZnlGb290ZXItd3JhcHBlcicpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMuc3BvdGlmeVByZXZpZXdWaWV3LCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLnNwb3RpZnlGb290ZXJWaWV3LCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlSW50KHRoaXMuJGVsLmRhdGEoJ3JhbmsnKSwgMTApICUgMTAgPT09IDApIHRoaXMuJGVsLndheXBvaW50KHtcbiAgICAgICAgICAgIHRyaWdnZXJPbmNlOiB0cnVlLFxuICAgICAgICAgICAgb2Zmc2V0OiAnMTAwJScsXG4gICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50Jywge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2NoYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnaXRlbScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnc2Nyb2xsJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDEwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ldyBWb3RpbmdCYXJWaWV3KHsgZWw6IHRoaXMuJCgnLnllLWNoYXJ0X192b3RlJykgfSkucmVuZGVyKCk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3BvdGlmeVByZXZpZXdWaWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLiQoJy5qcy1zcG90aWZ5UHJldmlldycpLmh0bWwodGhpcy5zcG90aWZ5UHJldmlld1ZpZXcucmVuZGVyKCkuJGVsKTtcbiAgICAgICAgICAgIHRoaXMuJCgnLmpzLXNwb3RpZnlGb290ZXInKS5odG1sKHRoaXMuc3BvdGlmeUZvb3RlclZpZXcucmVuZGVyKCkuJGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgYS55ZS1jaGFydF9faXRlbS1uYXYtbGluayc6ICdzaG93Q2hhcnRJdGVtU3VwcGxlbWVudGFyeSdcbiAgICB9LFxuICAgIHNob3dDaGFydEl0ZW1TdXBwbGVtZW50YXJ5OiBmdW5jdGlvbiBzaG93Q2hhcnRJdGVtU3VwcGxlbWVudGFyeShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJykpIHtcbiAgICAgICAgICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50Jywge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnY2hhcnQnLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3BsYXktdmlkZW8nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiQoJy55ZS1jaGFydF9faXRlbS10aXRsZScpLnRleHQoKS50cmltKCkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBwbGF5IHZldm8gdmlkZW9zXG4gICAgICAgICAgICAkLm1hZ25pZmljUG9wdXAub3Blbih7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHJlZicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaWZyYW1lJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHNob3cgdGhlIGFwcHJvcHJpYXRlIGludGVyZmFjZVxuICAgICAgICAgICAgdGhpcy4kKCcueWUtY2hhcnRfX2l0ZW0tbmF2LWxpbmsnKS5yZW1vdmVDbGFzcygneWUtY2hhcnRfX2l0ZW0tbmF2LWxpbmstLWFjdGl2ZScpLmZpbHRlcihlLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCd5ZS1jaGFydF9faXRlbS1uYXYtbGluay0tYWN0aXZlJyk7XG4gICAgICAgICAgICB0aGlzLiQoJy55ZS1jaGFydF9faXRlbS1zdXBwbGVtZW50YXJ5JykucmVtb3ZlQ2xhc3MoJ3llLWNoYXJ0X19pdGVtLXN1cHBsZW1lbnRhcnktLWFjdGl2ZScpLmZpbHRlcihlLmN1cnJlbnRUYXJnZXQuaGFzaCkuYWRkQ2xhc3MoJ3llLWNoYXJ0X19pdGVtLXN1cHBsZW1lbnRhcnktLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKiovIH0sXG4vKiAxMDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIFBsYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblxuLy8gbm90IHVzaW5nIHRoaXNcbi8vIGNvbnN0ICR3aW5kb3cgPSAkKHdpbmRvdyk7XG4vL1xuLy8gZnVuY3Rpb24gaGFuZGxlRHJhZyhlLCBzbGlkZXIpIHtcbi8vICAgICBjb25zdCBzdGFydFggPSBlLnBhZ2VYO1xuLy8gICAgICR3aW5kb3cub24oJ21vdXNlbW92ZS5kcmFnZ3lCeCcsIGUgPT4ge1xuLy8gICAgICAgICBzbGlkZXJbc3RhcnRYIDwgZS5wYWdlWCA/ICdnb1RvUHJldlNsaWRlJyA6ICdnb1RvTmV4dFNsaWRlJ10oKTtcbi8vICAgICAgICAgJHdpbmRvdy5vZmYoJ21vdXNlbW92ZS5kcmFnZ3lCeCcpO1xuLy8gICAgIH0pO1xuLy8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciAkbmF2TGFiZWwgPSB0aGlzLiQoJy50aW1lLW1hY2hpbmVfX25hdi1sYWJlbCcpO1xuICAgICAgICB0aGlzLnNsaWRlciA9IHRoaXMuJCgnLnRpbWUtbWFjaGluZV9faXRlbXMnKS5ieFNsaWRlcih7XG4gICAgICAgICAgICBwYWdlcjogZmFsc2UsXG4gICAgICAgICAgICBpbmZpbml0ZUxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgbmV4dFNlbGVjdG9yOiAnLnRpbWUtbWFjaGluZV9fbmF2LWxpbmtzJyxcbiAgICAgICAgICAgIHByZXZTZWxlY3RvcjogJy50aW1lLW1hY2hpbmVfX25hdi1saW5rcycsXG4gICAgICAgICAgICBzbGlkZVdpZHRoOiB0aGlzLiQoJy50aW1lLW1hY2hpbmVfX25hdicpLndpZHRoKCksXG4gICAgICAgICAgICBoaWRlQ29udHJvbE9uRW5kOiB0cnVlLFxuICAgICAgICAgICAgb25TbGlkZUFmdGVyOiBmdW5jdGlvbiBvblNsaWRlQWZ0ZXIoJGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCgkZWwuYXR0cignZGF0YS15ZWFyJyksIDEwKTtcbiAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZVBsYXllcigpO1xuICAgICAgICAgICAgICAgICRuYXZMYWJlbC50ZXh0KHllYXIpLnByZXYoJy50aW1lLW1hY2hpbmVfX25hdi1saW5rcycpLmZpbmQoJy5ieC1uZXh0JykudGV4dCh5ZWFyICsgMSkubmV4dCgnLmJ4LXByZXYnKS50ZXh0KHllYXIgLSAxKTtcbiAgICAgICAgICAgICAgICBzZWxmLiRjdXJyZW50U2xpZGUgPSAkZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNsaWRlci5nb1RvU2xpZGUodGhpcy5zbGlkZXIuZ2V0U2xpZGVDb3VudCgpIC0gMik7IC8vIGxhc3QgeWVhclxuICAgIH0sXG4gICAgLy8gYXVnbWVudCB0aGUgc2xpZGVyIHdpdGggZHJhZ2dpbmdcbiAgICBldmVudHM6IHtcbiAgICAgICAgLy8gJ2RyYWdzdGFydCAuYngtdmlld3BvcnQnOiAnZHJhZ0hhbmRsZXInLFxuICAgICAgICAvLyAnbW91c2Vkb3duIC5ieC12aWV3cG9ydCc6ICdtb3VzZWRvd25IYW5kbGVyJyxcbiAgICAgICAgJ2NsaWNrIC50aW1lLW1hY2hpbmVfX2l0ZW0tbWVkaWEnOiAnc3RhcnRWaWRlbydcbiAgICB9LFxuICAgIC8vIGRyYWdIYW5kZXI6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgIC8vIG1vdXNlZG93bkhhbmRsZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vICAgICBoYW5kbGVEcmFnKGUsIHRoaXMuc2xpZGVyKTtcbiAgICAvLyB9LFxuICAgIHN0YXJ0VmlkZW86IGZ1bmN0aW9uIHN0YXJ0VmlkZW8oKSB7XG4gICAgICAgIHRoaXMudmlkZW9QbGF5ZXIgPSBuZXcgUGxheWVyLlZpZXcoe1xuICAgICAgICAgICAgbW9kZWw6IG5ldyBQbGF5ZXIuTW9kZWwoe1xuICAgICAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLiRjdXJyZW50U2xpZGUuZmluZCgnW2RhdGEtcGxheWVyLWlkXScpLmRhdGEoJ3BsYXllci1pZCcpLFxuICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHRoaXMuJGN1cnJlbnRTbGlkZS5maW5kKCdbZGF0YS12aWRlby1pZF0nKS5kYXRhKCd2aWRlby1pZCcpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb1BsYXllci5zZXREaW1lbnNpb25zKHtcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy4kY3VycmVudFNsaWRlLmZpbmQoJy50aW1lLW1hY2hpbmVfX2l0ZW0tbWVkaWEnKS5oZWlnaHQoKSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLiRjdXJyZW50U2xpZGUuZmluZCgnLnRpbWUtbWFjaGluZV9faXRlbS1tZWRpYScpLndpZHRoKClcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9QbGF5ZXIucmVuZGVyKCkuJGVsLmluc2VydEFmdGVyKHRoaXMuJGN1cnJlbnRTbGlkZS5maW5kKCcudGltZS1tYWNoaW5lX19pdGVtLW1lZGlhJykuaGlkZSgpKTtcblxuICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMudmlkZW9QbGF5ZXIsICdlbmRlZCcsIHRoaXMucmVtb3ZlUGxheWVyKTtcbiAgICB9LFxuICAgIHJlbW92ZVBsYXllcjogZnVuY3Rpb24gcmVtb3ZlUGxheWVyKCkge1xuICAgICAgICBpZiAoIXRoaXMudmlkZW9QbGF5ZXIpIHJldHVybjtcbiAgICAgICAgdGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMudmlkZW9QbGF5ZXIpO1xuICAgICAgICB0aGlzLnZpZGVvUGxheWVyLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnZpZGVvUGxheWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy4kKCcudGltZS1tYWNoaW5lX19pdGVtLW1lZGlhJykuc2hvdygpO1xuICAgIH1cbn0pO1xuXG4vKioqLyB9LFxuLyogMTA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBCYWNrYm9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBjcmVhdGVTY3JpcHRUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKS5jcmVhdGVTY3JpcHRUYWc7XG5cbi8vY29uc3QgbG9hZGVkU2NyaXB0cyA9IHt9O1xuXG5mdW5jdGlvbiBlbnN1cmVCcmlnaHRjb3ZlQXBpKHBsYXllcklkKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVNjcmlwdFRhZygnLy9wbGF5ZXJzLmJyaWdodGNvdmUubmV0LzExMjU5MTE0MTQvJyArIHBsYXllcklkICsgJ19kZWZhdWx0L2luZGV4Lm1pbi5qcycpO1xufVxuXG52YXIgUGxheWVyVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICB0YWdOYW1lOiAndmlkZW8nLFxuICAgIGNsYXNzTmFtZTogJ3ZpZGVvLWpzJyxcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICBlbnN1cmVCcmlnaHRjb3ZlQXBpKHRoaXMubW9kZWwuZ2V0KCdwbGF5ZXJJZCcpKTsgLy8gaGVhZHN0YXJ0XG4gICAgfSxcbiAgICBhdHRyaWJ1dGVzOiBmdW5jdGlvbiBhdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2NvbnRyb2xzJzogJ2NvbnRyb2xzJyxcbiAgICAgICAgICAgICdhdXRvcGxheSc6ICdhdXRvcGxheScsXG4gICAgICAgICAgICAnaWQnOiAndmlkZW8tanMtJyArIHRoaXMubW9kZWwuZ2V0KCd2aWRlb0lkJyksXG4gICAgICAgICAgICAnZGF0YS1lbWJlZCc6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICdkYXRhLWFjY291bnQnOiAnMTEyNTkxMTQxNCcsXG4gICAgICAgICAgICAnZGF0YS1wbGF5ZXInOiB0aGlzLm1vZGVsLmdldCgncGxheWVySWQnKSxcbiAgICAgICAgICAgICdkYXRhLXZpZGVvLWlkJzogdGhpcy5tb2RlbC5nZXQoJ3ZpZGVvSWQnKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2V0RGltZW5zaW9uczogZnVuY3Rpb24gc2V0RGltZW5zaW9ucyh2YWx1ZXMpIHtcbiAgICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHZhbHVlcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB2YWx1ZXMud2lkdGgpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgZW5zdXJlQnJpZ2h0Y292ZUFwaSh0aGlzLm1vZGVsLmdldCgncGxheWVySWQnKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5wbGF5ZXIpIHJldHVybjsgLy8gcHJldmVudCBpbnN0YW50aWF0aW5nIHR3aWNlXG4gICAgICAgICAgICBzZWxmLnBsYXllciA9IHdpbmRvdy52aWRlb2pzKCd2aWRlby1qcy0nICsgc2VsZi5tb2RlbC5nZXQoJ3ZpZGVvSWQnKSk7XG5cbiAgICAgICAgICAgIHNlbGYucGxheWVyLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdlbmRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50cmlnZ2VyKCdlbmRlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIpIHRoaXMucGxheWVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBudWxsO1xuICAgICAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgTW9kZWw6IEJhY2tib25lLk1vZGVsLmV4dGVuZCgpLFxuICAgIFZpZXc6IFBsYXllclZpZXdcbn07XG5cbi8qKiovIH0sXG4vKiAxMDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgZXZlbnRzOiAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuRG9jdW1lbnRUb3VjaCA/IHtcbiAgICAgICAgJ3RvdWNoZW5kIC55ZS1jaGFydF9fdm90ZS10b29sdGlwLXdyYXBwZXInOiAndG9nZ2xlVG9vbHRpcCdcbiAgICB9IDoge1xuICAgICAgICAnbW91c2VlbnRlciAueWUtY2hhcnRfX3ZvdGUtdG9vbHRpcC13cmFwcGVyJzogJ3RvZ2dsZVRvb2x0aXAnLFxuICAgICAgICAnbW91c2VsZWF2ZSAueWUtY2hhcnRfX3ZvdGUtdG9vbHRpcC13cmFwcGVyJzogJ3RvZ2dsZVRvb2x0aXAnXG4gICAgfSxcbiAgICB0b2dnbGVUb29sdGlwOiBmdW5jdGlvbiB0b2dnbGVUb29sdGlwKCkge1xuICAgICAgICB0aGlzLiQoJy55ZS1jaGFydF9fdm90ZS1pbmZvLXRvb2x0aXAnKS50b2dnbGVDbGFzcygneWUtY2hhcnRfX3ZvdGUtaW5mby10b29sdGlwLS12aXNpYmxlJyk7XG4gICAgfVxufSk7XG5cbi8qKiovIH0sXG4vKiAxMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIE1vZGVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xudmFyIGdldENoYXJ0VHJhY2tzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApO1xudmFyIGdldEFydGlzdE9yQWxidW1UcmFja3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSk7XG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKCdzcG90aWZ5Jyk7XG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIHRyYWNrRXZlbnQgPSBmdW5jdGlvbiB0cmFja0V2ZW50KGFjdGlvbiwgbGFiZWwpIHtcbiAgICBldmVudHMudHJpZ2dlcigndHJhY2tFdmVudCcsIHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxhYmVsOiBsYWJlbFxuICAgIH0pO1xufTtcblxudmFyIG1vZGVscyA9IHt9O1xuXG52YXIgZ2V0RGF0YVByb21pc2UgPSBmdW5jdGlvbiBnZXREYXRhUHJvbWlzZSgkZGF0YVNvdXJjZSwgc3BvdGlmeUlkKSB7XG4gICAgdmFyIHNwb3RpZnlUeXBlID0gJGRhdGFTb3VyY2UuYXR0cignZGF0YS1zcG90aWZ5LXR5cGUnKTtcbiAgICBpZiAodHlwZW9mIHNwb3RpZnlUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJ1bmRlZmluZWQgdHlwZSBmcm9tOiBcIiArICRkYXRhU291cmNlKTtcbiAgICB9XG4gICAgc3dpdGNoIChzcG90aWZ5VHlwZSkge1xuICAgICAgICBjYXNlIFwidHJhY2tcIjpcbiAgICAgICAgICAgIHJldHVybiBnZXRDaGFydFRyYWNrcygkZGF0YVNvdXJjZSwgc3BvdGlmeUlkKTtcbiAgICAgICAgY2FzZSBcImFydGlzdFwiOlxuICAgICAgICBjYXNlIFwiYWxidW1cIjpcbiAgICAgICAgICAgIHJldHVybiBnZXRBcnRpc3RPckFsYnVtVHJhY2tzKCRkYXRhU291cmNlLCBzcG90aWZ5SWQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwidW5rbm93biB0eXBlOiBcIiArIHNwb3RpZnlUeXBlKTtcbiAgICB9XG59O1xuXG52YXIgZ2V0TW9kZWwgPSBmdW5jdGlvbiBnZXRNb2RlbCgkZGF0YVNvdXJjZSwgdGl0bGUsIHNwb3RpZnlJZCwgc3BvdGlmeVVybCkge1xuICAgIHZhciBzcG90aWZ5VHlwZSA9ICRkYXRhU291cmNlLmF0dHIoJ2RhdGEtc3BvdGlmeS10eXBlJyk7XG4gICAgaWYgKCFtb2RlbHMuaGFzT3duUHJvcGVydHkoc3BvdGlmeUlkKSkge1xuICAgICAgICBtb2RlbHNbc3BvdGlmeUlkXSA9IG5ldyBNb2RlbCh0aXRsZSwgc3BvdGlmeVR5cGUsIHNwb3RpZnlVcmwsIGdldERhdGFQcm9taXNlKCRkYXRhU291cmNlLCBzcG90aWZ5SWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWxzW3Nwb3RpZnlJZF07XG59O1xuXG52YXIgcGxheWluZ01vZGVsID0gbnVsbDtcbnZhciBjdXJyZW50UmVzb2x2ZSA9IG51bGw7XG52YXIgY3VycmVudFJlamVjdCA9IG51bGw7XG5cbnZhciBvbmVUaW1lQXVkaW9FbmRlZCA9IF8ub25jZShmdW5jdGlvbiAoJGF1ZGlvRWxlbWVudCkge1xuICAgICRhdWRpb0VsZW1lbnQub24oJ2VuZGVkLnByZXZpZXdzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY3VycmVudFJlc29sdmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG52YXIgZ2V0UHJldmlld1Jlc29sdmVyID0gZnVuY3Rpb24gZ2V0UHJldmlld1Jlc29sdmVyKCRhdWRpb0VsZW1lbnQsIGF1ZGlvRWxlbWVudCwgdHJhY2tJbmZvKSB7XG4gICAgb25lVGltZUF1ZGlvRW5kZWQoJGF1ZGlvRWxlbWVudCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIGN1cnJlbnRSZWplY3QgPSByZWplY3Q7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQucGF1c2UoKTtcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjAyNDUxNjQvYXVkaW8tY3VycmVudHRpbWUtaW52YWxpZHN0YXRlZXJyb3ItaWUxMS1qcy1odG1sNVxuICAgICAgICAgICAgaWYgKCFpc05hTihhdWRpb0VsZW1lbnQuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5zcmMgPSB0cmFja0luZm8ucHJldmlld1VybDtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuXG52YXIgZGVmZXJNb2RlbFBsYXlpbmcgPSBmdW5jdGlvbiBkZWZlck1vZGVsUGxheWluZyhtb2RlbCwgaXNQbGF5aW5nKSB7XG4gICAgXy5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vZGVsLnNldCgncGxheWluZycsIGlzUGxheWluZyk7XG4gICAgfSk7XG59O1xuXG52YXIgcGxheVByZXZpZXdzID0gZnVuY3Rpb24gcGxheVByZXZpZXdzKCRhdWRpb0VsZW1lbnQsIGF1ZGlvRWxlbWVudCwgbW9kZWwpIHtcbiAgICB2YXIgcHJldmlld3MgPSBtb2RlbC5nZXQoJ3ByZXZpZXdzJyk7XG4gICAgaWYgKCFtb2RlbC5oYXNQcmV2aWV3cygpKSB7XG4gICAgICAgIGRlYnVnKCdubyBwcmV2aWV3cyBmb3InLCBtb2RlbCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVmZXJNb2RlbFBsYXlpbmcobW9kZWwsIHRydWUpO1xuICAgIHZhciBjdXJyZW50UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZXZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnRQcm9taXNlID0gY3VycmVudFByb21pc2UudGhlbihnZXRQcmV2aWV3UmVzb2x2ZXIoJGF1ZGlvRWxlbWVudCwgYXVkaW9FbGVtZW50LCBwcmV2aWV3c1tpXSkpO1xuICAgIH1cbiAgICBjdXJyZW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVmZXJNb2RlbFBsYXlpbmcobW9kZWwsIGZhbHNlKTtcbiAgICAgICAgY3VycmVudFJlc29sdmUgPSBudWxsO1xuICAgICAgICBjdXJyZW50UmVqZWN0ID0gbnVsbDtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwcm9taXNlIGNhdWdodCcsIGFyZ3VtZW50cyk7XG4gICAgfSk7XG59O1xuXG52YXIgdG9nZ2xlUHJldmlldyA9IGZ1bmN0aW9uIHRvZ2dsZVByZXZpZXcoJGF1ZGlvRWxlbWVudCwgbW9kZWwpIHtcbiAgICB2YXIgYXVkaW9FbGVtZW50ID0gJGF1ZGlvRWxlbWVudFswXTtcbiAgICBpZiAodHlwZW9mIGF1ZGlvRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVidWcoJ2F1ZGlvRWxlbWVudCB1bmRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobW9kZWwgPT09IHBsYXlpbmdNb2RlbCkge1xuICAgICAgICAvLyB3ZSBhcmUgcGxheWluZywgc28gcGF1c2UvcGxheSB0aGUgYXVkaW9FbGVtZW50XG4gICAgICAgIC8vIGRvIG5vdCByZWplY3QgdGhlIGN1cnJlbnQgcHJvbWlzZXMgdG8gcHJlc2VydmUgcHJvZ3Jlc3NcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChtb2RlbC5nZXQoJ3BsYXlpbmcnKSkge1xuICAgICAgICAgICAgICAgIGRlZmVyTW9kZWxQbGF5aW5nKG1vZGVsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYXVkaW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVyTW9kZWxQbGF5aW5nKG1vZGVsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhdWRpb0VsZW1lbnQucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBkZWJ1ZygnaXNzdWUgcGxheWluZy9wYXVzaW5nJywgZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRSZWplY3QgIT09IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgZWxzZSBpcyBwbGF5aW5nIGFuZCB3ZSB3YW50IHRvXG4gICAgICAgICAgICBwbGF5aW5nTW9kZWwuc2V0KCdwbGF5aW5nJywgZmFsc2UpO1xuICAgICAgICAgICAgY3VycmVudFJlamVjdCgpO1xuICAgICAgICAgICAgY3VycmVudFJlamVjdCA9IG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRlYnVnKCdpc3N1ZSByZWplY3RpbmcnLCBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBsYXlpbmdNb2RlbCA9IG1vZGVsO1xuXG4gICAgdHJhY2tFdmVudCgncGxheS1wcmV2aWV3JywgbW9kZWwuZ2V0KCd0aXRsZScpKTtcbiAgICBwbGF5UHJldmlld3MoJGF1ZGlvRWxlbWVudCwgYXVkaW9FbGVtZW50LCBtb2RlbCk7XG59O1xuXG52YXIgb3BlblNwb3RpZnlVcmwgPSBmdW5jdGlvbiBvcGVuU3BvdGlmeVVybCgkYXVkaW9FbGVtZW50LCBtb2RlbCkge1xuICAgIHRyYWNrRXZlbnQoJ3BsYXktZnVsbHRyYWNrJywgbW9kZWwuZ2V0KCd0aXRsZScpKTtcbiAgICB2YXIgYXVkaW9FbGVtZW50ID0gJGF1ZGlvRWxlbWVudFswXTtcbiAgICBpZiAodHlwZW9mIGF1ZGlvRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVidWcoJ2F1ZGlvRWxlbWVudCB1bmRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3BvdGlmeVVybCA9IG1vZGVsLmdldCgnc3BvdGlmeVVybCcpO1xuICAgIGlmIChwbGF5aW5nTW9kZWwgIT09IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlZmVyTW9kZWxQbGF5aW5nKHBsYXlpbmdNb2RlbCwgZmFsc2UpO1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRlYnVnKCdpc3N1ZSBwbGF5aW5nL3BhdXNpbmcnLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cub3BlbihzcG90aWZ5VXJsLCAnX2JsYW5rJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBnZXRNb2RlbDogZ2V0TW9kZWwsXG4gICAgdG9nZ2xlUHJldmlldzogdG9nZ2xlUHJldmlldyxcbiAgICBvcGVuU3BvdGlmeVVybDogb3BlblNwb3RpZnlVcmxcbn07XG5cbi8qKiovIH0sXG4vKiAxMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGNvdW50cnlDb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciB0cmFja3NEYXRhQnlVcmwgPSB7fTtcbnZhciBwcm9taXNlc0J5VXJsID0ge307XG5cbi8vIC9mZS1hamF4L3Nwb3RpZnkvcHJldmlldy9jaGFydC10cmFja3MvMzc5LzIwMTYtMDEtMDkvVVNcbnZhciBnZXRDaGFydFRyYWNrcyA9IGZ1bmN0aW9uIGdldENoYXJ0VHJhY2tzKCRkYXRhU291cmNlLCBzcG90aWZ5SWQpIHtcbiAgICB2YXIgY2hhcnRDb2RlID0gJGRhdGFTb3VyY2UuYXR0cignZGF0YS1jaGFydC1jb2RlJyk7XG4gICAgdmFyIGRhdGUgPSAkZGF0YVNvdXJjZS5hdHRyKCdkYXRhLWNoYXJ0LWRhdGUnKTtcbiAgICBpZiAodHlwZW9mIGNoYXJ0Q29kZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdjaGFydENvZGUgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdkYXRlIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHZhciB1cmwgPSBbJy9mZS1hamF4L3Nwb3RpZnkvcHJldmlldy9jaGFydC10cmFja3MnLCBjaGFydENvZGUsIGRhdGUsIGNvdW50cnlDb2RlXS5qb2luKCcvJyk7XG5cbiAgICBpZiAodHJhY2tzRGF0YUJ5VXJsW3VybF0pIHtcbiAgICAgICAgLy8gd2UgaGF2ZSB0aGUgZGF0YVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFt0cmFja3NEYXRhQnlVcmxbdXJsXVtzcG90aWZ5SWRdXSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwcm9taXNlc0J5VXJsW3VybF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIHNldCB1cCB0aGUgZmV0Y2hlclxuICAgICAgICB2YXIgZmV0Y2hpbmdQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tzRGF0YUJ5VXJsW3VybF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1JvdyA9IGRhdGFbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja3NEYXRhQnlVcmxbdXJsXVt0aGlzUm93Lm9yaWdpbmFsSWRdID0gdGhpc1Jvdy5wcmV2aWV3cztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvbWlzZXNCeVVybFt1cmxdO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJvbWlzZXNCeVVybFt1cmxdID0gZmV0Y2hpbmdQcm9taXNlO1xuICAgIH1cblxuICAgIC8vIHNvbWVvbmUgaXMgKG9yIHdlIGFyZSkgYWxyZWFkeSBpbiBmbGlnaHQgZm9yIHVzXG4gICAgcmV0dXJuIHByb21pc2VzQnlVcmxbdXJsXS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt0cmFja3NEYXRhQnlVcmxbdXJsXVtzcG90aWZ5SWRdXTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0Q2hhcnRUcmFja3M7XG5cbi8qKiovIH0sXG4vKiAxMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGNvdW50cnlDb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbi8vIC9mZS1hamF4L3Nwb3RpZnkvcHJldmlldy9hcnRpc3QtdHJhY2tzLzVwS0NDS0UyYWpKSFo5S0FpYUsxMUgvVVNcbi8vIC9mZS1hamF4L3Nwb3RpZnkvcHJldmlldy9hbGJ1bS10cmFja3MvMzRFWWs4dnZKSENVbE5ycEd4ZXBlYS9VU1xudmFyIGdldFRyYWNrcyA9IGZ1bmN0aW9uIGdldFRyYWNrcygkZGF0YVNvdXJjZSwgc3BvdGlmeUlkKSB7XG4gICAgdmFyIHNwb3RpZnlUeXBlID0gJGRhdGFTb3VyY2UuYXR0cignZGF0YS1zcG90aWZ5LXR5cGUnKTtcbiAgICB2YXIgdXJsID0gbnVsbDtcbiAgICBpZiAoc3BvdGlmeVR5cGUgPT09ICdhcnRpc3QnKSB7XG4gICAgICAgIHVybCA9ICcvZmUtYWpheC9zcG90aWZ5L3ByZXZpZXcvYXJ0aXN0LXRyYWNrcy8nICsgc3BvdGlmeUlkICsgJy8nICsgY291bnRyeUNvZGU7XG4gICAgfSBlbHNlIGlmIChzcG90aWZ5VHlwZSA9PT0gJ2FsYnVtJykge1xuICAgICAgICB1cmwgPSAnL2ZlLWFqYXgvc3BvdGlmeS9wcmV2aWV3L2FsYnVtLXRyYWNrcy8nICsgc3BvdGlmeUlkICsgJy8nICsgY291bnRyeUNvZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdzcG90aWZ5VHlwZSB1bmtub3duOicgKyBzcG90aWZ5VHlwZSk7XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3REYXRhO1xuICAgIHZhciBkYXRhUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHJlcXVlc3REYXRhID0gcmVzb2x2ZTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YS5wcmV2aWV3cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIHByZXZpZXdzLCBkYXRhUHJvbWlzZSwgcmVxdWVzdERhdGFcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtbXSwgLy8gZ2l2ZSBhIGRlZmF1bHQgcHJldmlld3Mgb2JqZWN0IGZvciBkaXNwbGF5aW5nIHByZXZpZXcgbGlua3NcbiAgICBkYXRhUHJvbWlzZSwgLy8gbGV0IHRoZSBtb2RlbCBjaGFpbiB0byBzZXQgdGhlIGFjdHVhbCBwcmV2aWV3c1xuICAgIHJlcXVlc3REYXRhIC8vIGxldCB0aGUgbW9kZWwgdGVsbCB1cyB0byBnbyBnZXQgZGF0YVxuICAgIF0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUcmFja3M7XG5cbi8qKiovIH0sXG4vKiAxMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEJhY2tib25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBjb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXG52YXIgY3JlYXRlU3BvdGlmeVZpZXcgPSBmdW5jdGlvbiBjcmVhdGVTcG90aWZ5VmlldyhvcHRpb25zKSB7XG5cbiAgICB2YXIgU3BvdGlmeVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUob3B0aW9ucykge1xuICAgICAgICAgICAgXy5iaW5kQWxsKHRoaXMsICdyZW5kZXInLCAnZG9TcG90aWZ5UHJldmlldycsICdkb1Nwb3RpZnlVcmwnKTtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBvcHRpb25zLnRlbXBsYXRlO1xuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IGNvbnRyb2xsZXIuZ2V0TW9kZWwob3B0aW9ucy4kZGF0YVNvdXJjZSwgb3B0aW9ucy50aXRsZSwgb3B0aW9ucy5zcG90aWZ5SWQsIG9wdGlvbnMuc3BvdGlmeVVybCk7XG4gICAgICAgICAgICB0aGlzLiRhdWRpb0VsZW1lbnQgPSBvcHRpb25zLiRhdWRpb0VsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2UnLCB0aGlzLnRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2VyQ2hhbmdlOiBmdW5jdGlvbiB0cmlnZ2VyQ2hhbmdlKCkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ3ByZXZpZXdzJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgJ2NsaWNrIC5qcy1zcG90aWZ5LXByZXZpZXcnOiAnZG9TcG90aWZ5UHJldmlldycsXG4gICAgICAgICAgICAnY2xpY2sgLmpzLXNwb3RpZnktc3BvdGlmeVVybCc6ICdkb1Nwb3RpZnlVcmwnXG4gICAgICAgIH0sXG4gICAgICAgIGRvU3BvdGlmeVByZXZpZXc6IGZ1bmN0aW9uIGRvU3BvdGlmeVByZXZpZXcoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmdldFByZXZpZXdzUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIudG9nZ2xlUHJldmlldyhfdGhpcy4kYXVkaW9FbGVtZW50LCBfdGhpcy5tb2RlbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9TcG90aWZ5VXJsOiBmdW5jdGlvbiBkb1Nwb3RpZnlVcmwoKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLm9wZW5TcG90aWZ5VXJsKHRoaXMuJGF1ZGlvRWxlbWVudCwgdGhpcy5tb2RlbCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgU3BvdGlmeVZpZXcob3B0aW9ucyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVNwb3RpZnlWaWV3O1xuXG4vKioqLyB9LFxuLyogMTEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBCYWNrYm9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0aXRsZSwgc3BvdGlmeVR5cGUsIHNwb3RpZnlVcmwsIGRhdGFQcm9taXNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZvb3RlclR5cGUgPSBudWxsO1xuICAgICAgICBpZiAoc3BvdGlmeVR5cGUgPT09ICdhcnRpc3QnKSB7XG4gICAgICAgICAgICBmb290ZXJUeXBlID0gJ2FydGlzdCc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3BvdGlmeVR5cGUgPT09ICdhbGJ1bScpIHtcbiAgICAgICAgICAgIGZvb3RlclR5cGUgPSAnZnVsbCBhbGJ1bSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb290ZXJUeXBlID0gJ2Z1bGwgdHJhY2snO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXQoe1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgc3BvdGlmeVR5cGU6IHNwb3RpZnlUeXBlLFxuICAgICAgICAgICAgc3BvdGlmeVVybDogc3BvdGlmeVVybCxcbiAgICAgICAgICAgIGZvb3RlclR5cGU6IGZvb3RlclR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIGRhdGFQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIHByZXZpZXdzID0gcmVzdWx0WzBdO1xuICAgICAgICAgICAgX3RoaXMuZmV0Y2hQcm9taXNlID0gcmVzdWx0WzFdO1xuICAgICAgICAgICAgX3RoaXMucmVxdWVzdERhdGEgPSByZXN1bHRbMl07XG4gICAgICAgICAgICBfdGhpcy5zZXQoe1xuICAgICAgICAgICAgICAgIHByZXZpZXdzOiBwcmV2aWV3cyxcbiAgICAgICAgICAgICAgICBwbGF5aW5nOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgaGFzUHJldmlld3M6IGZ1bmN0aW9uIGhhc1ByZXZpZXdzKCkge1xuICAgICAgICB2YXIgcHJldmlld3MgPSB0aGlzLmdldCgncHJldmlld3MnKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwcmV2aWV3cyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJldmlld3MubGVuZ3RoID4gMDtcbiAgICB9LFxuICAgIGdldFByZXZpZXdzUHJvbWlzZTogZnVuY3Rpb24gZ2V0UHJldmlld3NQcm9taXNlKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5oYXNQcmV2aWV3cygpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLmZldGNoUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChwcmV2aWV3cykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdzOiBwcmV2aWV3cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmc6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnJlcXVlc3REYXRhKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsO1xuXG4vKioqLyB9LFxuLyogMTE0ICovLFxuLyogMTE1ICovLFxuLyogMTE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKXtcbiAgaWYoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSB8fCAoZm9yYmlkZGVuRmllbGQgIT09IHVuZGVmaW5lZCAmJiBmb3JiaWRkZW5GaWVsZCBpbiBpdCkpe1xuICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcblxuLyoqKi8gfSxcbi8qIDExNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwodmFsdWUsIHN0YXJ0ID0gMCwgZW5kID0gdGhpcy5sZW5ndGgpXG4ndXNlIHN0cmljdCc7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKVxuICAsIHRvSW5kZXggID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSlcbiAgLCB0b0xlbmd0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWxsKHZhbHVlIC8qLCBzdGFydCA9IDAsIGVuZCA9IEBsZW5ndGggKi8pe1xuICB2YXIgTyAgICAgID0gdG9PYmplY3QodGhpcylcbiAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuICAgICwgYUxlbiAgID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgaW5kZXggID0gdG9JbmRleChhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgbGVuZ3RoKVxuICAgICwgZW5kICAgID0gYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWRcbiAgICAsIGVuZFBvcyA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbmRleChlbmQsIGxlbmd0aCk7XG4gIHdoaWxlKGVuZFBvcyA+IGluZGV4KU9baW5kZXgrK10gPSB2YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG4vKioqLyB9LFxuLyogMTE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuICAsIHRvTGVuZ3RoICA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpXG4gICwgdG9JbmRleCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG4vKioqLyB9LFxuLyogMTE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIE1BVENIID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgnbWF0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZKXtcbiAgdmFyIHJlID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW0tFWV0ocmUpO1xuICB9IGNhdGNoKGUpe1xuICAgIHRyeSB7XG4gICAgICByZVtNQVRDSF0gPSBmYWxzZTtcbiAgICAgIHJldHVybiAhJy8uLydbS0VZXShyZSk7XG4gICAgfSBjYXRjaChmKXsgLyogZW1wdHkgKi8gfVxuICB9IHJldHVybiB0cnVlO1xufTtcblxuLyoqKi8gfSxcbi8qIDEyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjdHggICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG4gICwgY2FsbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNilcbiAgLCBpc0FycmF5SXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KVxuICAsIGFuT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KVxuICAsIHRvTGVuZ3RoICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSlcbiAgLCBnZXRJdGVyRm4gICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQyKVxuICAsIEJSRUFLICAgICAgID0ge31cbiAgLCBSRVRVUk4gICAgICA9IHt9O1xudmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1Ipe1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbigpeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpXG4gICAgLCBmICAgICAgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSlcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcbiAgaWYodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3JcbiAgaWYoaXNBcnJheUl0ZXIoaXRlckZuKSlmb3IobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgICBpZihyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKXJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKXtcbiAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICBpZihyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKXJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5leHBvcnRzLkJSRUFLICA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG5cbi8qKiovIH0sXG4vKiAxMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXyg0MikoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTtcblxuLyoqKi8gfSxcbi8qIDEyMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGZhc3QgYXBwbHksIGh0dHA6Ly9qc3BlcmYubG5raXQuY29tL2Zhc3QtYXBwbHkvNVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgYXJncywgdGhhdCl7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoKGFyZ3MubGVuZ3RoKXtcbiAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCk7XG4gICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgfSByZXR1cm4gICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xufTtcblxuLyoqKi8gfSxcbi8qIDEyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG4vKioqLyB9LFxuLyogMTI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuICAsIElURVJBVE9SICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG4vKioqLyB9LFxuLyogMTI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gNy4yLjggSXNSZWdFeHAoYXJndW1lbnQpXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KVxuICAsIGNvZiAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcbiAgLCBNQVRDSCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSkoJ21hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIGlzUmVnRXhwO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmICgoaXNSZWdFeHAgPSBpdFtNQVRDSF0pICE9PSB1bmRlZmluZWQgPyAhIWlzUmVnRXhwIDogY29mKGl0KSA9PSAnUmVnRXhwJyk7XG59O1xuXG4vKioqLyB9LFxuLyogMTI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLyoqKi8gfSxcbi8qIDEyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzEpXG4gICwgZGVzY3JpcHRvciAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KVxuICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxuX193ZWJwYWNrX3JlcXVpcmVfXyg5KShJdGVyYXRvclByb3RvdHlwZSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cbi8qKiovIH0sXG4vKiAxMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSVRFUkFUT1IgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcbiAgaWYoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG5cbi8qKiovIH0sXG4vKiAxMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59O1xuXG4vKioqLyB9LFxuLyogMTMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNilcbiAgLCBtYWNyb3Rhc2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KS5zZXRcbiAgLCBPYnNlcnZlciAgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlclxuICAsIHByb2Nlc3MgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgUHJvbWlzZSAgID0gZ2xvYmFsLlByb21pc2VcbiAgLCBpc05vZGUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKShwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcbiAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbigpe1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKXBhcmVudC5leGl0KCk7XG4gICAgd2hpbGUoaGVhZCl7XG4gICAgICBmbiAgID0gaGVhZC5mbjtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB0cnkge1xuICAgICAgICBmbigpO1xuICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgaWYoaGVhZClub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZihwYXJlbnQpcGFyZW50LmVudGVyKCk7XG4gIH07XG5cbiAgLy8gTm9kZS5qc1xuICBpZihpc05vZGUpe1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXJcbiAgfSBlbHNlIGlmKE9ic2VydmVyKXtcbiAgICB2YXIgdG9nZ2xlID0gdHJ1ZVxuICAgICAgLCBub2RlICAgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmKFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKXtcbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBwcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxuICAgICAgbWFjcm90YXNrLmNhbGwoZ2xvYmFsLCBmbHVzaCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihmbil7XG4gICAgdmFyIHRhc2sgPSB7Zm46IGZuLCBuZXh0OiB1bmRlZmluZWR9O1xuICAgIGlmKGxhc3QpbGFzdC5uZXh0ID0gdGFzaztcbiAgICBpZighaGVhZCl7XG4gICAgICBoZWFkID0gdGFzaztcbiAgICAgIG5vdGlmeSgpO1xuICAgIH0gbGFzdCA9IHRhc2s7XG4gIH07XG59O1xuXG4vKioqLyB9LFxuLyogMTMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpXG4gICwgZFBzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMilcbiAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpXG4gICwgSUVfUFJPVE8gICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSgnSUVfUFJPVE8nKVxuICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpKCdpZnJhbWUnKVxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG4gICAgLCBsdCAgICAgPSAnPCdcbiAgICAsIGd0ICAgICA9ICc+J1xuICAgICwgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuICB2YXIgcmVzdWx0O1xuICBpZihPICE9PSBudWxsKXtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG4vKioqLyB9LFxuLyogMTMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRQICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcbiAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNylcbiAgLCBnZXRLZXlzICA9IF9fd2VicGFja19yZXF1aXJlX18oMTM1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG4vKioqLyB9LFxuLyogMTMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG4gICwgdG9PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKVxuICAsIElFX1BST1RPICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkoJ0lFX1BST1RPJylcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuXG4vKioqLyB9LFxuLyogMTM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGhhcyAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG4gICwgdG9JT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMylcbiAgLCBhcnJheUluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCkoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGtleTtcbiAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKioqLyB9LFxuLyogMTM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNClcbiAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuXG4vKioqLyB9LFxuLyogMTM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHJlZGVmaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhcmdldCwgc3JjLCBzYWZlKXtcbiAgZm9yKHZhciBrZXkgaW4gc3JjKXJlZGVmaW5lKHRhcmdldCwga2V5LCBzcmNba2V5XSwgc2FmZSk7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKioqLyB9LFxuLyogMTM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG4gICwgZFAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKVxuICAsIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMilcbiAgLCBTUEVDSUVTICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSkoJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVkpe1xuICB2YXIgQyA9IGdsb2JhbFtLRVldO1xuICBpZihERVNDUklQVE9SUyAmJiBDICYmICFDW1NQRUNJRVNdKWRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9XG4gIH0pO1xufTtcblxuLyoqKi8gfSxcbi8qIDEzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMy4yMCBTcGVjaWVzQ29uc3RydWN0b3IoTywgZGVmYXVsdENvbnN0cnVjdG9yKVxudmFyIGFuT2JqZWN0ICA9IF9fd2VicGFja19yZXF1aXJlX18oNylcbiAgLCBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuICAsIFNQRUNJRVMgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSkoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywgRCl7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3IsIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07XG5cbi8qKiovIH0sXG4vKiAxMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMilcbiAgLCBkZWZpbmVkICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG5cbi8qKiovIH0sXG4vKiAxNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfVxudmFyIGlzUmVnRXhwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpXG4gICwgZGVmaW5lZCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0aGF0LCBzZWFyY2hTdHJpbmcsIE5BTUUpe1xuICBpZihpc1JlZ0V4cChzZWFyY2hTdHJpbmcpKXRocm93IFR5cGVFcnJvcignU3RyaW5nIycgKyBOQU1FICsgXCIgZG9lc24ndCBhY2NlcHQgcmVnZXghXCIpO1xuICByZXR1cm4gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xufTtcblxuLyoqKi8gfSxcbi8qIDE0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG4vKioqLyB9LFxuLyogMTQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsYXNzb2YgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpXG4gICwgSVRFUkFUT1IgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuLyoqKi8gfSxcbi8qIDE0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDIyLjEuMy42IEFycmF5LnByb3RvdHlwZS5maWxsKHZhbHVlLCBzdGFydCA9IDAsIGVuZCA9IHRoaXMubGVuZ3RoKVxudmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxuJGV4cG9ydCgkZXhwb3J0LlAsICdBcnJheScsIHtmaWxsOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyl9KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0MCkoJ2ZpbGwnKTtcblxuLyoqKi8gfSxcbi8qIDE0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuICAsIHN0ZXAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSlcbiAgLCBJdGVyYXRvcnMgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcbiAgLCB0b0lPYmplY3QgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCkoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cbi8qKiovIH0sXG4vKiAxNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KVxuICAsIHRlc3QgICAgPSB7fTtcbnRlc3RbX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgndG9TdHJpbmdUYWcnKV0gPSAneic7XG5pZih0ZXN0ICsgJycgIT0gJ1tvYmplY3Qgel0nKXtcbiAgX193ZWJwYWNrX3JlcXVpcmVfXygxNikoT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YodGhpcykgKyAnXSc7XG4gIH0sIHRydWUpO1xufVxuXG4vKioqLyB9LFxuLyogMTQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG4gICwgY3R4ICAgICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNylcbiAgLCBjbGFzc29mICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KVxuICAsICRleHBvcnQgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpXG4gICwgaXNPYmplY3QgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcbiAgLCBhRnVuY3Rpb24gICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuICAsIGFuSW5zdGFuY2UgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KVxuICAsIGZvck9mICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKVxuICAsIHNwZWNpZXNDb25zdHJ1Y3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KVxuICAsIHRhc2sgICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpLnNldFxuICAsIG1pY3JvdGFzayAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKSgpXG4gICwgUFJPTUlTRSAgICAgICAgICAgID0gJ1Byb21pc2UnXG4gICwgVHlwZUVycm9yICAgICAgICAgID0gZ2xvYmFsLlR5cGVFcnJvclxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgJFByb21pc2UgICAgICAgICAgID0gZ2xvYmFsW1BST01JU0VdXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBpc05vZGUgICAgICAgICAgICAgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xuICAsIGVtcHR5ICAgICAgICAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBJbnRlcm5hbCwgR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xuXG52YXIgVVNFX05BVElWRSA9ICEhZnVuY3Rpb24oKXtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSAgICAgPSAkUHJvbWlzZS5yZXNvbHZlKDEpXG4gICAgICAsIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgnc3BlY2llcycpXSA9IGZ1bmN0aW9uKGV4ZWMpeyBleGVjKGVtcHR5LCBlbXB0eSk7IH07XG4gICAgLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdFxuICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59KCk7XG5cbi8vIGhlbHBlcnNcbnZhciBzYW1lQ29uc3RydWN0b3IgPSBmdW5jdGlvbihhLCBiKXtcbiAgLy8gd2l0aCBsaWJyYXJ5IHdyYXBwZXIgc3BlY2lhbCBjYXNlXG4gIHJldHVybiBhID09PSBiIHx8IGEgPT09ICRQcm9taXNlICYmIGIgPT09IFdyYXBwZXI7XG59O1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbihpdCl7XG4gIHZhciB0aGVuO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZiAodGhlbiA9IGl0LnRoZW4pID09ICdmdW5jdGlvbicgPyB0aGVuIDogZmFsc2U7XG59O1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQyl7XG4gIHJldHVybiBzYW1lQ29uc3RydWN0b3IoJFByb21pc2UsIEMpXG4gICAgPyBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICA6IG5ldyBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG59O1xudmFyIFByb21pc2VDYXBhYmlsaXR5ID0gR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQyl7XG4gIHZhciByZXNvbHZlLCByZWplY3Q7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uKCQkcmVzb2x2ZSwgJCRyZWplY3Qpe1xuICAgIGlmKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICByZWplY3QgID0gJCRyZWplY3Q7XG4gIH0pO1xuICB0aGlzLnJlc29sdmUgPSBhRnVuY3Rpb24ocmVzb2x2ZSk7XG4gIHRoaXMucmVqZWN0ICA9IGFGdW5jdGlvbihyZWplY3QpO1xufTtcbnZhciBwZXJmb3JtID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG59O1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uKHByb21pc2UsIGlzUmVqZWN0KXtcbiAgaWYocHJvbWlzZS5fbilyZXR1cm47XG4gIHByb21pc2UuX24gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9jO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG4gICAgICAsIG9rICAgID0gcHJvbWlzZS5fcyA9PSAxXG4gICAgICAsIGkgICAgID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24ocmVhY3Rpb24pe1xuICAgICAgdmFyIGhhbmRsZXIgPSBvayA/IHJlYWN0aW9uLm9rIDogcmVhY3Rpb24uZmFpbFxuICAgICAgICAsIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlXG4gICAgICAgICwgcmVqZWN0ICA9IHJlYWN0aW9uLnJlamVjdFxuICAgICAgICAsIGRvbWFpbiAgPSByZWFjdGlvbi5kb21haW5cbiAgICAgICAgLCByZXN1bHQsIHRoZW47XG4gICAgICB0cnkge1xuICAgICAgICBpZihoYW5kbGVyKXtcbiAgICAgICAgICBpZighb2spe1xuICAgICAgICAgICAgaWYocHJvbWlzZS5faCA9PSAyKW9uSGFuZGxlVW5oYW5kbGVkKHByb21pc2UpO1xuICAgICAgICAgICAgcHJvbWlzZS5faCA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGhhbmRsZXIgPT09IHRydWUpcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZihkb21haW4pZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHZhbHVlKTtcbiAgICAgICAgICAgIGlmKGRvbWFpbilkb21haW4uZXhpdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2Upe1xuICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSl7XG4gICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSlydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgcHJvbWlzZS5fYyA9IFtdO1xuICAgIHByb21pc2UuX24gPSBmYWxzZTtcbiAgICBpZihpc1JlamVjdCAmJiAhcHJvbWlzZS5faClvblVuaGFuZGxlZChwcm9taXNlKTtcbiAgfSk7XG59O1xudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdlxuICAgICAgLCBhYnJ1cHQsIGhhbmRsZXIsIGNvbnNvbGU7XG4gICAgaWYoaXNVbmhhbmRsZWQocHJvbWlzZSkpe1xuICAgICAgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgICBpZihpc05vZGUpe1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbil7XG4gICAgICAgICAgaGFuZGxlcih7cHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiB2YWx1ZX0pO1xuICAgICAgICB9IGVsc2UgaWYoKGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcil7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBwcm9taXNlLl9oID0gaXNOb2RlIHx8IGlzVW5oYW5kbGVkKHByb21pc2UpID8gMiA6IDE7XG4gICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuICAgIGlmKGFicnVwdCl0aHJvdyBhYnJ1cHQuZXJyb3I7XG4gIH0pO1xufTtcbnZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICBpZihwcm9taXNlLl9oID09IDEpcmV0dXJuIGZhbHNlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9hIHx8IHByb21pc2UuX2NcbiAgICAsIGkgICAgID0gMFxuICAgICwgcmVhY3Rpb247XG4gIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpe1xuICAgIHJlYWN0aW9uID0gY2hhaW5baSsrXTtcbiAgICBpZihyZWFjdGlvbi5mYWlsIHx8ICFpc1VuaGFuZGxlZChyZWFjdGlvbi5wcm9taXNlKSlyZXR1cm4gZmFsc2U7XG4gIH0gcmV0dXJuIHRydWU7XG59O1xudmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIGhhbmRsZXI7XG4gICAgaWYoaXNOb2RlKXtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9ucmVqZWN0aW9uaGFuZGxlZCl7XG4gICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHByb21pc2UuX3Z9KTtcbiAgICB9XG4gIH0pO1xufTtcbnZhciAkcmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIGlmKHByb21pc2UuX2QpcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fcyA9IDI7XG4gIGlmKCFwcm9taXNlLl9hKXByb21pc2UuX2EgPSBwcm9taXNlLl9jLnNsaWNlKCk7XG4gIG5vdGlmeShwcm9taXNlLCB0cnVlKTtcbn07XG52YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBwcm9taXNlID0gdGhpc1xuICAgICwgdGhlbjtcbiAgaWYocHJvbWlzZS5fZClyZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZihwcm9taXNlID09PSB2YWx1ZSl0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICBpZih0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpe1xuICAgICAgbWljcm90YXNrKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB3cmFwcGVyID0ge193OiBwcm9taXNlLCBfZDogZmFsc2V9OyAvLyB3cmFwXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3MgPSAxO1xuICAgICAgbm90aWZ5KHByb21pc2UsIGZhbHNlKTtcbiAgICB9XG4gIH0gY2F0Y2goZSl7XG4gICAgJHJlamVjdC5jYWxsKHtfdzogcHJvbWlzZSwgX2Q6IGZhbHNlfSwgZSk7IC8vIHdyYXBcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmKCFVU0VfTkFUSVZFKXtcbiAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcbiAgJFByb21pc2UgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcbiAgICBhbkluc3RhbmNlKHRoaXMsICRQcm9taXNlLCBQUk9NSVNFLCAnX2gnKTtcbiAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuICAgIEludGVybmFsLmNhbGwodGhpcyk7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgdGhpcywgMSksIGN0eCgkcmVqZWN0LCB0aGlzLCAxKSk7XG4gICAgfSBjYXRjaChlcnIpe1xuICAgICAgJHJlamVjdC5jYWxsKHRoaXMsIGVycik7XG4gICAgfVxuICB9O1xuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG4gICAgdGhpcy5fYSA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuICAgIHRoaXMuX3MgPSAwOyAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcbiAgICB0aGlzLl92ID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIHZhbHVlXG4gICAgdGhpcy5faCA9IDA7ICAgICAgICAgICAgICAvLyA8LSByZWplY3Rpb24gc3RhdGUsIDAgLSBkZWZhdWx0LCAxIC0gaGFuZGxlZCwgMiAtIHVuaGFuZGxlZFxuICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG4gIH07XG4gIEludGVybmFsLnByb3RvdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM2KSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpe1xuICAgICAgdmFyIHJlYWN0aW9uICAgID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayAgICAgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgIHJlYWN0aW9uLmZhaWwgICA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX2EpdGhpcy5fYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX3Mpbm90aWZ5KHRoaXMsIGZhbHNlKTtcbiAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKXtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHByb21pc2UgID0gbmV3IEludGVybmFsO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCAgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiAkUHJvbWlzZX0pO1xuX193ZWJwYWNrX3JlcXVpcmVfXygzMCkoJFByb21pc2UsIFBST01JU0UpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMzcpKFBST01JU0UpO1xuV3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oOClbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKVxuICAgICAgLCAkJHJlamVjdCAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICAvLyBpbnN0YW5jZW9mIGluc3RlYWQgb2YgaW50ZXJuYWwgc2xvdCBjaGVjayBiZWNhdXNlIHdlIHNob3VsZCBmaXggaXQgd2l0aG91dCByZXBsYWNlbWVudCBuYXRpdmUgUHJvbWlzZSBjb3JlXG4gICAgaWYoeCBpbnN0YW5jZW9mICRQcm9taXNlICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlyZXR1cm4geDtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVzb2x2ZSAgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgJCRyZXNvbHZlKHgpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpKGZ1bmN0aW9uKGl0ZXIpe1xuICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZXNvbHZlICAgID0gY2FwYWJpbGl0eS5yZXNvbHZlXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgdmFyIHZhbHVlcyAgICA9IFtdXG4gICAgICAgICwgaW5kZXggICAgID0gMFxuICAgICAgICAsIHJlbWFpbmluZyA9IDE7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuICAgICAgICB2YXIgJGluZGV4ICAgICAgICA9IGluZGV4KytcbiAgICAgICAgICAsIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICBpZihhbHJlYWR5Q2FsbGVkKXJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkICA9IHRydWU7XG4gICAgICAgICAgdmFsdWVzWyRpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZihhYnJ1cHQpcmVqZWN0KGFicnVwdC5lcnJvcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfSxcbiAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgICAgICA9IHRoaXNcbiAgICAgICwgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuXG4vKioqLyB9LFxuLyogMTQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IF9fd2VicGFja19yZXF1aXJlX18oMTM5KSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxuX193ZWJwYWNrX3JlcXVpcmVfXyg0NCkoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7XG5cbi8qKiovIH0sXG4vKiAxNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJGl0ZXJhdG9ycyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ0KVxuICAsIHJlZGVmaW5lICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuICAsIGdsb2JhbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG4gICwgaGlkZSAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcbiAgLCBJdGVyYXRvcnMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcbiAgLCB3a3MgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuICAsIElURVJBVE9SICAgICAgPSB3a3MoJ2l0ZXJhdG9yJylcbiAgLCBUT19TVFJJTkdfVEFHID0gd2tzKCd0b1N0cmluZ1RhZycpXG4gICwgQXJyYXlWYWx1ZXMgICA9IEl0ZXJhdG9ycy5BcnJheTtcblxuZm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cbiAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cbiAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlXG4gICAgLCBrZXk7XG4gIGlmKHByb3RvKXtcbiAgICBpZighcHJvdG9bSVRFUkFUT1JdKWhpZGUocHJvdG8sIElURVJBVE9SLCBBcnJheVZhbHVlcyk7XG4gICAgaWYoIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICAgIEl0ZXJhdG9yc1tOQU1FXSA9IEFycmF5VmFsdWVzO1xuICAgIGZvcihrZXkgaW4gJGl0ZXJhdG9ycylpZighcHJvdG9ba2V5XSlyZWRlZmluZShwcm90bywga2V5LCAkaXRlcmF0b3JzW2tleV0sIHRydWUpO1xuICB9XG59XG5cbi8qKiovIH0sXG4vKiAxNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBiYXNlNjRtYXBcbiAgICAgID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nLFxuXG4gIGNyeXB0ID0ge1xuICAgIC8vIEJpdC13aXNlIHJvdGF0aW9uIGxlZnRcbiAgICByb3RsOiBmdW5jdGlvbihuLCBiKSB7XG4gICAgICByZXR1cm4gKG4gPDwgYikgfCAobiA+Pj4gKDMyIC0gYikpO1xuICAgIH0sXG5cbiAgICAvLyBCaXQtd2lzZSByb3RhdGlvbiByaWdodFxuICAgIHJvdHI6IGZ1bmN0aW9uKG4sIGIpIHtcbiAgICAgIHJldHVybiAobiA8PCAoMzIgLSBiKSkgfCAobiA+Pj4gYik7XG4gICAgfSxcblxuICAgIC8vIFN3YXAgYmlnLWVuZGlhbiB0byBsaXR0bGUtZW5kaWFuIGFuZCB2aWNlIHZlcnNhXG4gICAgZW5kaWFuOiBmdW5jdGlvbihuKSB7XG4gICAgICAvLyBJZiBudW1iZXIgZ2l2ZW4sIHN3YXAgZW5kaWFuXG4gICAgICBpZiAobi5jb25zdHJ1Y3RvciA9PSBOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGNyeXB0LnJvdGwobiwgOCkgJiAweDAwRkYwMEZGIHwgY3J5cHQucm90bChuLCAyNCkgJiAweEZGMDBGRjAwO1xuICAgICAgfVxuXG4gICAgICAvLyBFbHNlLCBhc3N1bWUgYXJyYXkgYW5kIHN3YXAgYWxsIGl0ZW1zXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspXG4gICAgICAgIG5baV0gPSBjcnlwdC5lbmRpYW4obltpXSk7XG4gICAgICByZXR1cm4gbjtcbiAgICB9LFxuXG4gICAgLy8gR2VuZXJhdGUgYW4gYXJyYXkgb2YgYW55IGxlbmd0aCBvZiByYW5kb20gYnl0ZXNcbiAgICByYW5kb21CeXRlczogZnVuY3Rpb24obikge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXTsgbiA+IDA7IG4tLSlcbiAgICAgICAgYnl0ZXMucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYmlnLWVuZGlhbiAzMi1iaXQgd29yZHNcbiAgICBieXRlc1RvV29yZHM6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciB3b3JkcyA9IFtdLCBpID0gMCwgYiA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKywgYiArPSA4KVxuICAgICAgICB3b3Jkc1tiID4+PiA1XSB8PSBieXRlc1tpXSA8PCAoMjQgLSBiICUgMzIpO1xuICAgICAgcmV0dXJuIHdvcmRzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGJpZy1lbmRpYW4gMzItYml0IHdvcmRzIHRvIGEgYnl0ZSBhcnJheVxuICAgIHdvcmRzVG9CeXRlczogZnVuY3Rpb24od29yZHMpIHtcbiAgICAgIGZvciAodmFyIGJ5dGVzID0gW10sIGIgPSAwOyBiIDwgd29yZHMubGVuZ3RoICogMzI7IGIgKz0gOClcbiAgICAgICAgYnl0ZXMucHVzaCgod29yZHNbYiA+Pj4gNV0gPj4+ICgyNCAtIGIgJSAzMikpICYgMHhGRik7XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGEgaGV4IHN0cmluZ1xuICAgIGJ5dGVzVG9IZXg6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciBoZXggPSBbXSwgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBoZXgucHVzaCgoYnl0ZXNbaV0gPj4+IDQpLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIGhleC5wdXNoKChieXRlc1tpXSAmIDB4RikudG9TdHJpbmcoMTYpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZXguam9pbignJyk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBoZXggc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIGhleFRvQnl0ZXM6IGZ1bmN0aW9uKGhleCkge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgYyA9IDA7IGMgPCBoZXgubGVuZ3RoOyBjICs9IDIpXG4gICAgICAgIGJ5dGVzLnB1c2gocGFyc2VJbnQoaGV4LnN1YnN0cihjLCAyKSwgMTYpKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBiYXNlLTY0IHN0cmluZ1xuICAgIGJ5dGVzVG9CYXNlNjQ6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciBiYXNlNjQgPSBbXSwgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgdHJpcGxldCA9IChieXRlc1tpXSA8PCAxNikgfCAoYnl0ZXNbaSArIDFdIDw8IDgpIHwgYnl0ZXNbaSArIDJdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDQ7IGorKylcbiAgICAgICAgICBpZiAoaSAqIDggKyBqICogNiA8PSBieXRlcy5sZW5ndGggKiA4KVxuICAgICAgICAgICAgYmFzZTY0LnB1c2goYmFzZTY0bWFwLmNoYXJBdCgodHJpcGxldCA+Pj4gNiAqICgzIC0gaikpICYgMHgzRikpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJhc2U2NC5wdXNoKCc9Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZTY0LmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYmFzZS02NCBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgYmFzZTY0VG9CeXRlczogZnVuY3Rpb24oYmFzZTY0KSB7XG4gICAgICAvLyBSZW1vdmUgbm9uLWJhc2UtNjQgY2hhcmFjdGVyc1xuICAgICAgYmFzZTY0ID0gYmFzZTY0LnJlcGxhY2UoL1teQS1aMC05K1xcL10vaWcsICcnKTtcblxuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgaSA9IDAsIGltb2Q0ID0gMDsgaSA8IGJhc2U2NC5sZW5ndGg7XG4gICAgICAgICAgaW1vZDQgPSArK2kgJSA0KSB7XG4gICAgICAgIGlmIChpbW9kNCA9PSAwKSBjb250aW51ZTtcbiAgICAgICAgYnl0ZXMucHVzaCgoKGJhc2U2NG1hcC5pbmRleE9mKGJhc2U2NC5jaGFyQXQoaSAtIDEpKVxuICAgICAgICAgICAgJiAoTWF0aC5wb3coMiwgLTIgKiBpbW9kNCArIDgpIC0gMSkpIDw8IChpbW9kNCAqIDIpKVxuICAgICAgICAgICAgfCAoYmFzZTY0bWFwLmluZGV4T2YoYmFzZTY0LmNoYXJBdChpKSkgPj4+ICg2IC0gaW1vZDQgKiAyKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH1cbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGNyeXB0O1xufSkoKTtcblxuXG4vKioqLyB9LFxuLyogMTUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyoqXG4gKiBFdkVtaXR0ZXIgdjEuMC4zXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cbiAgaWYgKCB0cnVlICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSkpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gRXZFbWl0dGVyKCkge31cblxudmFyIHByb3RvID0gRXZFbWl0dGVyLnByb3RvdHlwZTtcblxucHJvdG8ub24gPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2V0IGV2ZW50cyBoYXNoXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIC8vIHNldCBsaXN0ZW5lcnMgYXJyYXlcbiAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuICAvLyBvbmx5IGFkZCBvbmNlXG4gIGlmICggbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICkgPT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnB1c2goIGxpc3RlbmVyICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9uY2UgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gYWRkIGV2ZW50XG4gIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgLy8gc2V0IG9uY2UgZmxhZ1xuICAvLyBzZXQgb25jZUV2ZW50cyBoYXNoXG4gIHZhciBvbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgfHwge307XG4gIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuICB2YXIgb25jZUxpc3RlbmVycyA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gfHwge307XG4gIC8vIHNldCBmbGFnXG4gIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub2ZmID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZiggbGlzdGVuZXIgKTtcbiAgaWYgKCBpbmRleCAhPSAtMSApIHtcbiAgICBsaXN0ZW5lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBhcmdzICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGkgPSAwO1xuICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gIGFyZ3MgPSBhcmdzIHx8IFtdO1xuICAvLyBvbmNlIHN0dWZmXG4gIHZhciBvbmNlTGlzdGVuZXJzID0gdGhpcy5fb25jZUV2ZW50cyAmJiB0aGlzLl9vbmNlRXZlbnRzWyBldmVudE5hbWUgXTtcblxuICB3aGlsZSAoIGxpc3RlbmVyICkge1xuICAgIHZhciBpc09uY2UgPSBvbmNlTGlzdGVuZXJzICYmIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG4gICAgaWYgKCBpc09uY2UgKSB7XG4gICAgICAvLyByZW1vdmUgbGlzdGVuZXJcbiAgICAgIC8vIHJlbW92ZSBiZWZvcmUgdHJpZ2dlciB0byBwcmV2ZW50IHJlY3Vyc2lvblxuICAgICAgdGhpcy5vZmYoIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgICAgIC8vIHVuc2V0IG9uY2UgZmxhZ1xuICAgICAgZGVsZXRlIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG4gICAgfVxuICAgIC8vIHRyaWdnZXIgbGlzdGVuZXJcbiAgICBsaXN0ZW5lci5hcHBseSggdGhpcywgYXJncyApO1xuICAgIC8vIGdldCBuZXh0IGxpc3RlbmVyXG4gICAgaSArPSBpc09uY2UgPyAwIDogMTtcbiAgICBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucmV0dXJuIEV2RW1pdHRlcjtcblxufSkpO1xuXG5cbi8qKiovIH0sXG4vKiAxNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohXG4gKiBpbWFnZXNMb2FkZWQgdjQuMS4xXG4gKiBKYXZhU2NyaXB0IGlzIGFsbCBsaWtlIFwiWW91IGltYWdlcyBhcmUgZG9uZSB5ZXQgb3Igd2hhdD9cIlxuICogTUlUIExpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7ICd1c2Ugc3RyaWN0JztcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG5cbiAgLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSwgcmVxdWlyZTogZmFsc2UgKi9cblxuICBpZiAoIHRydWUgKSB7XG4gICAgLy8gQU1EXG4gICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW1xuICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxNTApXG4gICAgXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbiggRXZFbWl0dGVyICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICk7XG4gICAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnZXYtZW1pdHRlcicpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5pbWFnZXNMb2FkZWQgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkV2RW1pdHRlclxuICAgICk7XG4gIH1cblxufSkoIHdpbmRvdyxcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIGZhY3RvcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKSB7XG5cbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSB3aW5kb3cualF1ZXJ5O1xudmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBleHRlbmQgb2JqZWN0c1xuZnVuY3Rpb24gZXh0ZW5kKCBhLCBiICkge1xuICBmb3IgKCB2YXIgcHJvcCBpbiBiICkge1xuICAgIGFbIHByb3AgXSA9IGJbIHByb3AgXTtcbiAgfVxuICByZXR1cm4gYTtcbn1cblxuLy8gdHVybiBlbGVtZW50IG9yIG5vZGVMaXN0IGludG8gYW4gYXJyYXlcbmZ1bmN0aW9uIG1ha2VBcnJheSggb2JqICkge1xuICB2YXIgYXJ5ID0gW107XG4gIGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG4gICAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XG4gICAgYXJ5ID0gb2JqO1xuICB9IGVsc2UgaWYgKCB0eXBlb2Ygb2JqLmxlbmd0aCA9PSAnbnVtYmVyJyApIHtcbiAgICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IG9iai5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGFyeS5wdXNoKCBvYmpbaV0gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gYXJyYXkgb2Ygc2luZ2xlIGluZGV4XG4gICAgYXJ5LnB1c2goIG9iaiApO1xuICB9XG4gIHJldHVybiBhcnk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGltYWdlc0xvYWRlZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXksIEVsZW1lbnQsIE5vZGVMaXN0LCBTdHJpbmd9IGVsZW1cbiAqIEBwYXJhbSB7T2JqZWN0IG9yIEZ1bmN0aW9ufSBvcHRpb25zIC0gaWYgZnVuY3Rpb24sIHVzZSBhcyBjYWxsYmFja1xuICogQHBhcmFtIHtGdW5jdGlvbn0gb25BbHdheXMgLSBjYWxsYmFjayBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICkge1xuICAvLyBjb2VyY2UgSW1hZ2VzTG9hZGVkKCkgd2l0aG91dCBuZXcsIHRvIGJlIG5ldyBJbWFnZXNMb2FkZWQoKVxuICBpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBJbWFnZXNMb2FkZWQgKSApIHtcbiAgICByZXR1cm4gbmV3IEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucywgb25BbHdheXMgKTtcbiAgfVxuICAvLyB1c2UgZWxlbSBhcyBzZWxlY3RvciBzdHJpbmdcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggZWxlbSApO1xuICB9XG5cbiAgdGhpcy5lbGVtZW50cyA9IG1ha2VBcnJheSggZWxlbSApO1xuICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcblxuICBpZiAoIHR5cGVvZiBvcHRpb25zID09ICdmdW5jdGlvbicgKSB7XG4gICAgb25BbHdheXMgPSBvcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIGV4dGVuZCggdGhpcy5vcHRpb25zLCBvcHRpb25zICk7XG4gIH1cblxuICBpZiAoIG9uQWx3YXlzICkge1xuICAgIHRoaXMub24oICdhbHdheXMnLCBvbkFsd2F5cyApO1xuICB9XG5cbiAgdGhpcy5nZXRJbWFnZXMoKTtcblxuICBpZiAoICQgKSB7XG4gICAgLy8gYWRkIGpRdWVyeSBEZWZlcnJlZCBvYmplY3RcbiAgICB0aGlzLmpxRGVmZXJyZWQgPSBuZXcgJC5EZWZlcnJlZCgpO1xuICB9XG5cbiAgLy8gSEFDSyBjaGVjayBhc3luYyB0byBhbGxvdyB0aW1lIHRvIGJpbmQgbGlzdGVuZXJzXG4gIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2hlY2soKTtcbiAgfS5iaW5kKCB0aGlzICkpO1xufVxuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLm9wdGlvbnMgPSB7fTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWFnZXMgPSBbXTtcblxuICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYW4gaXRlbSBzZWxlY3RvclxuICB0aGlzLmVsZW1lbnRzLmZvckVhY2goIHRoaXMuYWRkRWxlbWVudEltYWdlcywgdGhpcyApO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IGVsZW1lbnRcbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50SW1hZ2VzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIC8vIGZpbHRlciBzaWJsaW5nc1xuICBpZiAoIGVsZW0ubm9kZU5hbWUgPT0gJ0lNRycgKSB7XG4gICAgdGhpcy5hZGRJbWFnZSggZWxlbSApO1xuICB9XG4gIC8vIGdldCBiYWNrZ3JvdW5kIGltYWdlIG9uIGVsZW1lbnRcbiAgaWYgKCB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PT0gdHJ1ZSApIHtcbiAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBlbGVtICk7XG4gIH1cblxuICAvLyBmaW5kIGNoaWxkcmVuXG4gIC8vIG5vIG5vbi1lbGVtZW50IG5vZGVzLCAjMTQzXG4gIHZhciBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gIGlmICggIW5vZGVUeXBlIHx8ICFlbGVtZW50Tm9kZVR5cGVzWyBub2RlVHlwZSBdICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2hpbGRJbWdzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcbiAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcbiAgZm9yICggdmFyIGk9MDsgaSA8IGNoaWxkSW1ncy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgaW1nID0gY2hpbGRJbWdzW2ldO1xuICAgIHRoaXMuYWRkSW1hZ2UoIGltZyApO1xuICB9XG5cbiAgLy8gZ2V0IGNoaWxkIGJhY2tncm91bmQgaW1hZ2VzXG4gIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09ICdzdHJpbmcnICkge1xuICAgIHZhciBjaGlsZHJlbiA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgKTtcbiAgICBmb3IgKCBpPTA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggY2hpbGQgKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBlbGVtZW50Tm9kZVR5cGVzID0ge1xuICAxOiB0cnVlLFxuICA5OiB0cnVlLFxuICAxMTogdHJ1ZVxufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG4gIGlmICggIXN0eWxlICkge1xuICAgIC8vIEZpcmVmb3ggcmV0dXJucyBudWxsIGlmIGluIGEgaGlkZGVuIGlmcmFtZSBodHRwczovL2J1Z3ppbC5sYS81NDgzOTdcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZ2V0IHVybCBpbnNpZGUgdXJsKFwiLi4uXCIpXG4gIHZhciByZVVSTCA9IC91cmxcXCgoWydcIl0pPyguKj8pXFwxXFwpL2dpO1xuICB2YXIgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xuICB3aGlsZSAoIG1hdGNoZXMgIT09IG51bGwgKSB7XG4gICAgdmFyIHVybCA9IG1hdGNoZXMgJiYgbWF0Y2hlc1syXTtcbiAgICBpZiAoIHVybCApIHtcbiAgICAgIHRoaXMuYWRkQmFja2dyb3VuZCggdXJsLCBlbGVtICk7XG4gICAgfVxuICAgIG1hdGNoZXMgPSByZVVSTC5leGVjKCBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWdcbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKCBpbWcgKSB7XG4gIHZhciBsb2FkaW5nSW1hZ2UgPSBuZXcgTG9hZGluZ0ltYWdlKCBpbWcgKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggbG9hZGluZ0ltYWdlICk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEJhY2tncm91bmQgPSBmdW5jdGlvbiggdXJsLCBlbGVtICkge1xuICB2YXIgYmFja2dyb3VuZCA9IG5ldyBCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggYmFja2dyb3VuZCApO1xufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCA9IDA7XG4gIHRoaXMuaGFzQW55QnJva2VuID0gZmFsc2U7XG4gIC8vIGNvbXBsZXRlIGlmIG5vIGltYWdlc1xuICBpZiAoICF0aGlzLmltYWdlcy5sZW5ndGggKSB7XG4gICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICAgIC8vIEhBQ0sgLSBDaHJvbWUgdHJpZ2dlcnMgZXZlbnQgYmVmb3JlIG9iamVjdCBwcm9wZXJ0aWVzIGhhdmUgY2hhbmdlZC4gIzgzXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5wcm9ncmVzcyggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuaW1hZ2VzLmZvckVhY2goIGZ1bmN0aW9uKCBsb2FkaW5nSW1hZ2UgKSB7XG4gICAgbG9hZGluZ0ltYWdlLm9uY2UoICdwcm9ncmVzcycsIG9uUHJvZ3Jlc3MgKTtcbiAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcbiAgfSk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24oIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCsrO1xuICB0aGlzLmhhc0FueUJyb2tlbiA9IHRoaXMuaGFzQW55QnJva2VuIHx8ICFpbWFnZS5pc0xvYWRlZDtcbiAgLy8gcHJvZ3Jlc3MgZXZlbnRcbiAgdGhpcy5lbWl0RXZlbnQoICdwcm9ncmVzcycsIFsgdGhpcywgaW1hZ2UsIGVsZW0gXSApO1xuICBpZiAoIHRoaXMuanFEZWZlcnJlZCAmJiB0aGlzLmpxRGVmZXJyZWQubm90aWZ5ICkge1xuICAgIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkoIHRoaXMsIGltYWdlICk7XG4gIH1cbiAgLy8gY2hlY2sgaWYgY29tcGxldGVkXG4gIGlmICggdGhpcy5wcm9ncmVzc2VkQ291bnQgPT0gdGhpcy5pbWFnZXMubGVuZ3RoICkge1xuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuXG4gIGlmICggdGhpcy5vcHRpb25zLmRlYnVnICYmIGNvbnNvbGUgKSB7XG4gICAgY29uc29sZS5sb2coICdwcm9ncmVzczogJyArIG1lc3NhZ2UsIGltYWdlLCBlbGVtICk7XG4gIH1cbn07XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGV2ZW50TmFtZSA9IHRoaXMuaGFzQW55QnJva2VuID8gJ2ZhaWwnIDogJ2RvbmUnO1xuICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICB0aGlzLmVtaXRFdmVudCggZXZlbnROYW1lLCBbIHRoaXMgXSApO1xuICB0aGlzLmVtaXRFdmVudCggJ2Fsd2F5cycsIFsgdGhpcyBdICk7XG4gIGlmICggdGhpcy5qcURlZmVycmVkICkge1xuICAgIHZhciBqcU1ldGhvZCA9IHRoaXMuaGFzQW55QnJva2VuID8gJ3JlamVjdCcgOiAncmVzb2x2ZSc7XG4gICAgdGhpcy5qcURlZmVycmVkWyBqcU1ldGhvZCBdKCB0aGlzICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBMb2FkaW5nSW1hZ2UoIGltZyApIHtcbiAgdGhpcy5pbWcgPSBpbWc7XG59XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgLy8gSWYgY29tcGxldGUgaXMgdHJ1ZSBhbmQgYnJvd3NlciBzdXBwb3J0cyBuYXR1cmFsIHNpemVzLFxuICAvLyB0cnkgdG8gY2hlY2sgZm9yIGltYWdlIHN0YXR1cyBtYW51YWxseS5cbiAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xuICBpZiAoIGlzQ29tcGxldGUgKSB7XG4gICAgLy8gcmVwb3J0IGJhc2VkIG9uIG5hdHVyYWxXaWR0aFxuICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIG5vbmUgb2YgdGhlIGNoZWNrcyBhYm92ZSBtYXRjaGVkLCBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnQuXG4gIHRoaXMucHJveHlJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICB0aGlzLnByb3h5SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMucHJveHlJbWFnZS5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIC8vIGJpbmQgdG8gaW1hZ2UgYXMgd2VsbCBmb3IgRmlyZWZveC4gIzE5MVxuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICB0aGlzLnByb3h5SW1hZ2Uuc3JjID0gdGhpcy5pbWcuc3JjO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5nZXRJc0ltYWdlQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW1nLmNvbXBsZXRlICYmIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gdW5kZWZpbmVkO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIHRoaXMuaW1nLCBtZXNzYWdlIF0gKTtcbn07XG5cbi8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xuXG4vLyB0cmlnZ2VyIHNwZWNpZmllZCBoYW5kbGVyIGZvciBldmVudCB0eXBlXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gIH1cbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY29uZmlybSggdHJ1ZSwgJ29ubG9hZCcgKTtcbiAgdGhpcy51bmJpbmRFdmVudHMoKTtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbmZpcm0oIGZhbHNlLCAnb25lcnJvcicgKTtcbiAgdGhpcy51bmJpbmRFdmVudHMoKTtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJveHlJbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5wcm94eUltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEJhY2tncm91bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gQmFja2dyb3VuZCggdXJsLCBlbGVtZW50ICkge1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcbn1cblxuLy8gaW5oZXJpdCBMb2FkaW5nSW1hZ2UgcHJvdG90eXBlXG5CYWNrZ3JvdW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIExvYWRpbmdJbWFnZS5wcm90b3R5cGUgKTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgdGhpcy5pbWcuc3JjID0gdGhpcy51cmw7XG4gIC8vIGNoZWNrIGlmIGltYWdlIGlzIGFscmVhZHkgY29tcGxldGVcbiAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xuICBpZiAoIGlzQ29tcGxldGUgKSB7XG4gICAgdGhpcy5jb25maXJtKCB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IDAsICduYXR1cmFsV2lkdGgnICk7XG4gICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgfVxufTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG59O1xuXG5CYWNrZ3JvdW5kLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIHRoaXMuZWxlbWVudCwgbWVzc2FnZSBdICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqUXVlcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4gPSBmdW5jdGlvbiggalF1ZXJ5ICkge1xuICBqUXVlcnkgPSBqUXVlcnkgfHwgd2luZG93LmpRdWVyeTtcbiAgaWYgKCAhalF1ZXJ5ICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBzZXQgbG9jYWwgdmFyaWFibGVcbiAgJCA9IGpRdWVyeTtcbiAgLy8gJCgpLmltYWdlc0xvYWRlZCgpXG4gICQuZm4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBJbWFnZXNMb2FkZWQoIHRoaXMsIG9wdGlvbnMsIGNhbGxiYWNrICk7XG4gICAgcmV0dXJuIGluc3RhbmNlLmpxRGVmZXJyZWQucHJvbWlzZSggJCh0aGlzKSApO1xuICB9O1xufTtcbi8vIHRyeSBtYWtpbmcgcGx1Z2luXG5JbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbigpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucmV0dXJuIEltYWdlc0xvYWRlZDtcblxufSk7XG5cblxuLyoqKi8gfSxcbi8qIDE1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbihmdW5jdGlvbigpIHtcblxuLyogcHJlYmlkLmpzIHYwLjE2LjBcblVwZGF0ZWQgOiAyMDE2LTEyLTA5ICovXG4hZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGk9bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIGVbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsdCksaS5sb2FkZWQ9ITAsaS5leHBvcnRzfXZhciBuPXt9O3JldHVybiB0Lm09ZSx0LmM9bix0LnA9XCJcIix0KDApfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGkoKXtmb3IodmFyIGU9MDtlPFMucXVlLmxlbmd0aDtlKyspaWYoaChTLnF1ZVtlXS5jYWxsZWQpPT09UCl0cnl7Uy5xdWVbZV0uY2FsbCgpLFMucXVlW2VdLmNhbGxlZD0hMH1jYXRjaCh0KXtDLmxvZ0Vycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDpcIixcInByZWJpZC5qc1wiLHQpfX1mdW5jdGlvbiBvKGUpe3ZhciB0PVMuX2JpZHNSZXF1ZXN0ZWQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBsYWNlbWVudENvZGV9KX0pLnJlZHVjZShJLmZsYXR0ZW4pLmZpbHRlcihJLnVuaXF1ZXMpO3JldHVybiBDLmNvbnRhaW5zKHQsZSk/ITA6KEMubG9nRXJyb3IoJ1RoZSBcIicrZSsnXCIgcGxhY2VtZW50IGlzIG5vdCBkZWZpbmVkLicpLHZvaWQgMCl9ZnVuY3Rpb24gYSgpe0kuaXNHcHRQdWJhZHNEZWZpbmVkKCkmJndpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ouZm9yRWFjaChmdW5jdGlvbih0KXtlLnNldFRhcmdldGluZyh0LG51bGwpfSl9KX1mdW5jdGlvbiBkKGUpe3dpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKVswXT09PXQuZ2V0QWRVbml0UGF0aCgpfHxPYmplY3Qua2V5cyhlKVswXT09PXQuZ2V0U2xvdEVsZW1lbnRJZCgpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZVtPYmplY3Qua2V5cyhlKVswXV0uZm9yRWFjaChmdW5jdGlvbihlKXtlW09iamVjdC5rZXlzKGUpWzBdXS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIEMubG9nTWVzc2FnZShcIkF0dGVtcHRpbmcgdG8gc2V0IGtleSB2YWx1ZSBmb3Igc2xvdDogXCIrdC5nZXRTbG90RWxlbWVudElkKCkrXCIga2V5OiBcIitPYmplY3Qua2V5cyhlKVswXStcIiB2YWx1ZTogXCIrbiksbn0pLmZvckVhY2goZnVuY3Rpb24obil7dC5zZXRUYXJnZXRpbmcoT2JqZWN0LmtleXMoZSlbMF0sbil9KX0pfSl9KX1mdW5jdGlvbiBzKCl7cmV0dXJuIE8uZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZygpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXl9KS5jb25jYXQody5UQVJHRVRJTkdfS0VZUykuZmlsdGVyKEkudW5pcXVlcyl9ZnVuY3Rpb24gdShlKXt2YXIgdD1lP1tlXTpTLl9hZFVuaXRDb2RlcztyZXR1cm4gUy5fYmlkc1JlY2VpdmVkLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5pbmNsdWRlcyhlLmFkVW5pdENvZGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KS5maWx0ZXIoSS51bmlxdWVzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFMuX2JpZHNSZWNlaXZlZC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkucmVkdWNlKEkuZ2V0SGlnaGVzdENwbSx7YWRVbml0Q29kZTplLGNwbTowLGFkc2VydmVyVGFyZ2V0aW5nOnt9LHRpbWVUb1Jlc3BvbmQ6MH0pfSl9ZnVuY3Rpb24gYygpe3ZhciBlPXUoKTtlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWFsSWR9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD1lLmRlYWxJZH0pO3ZhciB0PXMoKTtyZXR1cm4gZT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcih7fSxlLmFkVW5pdENvZGUsT2JqZWN0LmtleXMoZS5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09dC5pbmRleE9mKG4pfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiByKHt9LHQuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSl9KX1mdW5jdGlvbiBsKCl7cmV0dXJuIFMuX2JpZHNSZWNlaXZlZC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVhbElkfSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PVwiaGJfZGVhbF9cIitlLmJpZGRlckNvZGU7cmV0dXJuIHIoe30sZS5hZFVuaXRDb2RlLGcoZSx3LlRBUkdFVElOR19LRVlTKS5jb25jYXQocih7fSx0LnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1t0XV0pKSl9KX1mdW5jdGlvbiBmKGUpe3ZhciB0PXMoKTtyZXR1cm4gUy5fYmlkc1JlY2VpdmVkLmZpbHRlcihJLmFkVW5pdHNGaWx0ZXIuYmluZCh0aGlzLGUpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWx3YXlzVXNlQmlkP3Ioe30sZS5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdC5pbmRleE9mKG4pPi0xP3ZvaWQgMDpyKHt9LG4uc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW25dXSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk6dm9pZCAwfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9ZnVuY3Rpb24gcChlKXt2YXIgdD13LlRBUkdFVElOR19LRVlTO3JldHVybiBTLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKEkuYWRVbml0c0ZpbHRlci5iaW5kKHRoaXMsZSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZz9yKHt9LGUuYWRVbml0Q29kZSxnKGUsdCkpOnZvaWQgMH0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHIoe30sKHQrXCJfXCIrZS5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCksW2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKX0pfWZ1bmN0aW9uIG0oZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/W2VdOlMuX2FkVW5pdENvZGVzLG49Yyh0KS5jb25jYXQoZih0KSkuY29uY2F0KFMuX3NlbmRBbGxCaWRzP3AodCk6W10pLmNvbmNhdChsKHQpKTtyZXR1cm4gbi5tYXAoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKHQpe2VbdF0ubWFwKGZ1bmN0aW9uKGUpey0xPT09ei5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKHo9T2JqZWN0LmtleXMoZSkuY29uY2F0KHopKX0pfSl9KSxufWZ1bmN0aW9uIGIoKXtTLl9iaWRzUmVxdWVzdGVkPVtdLFMuX2JpZHNSZWNlaXZlZD1TLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFTLl9hZFVuaXRDb2Rlcy5pbmNsdWRlcyhlLmFkVW5pdENvZGUpfSl9ZnVuY3Rpb24gdihlLHQsbil7ZS5kZWZhdWx0VmlldyYmZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQmJihlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudC53aWR0aD10LGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50LmhlaWdodD1uKX12YXIgeT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSxoPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LEE9bigxKSxJPW4oMiksVD1uKDQpO24oMTkpO3ZhciBFPW4oMTUpLF89bigxMyksUz1BLmdldEdsb2JhbCgpLHc9bigzKSxDPW4oMiksTz1uKDEyKSxCPW4oNSksaj1uKDExKSxSPW4oMTgpLFU9big4KSxOPW4oMjApLHg9XCJmdW5jdGlvblwiLFA9XCJ1bmRlZmluZWRcIixrPVwib2JqZWN0XCIsRD13LkVWRU5UUy5CSURfV09OLE09dy5FVkVOVFMuQVVDVElPTl9FTkQscT0hMSxHPVtdLHo9W10sTD17YmlkV29uOm99O1MuX2JpZHNSZXF1ZXN0ZWQ9W10sUy5fYmlkc1JlY2VpdmVkPVtdLFMuX2FkVW5pdENvZGVzPVtdLFMuX3dpbm5pbmdCaWRzPVtdLFMuX2Fkc1JlY2VpdmVkPVtdLFMuX3NlbmRBbGxCaWRzPSExLFMuYmlkZGVyU2V0dGluZ3M9Uy5iaWRkZXJTZXR0aW5nc3x8e30sUy5iaWRkZXJUaW1lb3V0PVMuYmlkZGVyVGltZW91dHx8M2UzLFMuY2JUaW1lb3V0PVMuY2JUaW1lb3V0fHwyMDAsUy50aW1lb3V0QnVmZmVyPTIwMCxTLmxvZ2dpbmc9Uy5sb2dnaW5nfHwhMSxTLmxpYkxvYWRlZD0hMCxTLnZlcnNpb249XCJ2MC4xNi4wXCIsQy5sb2dJbmZvKFwiUHJlYmlkLmpzIHYwLjE2LjAgbG9hZGVkXCIpLFMuYWRVbml0cz1TLmFkVW5pdHN8fFtdLFMucXVlLnB1c2g9ZnVuY3Rpb24oZSl7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6aChlKSk9PT14KXRyeXtlLmNhbGwoKX1jYXRjaCh0KXtDLmxvZ0Vycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDpcIit0Lm1lc3NhZ2UpfWVsc2UgQy5sb2dFcnJvcihcIkNvbW1hbmRzIHdyaXR0ZW4gaW50byBwYmpzLnF1ZS5wdXNoIG11c3Qgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uXCIpfSxTLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0cj1mdW5jdGlvbihlKXtpZihDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0clwiLGFyZ3VtZW50cyksZSl7dmFyIHQ9Uy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGUoZSk7cmV0dXJuIEMudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmoodCl9Qy5sb2dNZXNzYWdlKFwiTmVlZCB0byBjYWxsIGdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciB3aXRoIGFkdW5pdENvZGVcIil9LFMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBTLmdldEFkc2VydmVyVGFyZ2V0aW5nKGUpW2VdfSxTLmdldEFkc2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKGUpe3JldHVybiBDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nXCIsYXJndW1lbnRzKSxtKGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcih7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0uam9pbihcIiwgXCIpKX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiB5KHQsZSl9LHt9KSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyh0KVswXTtyZXR1cm4gZVtuXT15KHt9LGVbbl0sdFtuXSksZX0se30pfSxTLmdldEJpZFJlc3BvbnNlcz1mdW5jdGlvbigpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMuZ2V0QmlkUmVzcG9uc2VzXCIsYXJndW1lbnRzKTt2YXIgZT1TLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKEkuYWRVbml0c0ZpbHRlci5iaW5kKHRoaXMsUy5fYWRVbml0Q29kZXMpKSx0PWUmJmUubGVuZ3RoJiZlW2UubGVuZ3RoLTFdLnJlcXVlc3RJZDtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pLmZpbHRlcihJLnVuaXF1ZXMpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVxdWVzdElkPT09dCYmZS5hZFVuaXRDb2RlPT09bn0pfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlWzBdJiZlWzBdLmFkVW5pdENvZGV9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIoe30sZVswXS5hZFVuaXRDb2RlLHtiaWRzOmV9KX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiB5KGUsdCl9LHt9KX0sUy5nZXRCaWRSZXNwb25zZXNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3ZhciB0PVMuX2JpZHNSZWNlaXZlZC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWV9KTtyZXR1cm57Ymlkczp0fX0sUy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYz1mdW5jdGlvbigpe3JldHVybiBDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLnNldFRhcmdldGluZ0ZvckdQVEFzeW5jXCIsYXJndW1lbnRzKSxJLmlzR3B0UHViYWRzRGVmaW5lZCgpPyhhKCksZChtKCkpLHZvaWQgMCk6KEMubG9nRXJyb3IoXCJ3aW5kb3cuZ29vZ2xldGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlXCIpLHZvaWQgMCl9LFMuYWxsQmlkc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiBDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmFsbEJpZHNBdmFpbGFibGVcIixhcmd1bWVudHMpLE8uYmlkc0JhY2tBbGwoKX0sUy5yZW5kZXJBZD1mdW5jdGlvbihlLHQpe2lmKEMubG9nSW5mbyhcIkludm9raW5nIHBianMucmVuZGVyQWRcIixhcmd1bWVudHMpLEMubG9nTWVzc2FnZShcIkNhbGxpbmcgcmVuZGVyQWQgd2l0aCBhZElkIDpcIit0KSxlJiZ0KXRyeXt2YXIgbj1TLl9iaWRzUmVjZWl2ZWQuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09dH0pO2lmKG4pe1MuX3dpbm5pbmdCaWRzLnB1c2gobiksVS5lbWl0KEQsbik7dmFyIHI9bi5oZWlnaHQsaT1uLndpZHRoLG89bi5hZFVybCxhPW4uYWQ7ZT09PWRvY3VtZW50fHxcInZpZGVvXCI9PT1uLm1lZGlhVHlwZT9DLmxvZ0Vycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBBZCByZW5kZXIgY2FsbCBhZCBpZCBcIit0K1wiIHdhcyBwcmV2ZW50ZWQgZnJvbSB3cml0aW5nIHRvIHRoZSBtYWluIGRvY3VtZW50LlwiKTphPyhlLndyaXRlKGEpLGUuY2xvc2UoKSx2KGUsaSxyKSk6bz8oZS53cml0ZSgnPElGUkFNRSBTUkM9XCInK28rJ1wiIEZSQU1FQk9SREVSPVwiMFwiIFNDUk9MTElORz1cIm5vXCIgTUFSR0lOSEVJR0hUPVwiMFwiIE1BUkdJTldJRFRIPVwiMFwiIFRPUE1BUkdJTj1cIjBcIiBMRUZUTUFSR0lOPVwiMFwiIEFMTE9XVFJBTlNQQVJFTkNZPVwidHJ1ZVwiIFdJRFRIPVwiJytpKydcIiBIRUlHSFQ9XCInK3IrJ1wiPjwvSUZSQU1FPicpLGUuY2xvc2UoKSx2KGUsaSxyKSk6Qy5sb2dFcnJvcihcIkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gTm8gYWQgZm9yIGJpZCByZXNwb25zZSBpZDogXCIrdCl9ZWxzZSBDLmxvZ0Vycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBDYW5ub3QgZmluZCBhZCBieSBnaXZlbiBpZCA6IFwiK3QpfWNhdGNoKGQpe0MubG9nRXJyb3IoXCJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOlwiK3QrXCIgdG8gdGhlIHBhZ2U6XCIrZC5tZXNzYWdlKX1lbHNlIEMubG9nRXJyb3IoXCJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOlwiK3QrXCIgdG8gdGhlIHBhZ2UuIE1pc3NpbmcgZG9jdW1lbnQgb3IgYWRJZFwiKX0sUy5yZW1vdmVBZFVuaXQ9ZnVuY3Rpb24oZSl7aWYoQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5yZW1vdmVBZFVuaXRcIixhcmd1bWVudHMpLGUpZm9yKHZhciB0PTA7dDxTLmFkVW5pdHMubGVuZ3RoO3QrKylTLmFkVW5pdHNbdF0uY29kZT09PWUmJlMuYWRVbml0cy5zcGxpY2UodCwxKX0sUy5jbGVhckF1Y3Rpb249ZnVuY3Rpb24oKXtxPSExLEMubG9nTWVzc2FnZShcIlByZWJpZCBhdWN0aW9uIGNsZWFyZWRcIiksVS5lbWl0KE0pLEcubGVuZ3RoJiZHLnNoaWZ0KCkoKX0sUy5yZXF1ZXN0Qmlkcz1mdW5jdGlvbihlKXt2YXIgdD1lLmJpZHNCYWNrSGFuZGxlcixuPWUudGltZW91dCxyPWUuYWRVbml0cyxpPWUuYWRVbml0Q29kZXMsbz1TLmNiVGltZW91dD1ufHxTLmJpZGRlclRpbWVvdXQ7cj1yfHxTLmFkVW5pdHMsQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5yZXF1ZXN0Qmlkc1wiLGFyZ3VtZW50cyksaSYmaS5sZW5ndGg/cj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gaS5pbmNsdWRlcyhlLmNvZGUpfSk6aT1yJiZyLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlfSk7dmFyIGE9ci5maWx0ZXIoVC52aWRlb0FkVW5pdCkuZmlsdGVyKFQuaGFzTm9uVmlkZW9CaWRkZXIpO2lmKGEuZm9yRWFjaChmdW5jdGlvbihlKXtDLmxvZ0Vycm9yKFwiYWRVbml0IFwiK2UuY29kZStcIiBoYXMgJ21lZGlhVHlwZScgc2V0IHRvICd2aWRlbycgYnV0IGNvbnRhaW5zIGEgYmlkZGVyIHRoYXQgZG9lc24ndCBzdXBwb3J0IHZpZGVvLiBObyBQcmViaWQgZGVtYW5kIHJlcXVlc3RzIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGlzIGFkVW5pdC5cIik7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0Kyspclt0XS5jb2RlPT09ZS5jb2RlJiZyLnNwbGljZSh0LDEpfSkscSlyZXR1cm4gRy5wdXNoKGZ1bmN0aW9uKCl7Uy5yZXF1ZXN0Qmlkcyh7Ymlkc0JhY2tIYW5kbGVyOnQsdGltZW91dDpvLGFkVW5pdHM6cixhZFVuaXRDb2RlczppfSl9KSx2b2lkIDA7aWYocT0hMCxTLl9hZFVuaXRDb2Rlcz1pLE8uZXh0ZXJuYWxDYWxsYmFja1Jlc2V0KCksYigpLCFyfHwwPT09ci5sZW5ndGgpcmV0dXJuIEMubG9nTWVzc2FnZShcIk5vIGFkVW5pdHMgY29uZmlndXJlZC4gTm8gYmlkcyByZXF1ZXN0ZWQuXCIpLChcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOmgodCkpPT09eCYmTy5hZGRPbmVUaW1lQ2FsbGJhY2sodCwhMSksTy5leGVjdXRlQ2FsbGJhY2soKSx2b2lkIDA7dmFyIGQ9ITAscz1PLmV4ZWN1dGVDYWxsYmFjay5iaW5kKE8sZCksdT1zZXRUaW1lb3V0KHMsbyk7KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6aCh0KSk9PT14JiZPLmFkZE9uZVRpbWVDYWxsYmFjayh0LHUpLEIuY2FsbEJpZHMoe2FkVW5pdHM6cixhZFVuaXRDb2RlczppLGNiVGltZW91dDpvfSksMD09PVMuX2JpZHNSZXF1ZXN0ZWQubGVuZ3RoJiZPLmV4ZWN1dGVDYWxsYmFjaygpfSxTLmFkZEFkVW5pdHM9ZnVuY3Rpb24oZSl7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5hZGRBZFVuaXRzXCIsYXJndW1lbnRzKSxDLmlzQXJyYXkoZSk/Uy5hZFVuaXRzLnB1c2guYXBwbHkoUy5hZFVuaXRzLGUpOihcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmgoZSkpPT09ayYmUy5hZFVuaXRzLnB1c2goZSl9LFMub25FdmVudD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEMubG9nSW5mbyhcIkludm9raW5nIHBianMub25FdmVudFwiLGFyZ3VtZW50cyksQy5pc0ZuKHQpP24mJiFMW2VdLmNhbGwobnVsbCxuKT8oQy5sb2dFcnJvcignVGhlIGlkIHByb3ZpZGVkIGlzIG5vdCB2YWxpZCBmb3IgZXZlbnQgXCInK2UrJ1wiIGFuZCBubyBoYW5kbGVyIHdhcyBzZXQuJyksdm9pZCAwKTooVS5vbihlLHQsbiksdm9pZCAwKTooQy5sb2dFcnJvcignVGhlIGV2ZW50IGhhbmRsZXIgcHJvdmlkZWQgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdhcyBub3Qgc2V0IG9uIGV2ZW50IFwiJytlKydcIi4nKSx2b2lkIDApfSxTLm9mZkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLm9mZkV2ZW50XCIsYXJndW1lbnRzKSwoIW58fExbZV0uY2FsbChudWxsLG4pKSYmVS5vZmYoZSx0LG4pfSxTLmFkZENhbGxiYWNrPWZ1bmN0aW9uKGUsdCl7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5hZGRDYWxsYmFja1wiLGFyZ3VtZW50cyk7dmFyIG49bnVsbDtyZXR1cm4gZSYmdCYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6aCh0KSk9PT14PyhuPUMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cixPLmFkZENhbGxiYWNrKG4sdCxlKSxuKTooQy5sb2dFcnJvcihcImVycm9yIHJlZ2lzdGVyaW5nIGNhbGxiYWNrLiBDaGVjayBtZXRob2Qgc2lnbmF0dXJlXCIpLG4pfSxTLnJlbW92ZUNhbGxiYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LFMucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5yZWdpc3RlckJpZEFkYXB0ZXJcIixhcmd1bWVudHMpO3RyeXtCLnJlZ2lzdGVyQmlkQWRhcHRlcihlKCksdCl9Y2F0Y2gobil7Qy5sb2dFcnJvcihcIkVycm9yIHJlZ2lzdGVyaW5nIGJpZGRlciBhZGFwdGVyIDogXCIrbi5tZXNzYWdlKX19LFMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyXCIsYXJndW1lbnRzKTt0cnl7Qi5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIoZSl9Y2F0Y2godCl7Qy5sb2dFcnJvcihcIkVycm9yIHJlZ2lzdGVyaW5nIGFuYWx5dGljcyBhZGFwdGVyIDogXCIrdC5tZXNzYWdlKX19LFMuYmlkc0F2YWlsYWJsZUZvckFkYXB0ZXI9ZnVuY3Rpb24oZSl7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5iaWRzQXZhaWxhYmxlRm9yQWRhcHRlclwiLGFyZ3VtZW50cyksUy5fYmlkc1JlcXVlc3RlZC5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZGRlckNvZGU9PT1lfSkuYmlkcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHkodCxqLmNyZWF0ZUJpZCgxKSx7YmlkZGVyQ29kZTplLGFkVW5pdENvZGU6dC5wbGFjZW1lbnRDb2RlfSl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFMuX2JpZHNSZWNlaXZlZC5wdXNoKGUpfSl9LFMuY3JlYXRlQmlkPWZ1bmN0aW9uKGUpe3JldHVybiBDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmNyZWF0ZUJpZFwiLGFyZ3VtZW50cyksai5jcmVhdGVCaWQoZSl9LFMuYWRkQmlkUmVzcG9uc2U9ZnVuY3Rpb24oZSx0KXtDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmFkZEJpZFJlc3BvbnNlXCIsYXJndW1lbnRzKSxPLmFkZEJpZFJlc3BvbnNlKGUsdCl9LFMubG9hZFNjcmlwdD1mdW5jdGlvbihlLHQsbil7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5sb2FkU2NyaXB0XCIsYXJndW1lbnRzKSxSLmxvYWRTY3JpcHQoZSx0LG4pfSxTLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtlJiYhQy5pc0VtcHR5KGUpPyhDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmVuYWJsZUFuYWx5dGljcyBmb3I6IFwiLGUpLEIuZW5hYmxlQW5hbHl0aWNzKGUpKTpDLmxvZ0Vycm9yKFwicGJqcy5lbmFibGVBbmFseXRpY3Mgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIG9wdGlvbiB7fVwiKX0sUy5hbGlhc0JpZGRlcj1mdW5jdGlvbihlLHQpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMuYWxpYXNCaWRkZXJcIixhcmd1bWVudHMpLGUmJnQ/Qi5hbGlhc0JpZEFkYXB0ZXIoZSx0KTpDLmxvZ0Vycm9yKFwiYmlkZGVyQ29kZSBhbmQgYWxpYXMgbXVzdCBiZSBwYXNzZWQgYXMgYXJndW1lbnRzXCIsXCJwYmpzLmFsaWFzQmlkZGVyXCIpfSxTLnNldFByaWNlR3JhbnVsYXJpdHk9ZnVuY3Rpb24oZSl7aWYoQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5zZXRQcmljZUdyYW51bGFyaXR5XCIsYXJndW1lbnRzKSwhZSlyZXR1cm4gQy5sb2dFcnJvcihcIlByZWJpZCBFcnJvcjogbm8gdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgXCIpLHZvaWQgMDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlPLnNldFByaWNlR3JhbnVsYXJpdHkoZSk7ZWxzZSBpZihcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6aChlKSkpe2lmKCFfLmlzVmFsaWRlUHJpY2VDb25maWcoZSkpcmV0dXJuIEMubG9nRXJyb3IoXCJJbnZhbGlkIGN1c3RvbSBwcmljZSB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWBcIiksdm9pZCAwO08uc2V0Q3VzdG9tUHJpY2VCdWNrZXQoZSksTy5zZXRQcmljZUdyYW51bGFyaXR5KHcuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00pLEMubG9nTWVzc2FnZShcIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eVwiKX19LFMuZW5hYmxlU2VuZEFsbEJpZHM9ZnVuY3Rpb24oKXtTLl9zZW5kQWxsQmlkcz0hMH0sUy5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiBTLl93aW5uaW5nQmlkc30sUy5idWlsZE1hc3RlclZpZGVvVGFnRnJvbUFkc2VydmVyVGFnPWZ1bmN0aW9uKGUsdCl7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5idWlsZE1hc3RlclZpZGVvVGFnRnJvbUFkc2VydmVyVGFnXCIsYXJndW1lbnRzKTt2YXIgbj1FLnBhcnNlKGUpO2lmKDA9PT1TLl9iaWRzUmVjZWl2ZWQubGVuZ3RoKXJldHVybiBlO3ZhciByPVwiXCI7aWYoXCJkZnBcIiE9PXQuYWRzZXJ2ZXIudG9Mb3dlckNhc2UoKSlyZXR1cm4gQy5sb2dFcnJvcihcIk9ubHkgREZQIGFkc2VydmVyIGlzIHN1cHBvcnRlZFwiKSx2b2lkIDA7dmFyIGk9Ti5kZnBBZHNlcnZlcih0LG4pO3JldHVybiBpLnZlcmlmeUFkc2VydmVyVGFnKCl8fEMubG9nRXJyb3IoXCJJbnZhbGlkIGFkc2VydmVyVGFnLCByZXF1aXJlZCBnb29nbGUgcGFyYW1zIGFyZSBtaXNzaW5nIGluIHF1ZXJ5IHN0cmluZ1wiKSxpLmFwcGVuZFF1ZXJ5UGFyYW1zKCkscj1FLmZvcm1hdChpLnVybENvbXBvbmVudHMpfSxTLnNldEJpZGRlclNlcXVlbmNlPWZ1bmN0aW9uKGUpe2U9PT13Lk9SREVSLlJBTkRPTSYmQi5zZXRCaWRkZXJTZXF1ZW5jZSh3Lk9SREVSLlJBTkRPTSl9LFMuZ2V0SGlnaGVzdENwbUJpZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSl9LGkoKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7cmV0dXJuIHdpbmRvdy5wYmpzfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0R2xvYmFsPW4sd2luZG93LnBianM9d2luZG93LnBianN8fHt9LHdpbmRvdy5wYmpzLnF1ZT13aW5kb3cucGJqcy5xdWV8fFtdfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3JldHVybiBPKCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gd2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZ31mdW5jdGlvbiBvKGUsdCxuKXtyZXR1cm4gbi5pbmRleE9mKGUpPT09dH1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIHBianMuX2JpZHNSZXF1ZXN0ZWQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZHMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRJZD09PWV9KX0pLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX1mdW5jdGlvbiBzKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGVbdF19ZnVuY3Rpb24gYygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pLnJlZHVjZShhLFtdKX0pLnJlZHVjZShhKS5maWx0ZXIobyl9ZnVuY3Rpb24gbCgpe3JldHVybiB3aW5kb3cuZ29vZ2xldGFnJiZ0LmlzRm4od2luZG93Lmdvb2dsZXRhZy5wdWJhZHMpJiZ0LmlzRm4od2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cyk/ITA6dm9pZCAwfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZS5jcG09PT10LmNwbT9lLnRpbWVUb1Jlc3BvbmQ+dC50aW1lVG9SZXNwb25kP3Q6ZTplLmNwbTx0LmNwbT90OmV9ZnVuY3Rpb24gcChlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dD4wOyl7dmFyIG49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnQpO3QtLTt2YXIgcj1lW3RdO2VbdF09ZVtuXSxlW25dPXJ9cmV0dXJuIGV9ZnVuY3Rpb24gZyhlLHQpe3JldHVybiBlLmluY2x1ZGVzKHQmJnQucGxhY2VtZW50Q29kZXx8dCYmdC5hZFVuaXRDb2RlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0LnVuaXF1ZXM9byx0LmZsYXR0ZW49YSx0LmdldEJpZFJlcXVlc3Q9ZCx0LmdldEtleXM9cyx0LmdldFZhbHVlPXUsdC5nZXRCaWRkZXJDb2Rlcz1jLHQuaXNHcHRQdWJhZHNEZWZpbmVkPWwsdC5nZXRIaWdoZXN0Q3BtPWYsdC5zaHVmZmxlPXAsdC5hZFVuaXRzRmlsdGVyPWc7dmFyIGI9bigzKSx2PVwib2JqZWN0XCIseT1cInN0cmluZ1wiLGg9XCJudW1iZXJcIixBPSExLEk9XCJBcnJheVwiLFQ9XCJTdHJpbmdcIixFPVwiRnVuY3Rpb25cIixfPVwiTnVtYmVyXCIsUz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHc9bnVsbDt0cnl7dz1jb25zb2xlLmluZm8uYmluZCh3aW5kb3cuY29uc29sZSl9Y2F0Y2goQyl7fXQucmVwbGFjZVRva2VuSW5TdHJpbmc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLl9lYWNoKHQsZnVuY3Rpb24odCxyKXt0PXZvaWQgMD09PXQ/XCJcIjp0O3ZhciBpPW4rci50b1VwcGVyQ2FzZSgpK24sbz1uZXcgUmVnRXhwKGksXCJnXCIpO2U9ZS5yZXBsYWNlKG8sdCl9KSxlfTt2YXIgTz1mdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUrKyxlfX0oKTt0LmdldFVuaXF1ZUlkZW50aWZpZXJTdHI9cix0LmdlbmVyYXRlVVVJRD1mdW5jdGlvbiBOKGUpe3JldHVybiBlPyhlXjE2Kk1hdGgucmFuZG9tKCk+PmUvNCkudG9TdHJpbmcoMTYpOihbMWU3XSstMWUzKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxOKX0sdC5nZXRCaWRJZFBhcmFtZXRlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0JiZ0W2VdP3RbZV06XCJcIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4/ZSs9dCtcIj1cIitlbmNvZGVVUklDb21wb25lbnQobikrXCImXCI6ZX0sdC5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycz1mdW5jdGlvbihlKXt2YXIgdD1cIlwiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChlW25dKStcIiZcIik7cmV0dXJuIHR9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3MoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0K1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh1KGUsdCkpfSkuam9pbihcIiZcIik6XCJcIn0sdC5leHRlbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lfHx7fSx0aGlzLl9lYWNoKHQsZnVuY3Rpb24obixyKXtlW3JdPW0odFtyXSk9PT12P3RoaXMuZXh0ZW5kKGVbcl0sdFtyXSk6dFtyXX0pLGV9LHQucGFyc2VTaXplc0lucHV0PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKChcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOm0oZSkpPT09eSl7dmFyIG49ZS5zcGxpdChcIixcIikscj0vXihcXGQpK3goXFxkKSskL2k7aWYobilmb3IodmFyIGkgaW4gbilVKG4saSkmJm5baV0ubWF0Y2gocikmJnQucHVzaChuW2ldKX1lbHNlIGlmKChcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOm0oZSkpPT09dil7dmFyIG89ZS5sZW5ndGg7aWYobz4wKWlmKDI9PT1vJiZtKGVbMF0pPT09aCYmbShlWzFdKT09PWgpdC5wdXNoKHRoaXMucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkoZSkpO2Vsc2UgZm9yKHZhciBhPTA7bz5hO2ErKyl0LnB1c2godGhpcy5wYXJzZUdQVFNpbmdsZVNpemVBcnJheShlW2FdKSl9cmV0dXJuIHR9LHQucGFyc2VHUFRTaW5nbGVTaXplQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxpc05hTihlWzBdKXx8aXNOYU4oZVsxXSk/dm9pZCAwOmVbMF0rXCJ4XCIrZVsxXX0sdC5nZXRUb3BXaW5kb3dMb2NhdGlvbj1mdW5jdGlvbigpe3ZhciBlPXZvaWQgMDt0cnl7ZT13aW5kb3cudG9wLmxvY2F0aW9ufWNhdGNoKHQpe2U9d2luZG93LmxvY2F0aW9ufXJldHVybiBlfSx0LmdldFRvcFdpbmRvd1VybD1mdW5jdGlvbigpe3ZhciBlPXZvaWQgMDt0cnl7ZT10aGlzLmdldFRvcFdpbmRvd0xvY2F0aW9uKCkuaHJlZn1jYXRjaCh0KXtlPVwiXCJ9cmV0dXJuIGV9LHQubG9nV2Fybj1mdW5jdGlvbihlKXtqKCkmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiV0FSTklORzogXCIrZSl9LHQubG9nSW5mbz1mdW5jdGlvbihlLHQpe2ooKSYmaSgpJiZ3JiYodCYmMCE9PXQubGVuZ3RofHwodD1cIlwiKSx3KFwiSU5GTzogXCIrZSsoXCJcIj09PXQ/XCJcIjpcIiA6IHBhcmFtcyA6IFwiKSx0KSl9LHQubG9nTWVzc2FnZT1mdW5jdGlvbihlKXtqKCkmJmkoKSYmY29uc29sZS5sb2coXCJNRVNTQUdFOiBcIitlKX0sdC5oYXNDb25zb2xlTG9nZ2VyPWk7dmFyIEI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/d2luZG93LmNvbnNvbGUuZXJyb3I/XCJlcnJvclwiOlwibG9nXCI6XCJcIn0oaSgpKSxqPWZ1bmN0aW9uKCl7cmV0dXJuIHBianMubG9nZ2luZz09PSExJiZBPT09ITEmJihwYmpzLmxvZ2dpbmc9XCJUUlVFXCI9PT1SKGIuREVCVUdfTU9ERSkudG9VcHBlckNhc2UoKSxBPSEwKSwhIXBianMubG9nZ2luZ307dC5kZWJ1Z1R1cm5lZE9uPWosdC5sb2dFcnJvcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dHx8XCJFUlJPUlwiO2ooKSYmaSgpJiZjb25zb2xlW0JdKGNvbnNvbGUscitcIjogXCIrZSxufHxcIlwiKX0sdC5jcmVhdGVJbnZpc2libGVJZnJhbWU9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3JldHVybiBlLmlkPXIoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj1cIjBweFwiLGUuaHNwYWNlPVwiMFwiLGUudnNwYWNlPVwiMFwiLGUubWFyZ2luV2lkdGg9XCIwXCIsZS5tYXJnaW5IZWlnaHQ9XCIwXCIsZS5zdHlsZS5ib3JkZXI9XCIwXCIsZS5zY3JvbGxpbmc9XCJub1wiLGUuZnJhbWVCb3JkZXI9XCIwXCIsZS5zcmM9XCJhYm91dDpibGFua1wiLGUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixlfTt2YXIgUj1mdW5jdGlvbihlKXt2YXIgdD1cIltcXFxcPyZdXCIrZStcIj0oW14mI10qKVwiLG49bmV3IFJlZ0V4cCh0KSxyPW4uZXhlYyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtyZXR1cm4gbnVsbD09PXI/XCJcIjpkZWNvZGVVUklDb21wb25lbnQoclsxXS5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfTt0Lmhhc1ZhbGlkQmlkUmVxdWVzdD1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLG4pe249PT10W29dJiYoaT0hMCl9Zm9yKHZhciBpPSExLG89MDtvPHQubGVuZ3RoO28rKylpZihpPSExLHRoaXMuX2VhY2goZSxyKSwhaSlyZXR1cm4gdGhpcy5sb2dFcnJvcihcIlBhcmFtcyBhcmUgbWlzc2luZyBmb3IgYmlkIHJlcXVlc3QuIE9uZSBvZiB0aGVzZSByZXF1aXJlZCBwYXJhbWF0ZXJzIGFyZSBtaXNzaW5nOiBcIit0LG4pLCExO3JldHVybiEwfSx0LmFkZEV2ZW50SGFuZGxlcj1mdW5jdGlvbihlLHQsbil7ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITApOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvblwiK3Qsbil9LHQuaXNBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFMuY2FsbChlKT09PVwiW29iamVjdCBcIit0K1wiXVwifSx0LmlzRm49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNBKGUsRSl9LHQuaXNTdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNBKGUsVCl9LHQuaXNBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc0EoZSxJKX0sdC5pc051bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc0EoZSxfKX0sdC5pc0VtcHR5PWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiEwO2lmKHRoaXMuaXNBcnJheShlKXx8dGhpcy5pc1N0cihlKSlyZXR1cm4hKGUubGVuZ3RoPjApO2Zvcih2YXIgdCBpbiBlKWlmKGhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0sdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzU3RyKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc0VtcHR5KGUpKXtpZih0aGlzLmlzRm4oZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKHI+MClmb3IoO3I+bjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19LHQuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzRW1wdHkoZSkpcmV0dXJuITE7aWYodGhpcy5pc0ZuKGUuaW5kZXhPZikpcmV0dXJuLTEhPT1lLmluZGV4T2YodCk7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspaWYoZVtuXT09PXQpcmV0dXJuITA7cmV0dXJuITF9LHQuaW5kZXhPZj1mdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9BcnJheS5wcm90b3R5cGUuaW5kZXhPZjp2b2lkIDB9KCksdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5pc0VtcHR5KGUpKXJldHVybltdO2lmKHRoaXMuaXNGbihlLm1hcCkpcmV0dXJuIGUubWFwKHQpO3ZhciBuPVtdO3JldHVybiB0aGlzLl9lYWNoKGUsZnVuY3Rpb24ocixpKXtuLnB1c2godChyLGksZSkpfSksbn07dmFyIFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlW3RdJiZlLmNvbnN0cnVjdG9yLnByb3RvdHlwZVt0XSE9PWVbdF19O3QuY3JlYXRlVHJhY2tQaXhlbEh0bWw9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuXCJcIjt2YXIgdD1lbmNvZGVVUkkoZSksbj0nPGRpdiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MHB4O3RvcDowcHg7dmlzaWJpbGl0eTpoaWRkZW47XCI+JztyZXR1cm4gbis9JzxpbWcgc3JjPVwiJyt0KydcIj48L2Rpdj4nfSx0LmdldElmcmFtZURvY3VtZW50PWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXZvaWQgMDt0cnl7dD1lLmNvbnRlbnRXaW5kb3c/ZS5jb250ZW50V2luZG93LmRvY3VtZW50OmUuY29udGVudERvY3VtZW50LmRvY3VtZW50P2UuY29udGVudERvY3VtZW50LmRvY3VtZW50OmUuY29udGVudERvY3VtZW50fWNhdGNoKG4pe3RoaXMubG9nRXJyb3IoXCJDYW5ub3QgZ2V0IGlmcmFtZSBkb2N1bWVudFwiLG4pfXJldHVybiB0fX0sdC5nZXRWYWx1ZVN0cmluZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PXR8fG51bGw9PT10P246dGhpcy5pc1N0cih0KT90OnRoaXMuaXNOdW1iZXIodCk/dC50b1N0cmluZygpOih0aGlzLmxvZ1dhcm4oXCJVbnN1cG9ydGVkIHR5cGUgZm9yIHBhcmFtOiBcIitlK1wiIHJlcXVpcmVkIHR5cGU6IFN0cmluZ1wiKSx2b2lkIDApfX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPXtKU09OX01BUFBJTkc6e1BMX0NPREU6XCJjb2RlXCIsUExfU0laRTpcInNpemVzXCIsUExfQklEUzpcImJpZHNcIixCRF9CSURERVI6XCJiaWRkZXJcIixCRF9JRDpcInBhcmFtc2RcIixCRF9QTF9JRDpcInBsYWNlbWVudElkXCIsQURTRVJWRVJfVEFSR0VUSU5HOlwiYWRzZXJ2ZXJUYXJnZXRpbmdcIixCRF9TRVRUSU5HX1NUQU5EQVJEOlwic3RhbmRhcmRcIn0sUkVQT19BTkRfVkVSU0lPTjpcInByZWJpZF9wcmViaWRfMC4xNi4wXCIsREVCVUdfTU9ERTpcInBianNfZGVidWdcIixTVEFUVVM6e0dPT0Q6MSxOT19CSUQ6Mn0sQ0I6e1RZUEU6e0FMTF9CSURTX0JBQ0s6XCJhbGxSZXF1ZXN0ZWRCaWRzQmFja1wiLEFEX1VOSVRfQklEU19CQUNLOlwiYWRVbml0Qmlkc0JhY2tcIixCSURfV09OOlwiYmlkV29uXCJ9fSxvYmplY3RUeXBlX2Z1bmN0aW9uOlwiZnVuY3Rpb25cIixvYmplY3RUeXBlX3VuZGVmaW5lZDpcInVuZGVmaW5lZFwiLG9iamVjdFR5cGVfb2JqZWN0Olwib2JqZWN0XCIsb2JqZWN0VHlwZV9zdHJpbmc6XCJzdHJpbmdcIixvYmplY3RUeXBlX251bWJlcjpcIm51bWJlclwiLEVWRU5UUzp7QVVDVElPTl9JTklUOlwiYXVjdGlvbkluaXRcIixBVUNUSU9OX0VORDpcImF1Y3Rpb25FbmRcIixCSURfQURKVVNUTUVOVDpcImJpZEFkanVzdG1lbnRcIixCSURfVElNRU9VVDpcImJpZFRpbWVvdXRcIixCSURfUkVRVUVTVEVEOlwiYmlkUmVxdWVzdGVkXCIsQklEX1JFU1BPTlNFOlwiYmlkUmVzcG9uc2VcIixCSURfV09OOlwiYmlkV29uXCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246XCJhZFVuaXRDb2RlXCJ9LE9SREVSOntSQU5ET006XCJyYW5kb21cIn0sR1JBTlVMQVJJVFlfT1BUSU9OUzp7TE9XOlwibG93XCIsTUVESVVNOlwibWVkaXVtXCIsSElHSDpcImhpZ2hcIixBVVRPOlwiYXV0b1wiLERFTlNFOlwiZGVuc2VcIixDVVNUT006XCJjdXN0b21cIn0sVEFSR0VUSU5HX0tFWVM6W1wiaGJfYmlkZGVyXCIsXCJoYl9hZGlkXCIsXCJoYl9wYlwiLFwiaGJfc2l6ZVwiXX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lmhhc05vblZpZGVvQmlkZGVyPXQudmlkZW9BZFVuaXQ9dm9pZCAwO3t2YXIgcj1uKDUpLGk9KHQudmlkZW9BZFVuaXQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGV9LGZ1bmN0aW9uKGUpe3JldHVybiFyLnZpZGVvQWRhcHRlcnMuaW5jbHVkZXMoZS5iaWRkZXIpfSk7dC5oYXNOb25WaWRlb0JpZGRlcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLmZpbHRlcihpKS5sZW5ndGh9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7dmFyIHQ9ZS5iaWRkZXJDb2RlLG49ZS5yZXF1ZXN0SWQscj1lLmJpZGRlclJlcXVlc3RJZCxpPWUuYWRVbml0cztyZXR1cm4gaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09dH0pLm1hcChmdW5jdGlvbih0KXt2YXIgaT1lLnNpemVzO2lmKGUuc2l6ZU1hcHBpbmcpe3ZhciBhPWQubWFwU2l6ZXMoZSk7aWYoXCJcIj09PWEpcmV0dXJuXCJcIjtpPWF9cmV0dXJuIG8odCx7cGxhY2VtZW50Q29kZTplLmNvZGUsbWVkaWFUeXBlOmUubWVkaWFUeXBlLHNpemVzOmksYmlkSWQ6dS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksYmlkZGVyUmVxdWVzdElkOnIscmVxdWVzdElkOm59KX0pfSkucmVkdWNlKGEuZmxhdHRlbixbXSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiXCIhPT1lfSl9dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sbz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSxhPW4oMiksZD1uKDYpLHM9big3KSx1PW4oMiksYz1uKDMpLGw9big4KSxmPXt9O3QuYmlkZGVyUmVnaXN0cnk9Zjt2YXIgcD17fSxnPW51bGw7dC5jYWxsQmlkcz1mdW5jdGlvbihlKXt2YXIgdD1lLmFkVW5pdHMsbj1lLmNiVGltZW91dCxpPXUuZ2VuZXJhdGVVVUlEKCksbz1EYXRlLm5vdygpLGQ9e3RpbWVzdGFtcDpvLHJlcXVlc3RJZDppfTtsLmVtaXQoYy5FVkVOVFMuQVVDVElPTl9JTklULGQpO3ZhciBzPWEuZ2V0QmlkZGVyQ29kZXModCk7Zz09PWMuT1JERVIuUkFORE9NJiYocz1hLnNodWZmbGUocykpLHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgYT1mW2VdO2lmKGEpe3ZhciBkPXUuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHM9e2JpZGRlckNvZGU6ZSxyZXF1ZXN0SWQ6aSxiaWRkZXJSZXF1ZXN0SWQ6ZCxiaWRzOnIoe2JpZGRlckNvZGU6ZSxyZXF1ZXN0SWQ6aSxiaWRkZXJSZXF1ZXN0SWQ6ZCxhZFVuaXRzOnR9KSxzdGFydDoobmV3IERhdGUpLmdldFRpbWUoKSxhdWN0aW9uU3RhcnQ6byx0aW1lb3V0Om59O3MuYmlkcyYmMCE9PXMuYmlkcy5sZW5ndGgmJih1LmxvZ01lc3NhZ2UoXCJDQUxMSU5HIEJJRERFUiA9PT09PT09IFwiK2UpLHBianMuX2JpZHNSZXF1ZXN0ZWQucHVzaChzKSxsLmVtaXQoYy5FVkVOVFMuQklEX1JFUVVFU1RFRCxzKSxhLmNhbGxCaWRzKHMpKX1lbHNlIHUubG9nRXJyb3IoXCJBZGFwdGVyIHRyeWluZyB0byBiZSBjYWxsZWQgd2hpY2ggZG9lcyBub3QgZXhpc3Q6IFwiK2UrXCIgYWRhcHRlcm1hbmFnZXIuY2FsbEJpZHNcIil9KX0sdC5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXtlJiZ0P2koZS5jYWxsQmlkcyk9PT1jLm9iamVjdFR5cGVfZnVuY3Rpb24/Zlt0XT1lOnUubG9nRXJyb3IoXCJCaWRkZXIgYWRhcHRvciBlcnJvciBmb3IgYmlkZGVyIGNvZGU6IFwiK3QrXCJiaWRkZXIgbXVzdCBpbXBsZW1lbnQgYSBjYWxsQmlkcygpIGZ1bmN0aW9uXCIpOnUubG9nRXJyb3IoXCJiaWRBZGFwdG9yIG9yIGJpZGRlckNvZGUgbm90IHNwZWNpZmllZFwiKX0sdC5hbGlhc0JpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mW3RdO2lmKChcInVuZGVmaW5lZFwiPT10eXBlb2Ygbj9cInVuZGVmaW5lZFwiOmkobikpPT09Yy5vYmplY3RUeXBlX3VuZGVmaW5lZCl7dmFyIHI9ZltlXTtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHI/XCJ1bmRlZmluZWRcIjppKHIpKT09PWMub2JqZWN0VHlwZV91bmRlZmluZWQpdS5sb2dFcnJvcignYmlkZGVyQ29kZSBcIicrZSsnXCIgaXMgbm90IGFuIGV4aXN0aW5nIGJpZGRlci4nLFwiYWRhcHRlcm1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyXCIpO2Vsc2UgdHJ5e3ZhciBvPW51bGw7ciBpbnN0YW5jZW9mIHMuQmFzZUFkYXB0ZXI/dS5sb2dFcnJvcihlK1wiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy5cIixcImFkYXB0ZXJtYW5hZ2VyLmFsaWFzQmlkQWRhcHRlclwiKToobz1yLmNyZWF0ZU5ldygpLG8uc2V0QmlkZGVyQ29kZSh0KSx0aGlzLnJlZ2lzdGVyQmlkQWRhcHRlcihvLHQpKX1jYXRjaChhKXt1LmxvZ0Vycm9yKGUrXCIgYmlkZGVyIGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IGFsaWFzaW5nLlwiLFwiYWRhcHRlcm1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyXCIpfX1lbHNlIHUubG9nTWVzc2FnZSgnYWxpYXMgbmFtZSBcIicrdCsnXCIgaGFzIGJlZW4gYWxyZWFkeSBzcGVjaWZpZWQuJyl9LHQucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRhcHRlcixuPWUuY29kZTt0JiZuP2kodC5lbmFibGVBbmFseXRpY3MpPT09Yy5vYmplY3RUeXBlX2Z1bmN0aW9uPyh0LmNvZGU9bixwW25dPXQpOnUubG9nRXJyb3IoJ1ByZWJpZCBFcnJvcjogQW5hbHl0aWNzIGFkYXB0b3IgZXJyb3IgZm9yIGFuYWx5dGljcyBcIicrbisnXCJcXG4gICAgICAgIGFuYWx5dGljcyBhZGFwdGVyIG11c3QgaW1wbGVtZW50IGFuIGVuYWJsZUFuYWx5dGljcygpIGZ1bmN0aW9uJyk6dS5sb2dFcnJvcihcIlByZWJpZCBFcnJvcjogYW5hbHl0aWNzQWRhcHRlciBvciBhbmFseXRpY3NDb2RlIG5vdCBzcGVjaWZpZWRcIil9LHQuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe3UuaXNBcnJheShlKXx8KGU9W2VdKSx1Ll9lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIHQ9cFtlLnByb3ZpZGVyXTt0P3QuZW5hYmxlQW5hbHl0aWNzKGUpOnUubG9nRXJyb3IoXCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxcbiAgICAgICAgXCIrZS5wcm92aWRlcitcIi5cIil9KX0sdC5zZXRCaWRkZXJTZXF1ZW5jZT1mdW5jdGlvbihlKXtnPWV9O3ZhciBtPW4oOSk7dC5yZWdpc3RlckJpZEFkYXB0ZXIobmV3IG0sXCJydWJpY29uXCIpO3ZhciBiPW4oMTYpO3QucmVnaXN0ZXJCaWRBZGFwdGVyKG5ldyBiLFwiYW9sXCIpO3ZhciB2PW4oMTcpO3QucmVnaXN0ZXJCaWRBZGFwdGVyKG5ldyB2LFwiYXBwbmV4dXNcIiksdC52aWRlb0FkYXB0ZXJzPVtdfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHRbXCJkZWZhdWx0XCJdPWUsdH1mdW5jdGlvbiBpKGUpe2lmKCFvKGUuc2l6ZU1hcHBpbmcpKXJldHVybiBlLnNpemVzO3ZhciB0PWEoKTtpZighdCl7dmFyIG49ZS5zaXplTWFwcGluZy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5taW5XaWR0aDx0Lm1pbldpZHRoP3Q6ZX0pO3JldHVybiBuLnNpemVzP24uc2l6ZXM6ZS5zaXplc312YXIgcj1cIlwiLGk9ZS5zaXplTWFwcGluZy5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0PmUubWluV2lkdGh9KTtyZXR1cm4gaSYmaS5zaXplcz8ocj1pLnNpemVzLHUubG9nTWVzc2FnZShcIkFkVW5pdCA6IFwiK2UuY29kZStcIiByZXNpemVkIGJhc2VkIG9uIGRldmljZSB3aWR0aCB0byA6IFwiK3IpKTp1LmxvZ01lc3NhZ2UoXCJBZFVuaXQgOiBcIitlLmNvZGUrXCIgbm90IG1hcHBlZCB0byBhbnkgc2l6ZXMgZm9yIGRldmljZSB3aWR0aC4gVGhpcyByZXF1ZXN0IHdpbGwgYmUgc3VwcHJlc3NlZC5cIikscn1mdW5jdGlvbiBvKGUpe3JldHVybiB1LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjA/ITA6KHUubG9nSW5mbyhcIk5vIHNpemUgbWFwcGluZyBkZWZpbmVkXCIpLCExKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWV8fGN8fHdpbmRvdztyZXR1cm4gdC5zY3JlZW4mJnQuc2NyZWVuLndpZHRoP3Quc2NyZWVuLndpZHRoOjB9ZnVuY3Rpb24gZChlKXtjPWV9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zZXRXaW5kb3c9dC5nZXRTY3JlZW5XaWR0aD10Lm1hcFNpemVzPXZvaWQgMDt2YXIgcz1uKDIpLHU9cihzKSxjPXZvaWQgMDt0Lm1hcFNpemVzPWksdC5nZXRTY3JlZW5XaWR0aD1hLHQuc2V0V2luZG93PWR9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7e3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCk7dC5CYXNlQWRhcHRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7bih0aGlzLGUpLHRoaXMuY29kZT10fXJldHVybiByKGUsW3trZXk6XCJnZXRDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2RlfX0se2tleTpcInNldENvZGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvZGU9ZX19LHtrZXk6XCJjYWxsQmlkc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3dcImFkYXB0ZXIgaW1wbGVtZW50YXRpb24gbXVzdCBvdmVycmlkZSBjYWxsQmlkcyBtZXRob2RcIn19XSksZX0oKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9bigzKSxvPUFycmF5LnByb3RvdHlwZS5zbGljZSxhPUFycmF5LnByb3RvdHlwZS5wdXNoLGQ9ci5fbWFwKGkuRVZFTlRTLGZ1bmN0aW9uKGUpe3JldHVybiBlfSkscz1pLkVWRU5UX0lEX1BBVEhTLHU9W107ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3IubG9nTWVzc2FnZShcIkVtaXR0aW5nIGV2ZW50IGZvcjogXCIrZSk7dmFyIGk9dFswXXx8e30sbz1zW2VdLGQ9aVtvXSxjPW5bZV18fHtxdWU6W119LGw9ci5fbWFwKGMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pLGY9W107dS5wdXNoKHtldmVudFR5cGU6ZSxhcmdzOmksaWQ6ZH0pLGQmJnIuY29udGFpbnMobCxkKSYmYS5hcHBseShmLGNbZF0ucXVlKSxhLmFwcGx5KGYsYy5xdWUpLHIuX2VhY2goZixmdW5jdGlvbihlKXtpZihlKXRyeXtlLmFwcGx5KG51bGwsdCl9Y2F0Y2gobil7ci5sb2dFcnJvcihcIkVycm9yIGV4ZWN1dGluZyBoYW5kbGVyOlwiLFwiZXZlbnRzLmpzXCIsbil9fSl9ZnVuY3Rpb24gdChlKXtyZXR1cm4gci5jb250YWlucyhkLGUpfXZhciBuPXt9LGk9e307cmV0dXJuIGkub249ZnVuY3Rpb24oZSxpLG8pe2lmKHQoZSkpe3ZhciBhPW5bZV18fHtxdWU6W119O28/KGFbb109YVtvXXx8e3F1ZTpbXX0sYVtvXS5xdWUucHVzaChpKSk6YS5xdWUucHVzaChpKSxuW2VdPWF9ZWxzZSByLmxvZ0Vycm9yKFwiV3JvbmcgZXZlbnQgbmFtZSA6IFwiK2UrXCIgVmFsaWQgZXZlbnQgbmFtZXMgOlwiK2QpfSxpLmVtaXQ9ZnVuY3Rpb24odCl7dmFyIG49by5jYWxsKGFyZ3VtZW50cywxKTtlKHQsbil9LGkub2ZmPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbz1uW2VdO3IuaXNFbXB0eShvKXx8ci5pc0VtcHR5KG8ucXVlKSYmci5pc0VtcHR5KG9baV0pfHxpJiYoci5pc0VtcHR5KG9baV0pfHxyLmlzRW1wdHkob1tpXS5xdWUpKXx8KGk/ci5fZWFjaChvW2ldLnF1ZSxmdW5jdGlvbihlKXt2YXIgbj1vW2ldLnF1ZTtlPT09dCYmbi5zcGxpY2Uoci5pbmRleE9mLmNhbGwobixlKSwxKX0pOnIuX2VhY2goby5xdWUsZnVuY3Rpb24oZSl7dmFyIG49by5xdWU7ZT09PXQmJm4uc3BsaWNlKHIuaW5kZXhPZi5jYWxsKG4sZSksMSl9KSxuW2VdPW8pfSxpLmdldD1mdW5jdGlvbigpe3JldHVybiBufSxpLmdldEV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiByLl9lYWNoKHUsZnVuY3Rpb24odCl7dmFyIG49ci5leHRlbmQoe30sdCk7ZS5wdXNoKG4pfSksZX0saX0oKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBpKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdFtcImRlZmF1bHRcIl09ZSx0fWZ1bmN0aW9uIG8oKXtmdW5jdGlvbiBlKGUpe3ZhciByPWUuYmlkc3x8W107ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCl7dHJ5e2IubG9nTWVzc2FnZShcIlhIUiBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgZm9yIGFkIElEOiBcIitlLmJpZElkKSxuKHQsZSl9Y2F0Y2gocil7XCJzdHJpbmdcIj09dHlwZW9mIHI/Yi5sb2dXYXJuKHIrXCIgd2hlbiBwcm9jZXNzaW5nIHJ1Ymljb24gcmVzcG9uc2UgZm9yIHBsYWNlbWVudCBjb2RlIFwiK2UucGxhY2VtZW50Q29kZSk6Yi5sb2dFcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgcnViaWNvbiByZXNwb25zZSBmb3IgcGxhY2VtZW50IGNvZGUgXCIrZS5wbGFjZW1lbnRDb2RlLG51bGwscik7dmFyIGk9ZltcImRlZmF1bHRcIl0uY3JlYXRlQmlkKHkuU1RBVFVTLk5PX0JJRCxlKTtpLmJpZGRlckNvZGU9ZS5iaWRkZXIsaS5lcnJvcj1yLGdbXCJkZWZhdWx0XCJdLmFkZEJpZFJlc3BvbnNlKGUucGxhY2VtZW50Q29kZSxpKX19dHJ5e3YuYWpheCh0KGUpLHIsdm9pZCAwLHt3aXRoQ3JlZGVudGlhbHM6ITB9KX1jYXRjaChpKXtiLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBydWJpY29uIHJlcXVlc3QgZm9yIHBsYWNlbWVudCBjb2RlIFwiK2UucGxhY2VtZW50Q29kZSxudWxsLGkpfX0pfWZ1bmN0aW9uIHQoZSl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHQ9ZS5wYXJhbXMsbj10LmFjY291bnRJZCxyPXQuc2l0ZUlkLGk9dC56b25lSWQsYT10LnBvc2l0aW9uLGQ9dC5rZXl3b3Jkcyx1PXQudmlzaXRvcixjPXQuaW52ZW50b3J5LGw9dC51c2VySWQsZj10LnJlZmVycmVyO2E9YXx8XCJidGZcIjt2YXIgcD1vLm1hc1NpemVPcmRlcmluZyhBcnJheS5pc0FycmF5KGUucGFyYW1zLnNpemVzKT9lLnBhcmFtcy5zaXplcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuKEFbZV18fFwiXCIpLnNwbGl0KFwieFwiKX0pOmUuc2l6ZXMpO2lmKHAubGVuZ3RoPDEpdGhyb3dcIm5vIHZhbGlkIHNpemVzXCI7dmFyIGc9W1wiYWNjb3VudF9pZFwiLG4sXCJzaXRlX2lkXCIscixcInpvbmVfaWRcIixpLFwic2l6ZV9pZFwiLHBbMF0sXCJhbHRfc2l6ZV9pZHNcIixwLnNsaWNlKDEpLmpvaW4oXCIsXCIpfHx2b2lkIDAsXCJwX3Bvc1wiLGEsXCJycF9mbG9vclwiLFwiMC4wMVwiLFwidGtfZmxpbnRcIixcInBianMubGl0ZVwiLFwicF9zY3JlZW5fcmVzXCIsd2luZG93LnNjcmVlbi53aWR0aCtcInhcIit3aW5kb3cuc2NyZWVuLmhlaWdodCxcImt3XCIsZCxcInRrX3VzZXJfa2V5XCIsbF07cmV0dXJuIG51bGwhPT11JiZcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB1P1widW5kZWZpbmVkXCI6cyh1KSkmJmIuX2VhY2godSxmdW5jdGlvbihlLHQpe3JldHVybiBnLnB1c2goXCJ0Z192LlwiK3QsZSl9KSxudWxsIT09YyYmXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgYz9cInVuZGVmaW5lZFwiOnMoYykpJiZiLl9lYWNoKGMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZy5wdXNoKFwidGdfaS5cIit0LGUpfSksZy5wdXNoKFwicmFuZFwiLE1hdGgucmFuZG9tKCksXCJyZlwiLGY/ZjpiLmdldFRvcFdpbmRvd1VybCgpKSxnLnJlZHVjZShmdW5jdGlvbihlLHQsbil7cmV0dXJuIG4lMj09PTAmJnZvaWQgMCE9PWdbbisxXT9lK3QrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGdbbisxXSkrXCImXCI6ZX0sXCIvL2Zhc3RsYW5lLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uP1wiKS5zbGljZSgwLC0xKX1mdW5jdGlvbiBuKGUsdCl7dmFyIG49SlNPTi5wYXJzZShlKTtpZihcIm9iamVjdFwiIT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuP1widW5kZWZpbmVkXCI6cyhuKSl8fFwib2tcIiE9PW4uc3RhdHVzfHwhQXJyYXkuaXNBcnJheShuLmFkcyl8fG4uYWRzLmxlbmd0aDwxKXRocm93XCJiYWQgcmVzcG9uc2VcIjt2YXIgbz1uLmFkcztvPW8uc29ydChyKSxvLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoXCJva1wiIT09ZS5zdGF0dXMpdGhyb3dcImJhZCBhZCBzdGF0dXNcIjt2YXIgbj1mW1wiZGVmYXVsdFwiXS5jcmVhdGVCaWQoeS5TVEFUVVMuR09PRCx0KTtuLmNyZWF0aXZlX2lkPWUuYWRfaWQsbi5iaWRkZXJDb2RlPXQuYmlkZGVyLG4uY3BtPWUuY3BtfHwwLG4uYWQ9aShlLnNjcmlwdCxlLmltcHJlc3Npb25faWQpO3ZhciByPUFbZS5zaXplX2lkXS5zcGxpdChcInhcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSxvPWQociwyKTtuLndpZHRoPW9bMF0sbi5oZWlnaHQ9b1sxXSxuLmRlYWxJZD1lLmRlYWwsZ1tcImRlZmF1bHRcIl0uYWRkQmlkUmVzcG9uc2UodC5wbGFjZW1lbnRDb2RlLG4pfSl9ZnVuY3Rpb24gcihlLHQpe3JldHVybih0LmNwbXx8MCktKGUuY3BtfHwwKX12YXIgaT1mdW5jdGlvbihlLHQpe3JldHVyblwiPGh0bWw+XFxuPGhlYWQ+PHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPmluRGFwSUY9dHJ1ZTs8L3NjcmlwdD48L2hlYWQ+XFxuPGJvZHkgc3R5bGU9J21hcmdpbiA6IDA7IHBhZGRpbmc6IDA7Jz5cXG48IS0tIFJ1Ymljb24gUHJvamVjdCBBZCBUYWcgLS0+XFxuPGRpdiBkYXRhLXJwLWltcHJlc3Npb24taWQ9J1wiK3QrXCInPlxcbjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz5cIitlK1wiPC9zY3JpcHQ+XFxuPC9kaXY+XFxuPC9ib2R5PlxcbjwvaHRtbD5cIn07cmV0dXJuIGEoYy5jcmVhdGVOZXcoaCkse2NhbGxCaWRzOmUsY3JlYXRlTmV3Om8uY3JlYXRlTmV3fSl9dmFyIGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0sZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxkPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1kLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKHMpe2k9ITAsbz1zfWZpbmFsbHl7dHJ5eyFyJiZkW1wicmV0dXJuXCJdJiZkW1wicmV0dXJuXCJdKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufXJldHVybiBmdW5jdGlvbih0LG4pe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gZSh0LG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfX0oKSxzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHU9bigxMCksYz1pKHUpLGw9bigxMSksZj1yKGwpLHA9bigxMiksZz1yKHApLG09bigyKSxiPWkobSksdj1uKDE0KSx5PW4oMyksaD1cInJ1Ymljb25cIixBPXsxOlwiNDY4eDYwXCIsMjpcIjcyOHg5MFwiLDg6XCIxMjB4NjAwXCIsOTpcIjE2MHg2MDBcIiwxMDpcIjMwMHg2MDBcIiwxNTpcIjMwMHgyNTBcIiwxNjpcIjMzNngyODBcIiwxOTpcIjMwMHgxMDBcIiw0MzpcIjMyMHg1MFwiLDQ0OlwiMzAweDUwXCIsNDg6XCIzMDB4MzAwXCIsNTQ6XCIzMDB4MTA1MFwiLDU1OlwiOTcweDkwXCIsNTc6XCI5NzB4MjUwXCIsNTg6XCIxMDAweDkwXCIsNTk6XCIzMjB4ODBcIiw2MTpcIjEwMDB4MTAwMFwiLDY1OlwiNjQweDQ4MFwiLDY3OlwiMzIweDQ4MFwiLDY4OlwiMTgwMHgxMDAwXCIsNzI6XCIzMjB4MzIwXCIsNzM6XCIzMjB4MTYwXCIsODM6XCI0ODB4MzAwXCIsOTQ6XCI5NzB4MzEwXCIsOTY6XCI5NzB4MjEwXCIsMTAxOlwiNDgweDMyMFwiLDEwMjpcIjc2OHgxMDI0XCIsMTEzOlwiMTAwMHgzMDBcIiwxMTc6XCIzMjB4MTAwXCIsMTI1OlwiODAweDI1MFwiLDEyNjpcIjIwMHg2MDBcIn07Yi5fZWFjaChBLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFbZV09dH0pLG8ubWFzU2l6ZU9yZGVyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PVsxNSwyLDldO3JldHVybiBiLnBhcnNlU2l6ZXNJbnB1dChlKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbj1wYXJzZUludChBW3RdLDEwKTtyZXR1cm4gbiYmZS5wdXNoKG4pLGV9LFtdKS5zb3J0KGZ1bmN0aW9uKGUsbil7dmFyIHI9dC5pbmRleE9mKGUpLGk9dC5pbmRleE9mKG4pO3JldHVybiByPi0xfHxpPi0xPy0xPT09cj8xOi0xPT09aT8tMTpyLWk6ZS1ufSl9LG8uY3JlYXRlTmV3PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvfSxlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe2Z1bmN0aW9uIHQoZSl7aT1lfWZ1bmN0aW9uIG4oKXtyZXR1cm4gaX1mdW5jdGlvbiByKCl7fXZhciBpPWU7cmV0dXJue2NhbGxCaWRzOnIsc2V0QmlkZGVyQ29kZTp0LGdldEJpZGRlckNvZGU6bn19dC5jcmVhdGVOZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBuKGUpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtmdW5jdGlvbiBuKCl7c3dpdGNoKG8pe2Nhc2UgMDpyZXR1cm5cIlBlbmRpbmdcIjtjYXNlIDE6cmV0dXJuXCJCaWQgYXZhaWxhYmxlXCI7Y2FzZSAyOnJldHVyblwiQmlkIHJldHVybmVkIGVtcHR5IG9yIGVycm9yIHJlc3BvbnNlXCI7Y2FzZSAzOnJldHVyblwiQmlkIHRpbWVkIG91dFwifX12YXIgcj10JiZ0LmJpZElkfHxpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxvPWV8fDA7dGhpcy5iaWRkZXJDb2RlPVwiXCIsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5zdGF0dXNNZXNzYWdlPW4oKSx0aGlzLmFkSWQ9cix0aGlzLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gb30sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgrXCJ4XCIrdGhpcy5oZWlnaHR9fXZhciBpPW4oMik7dC5jcmVhdGVCaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KHIsW251bGxdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSkpXG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUuYmlkZGVyQ29kZX1mdW5jdGlvbiBvKGUpe3JldHVybiBlLmJpZGRlcn1mdW5jdGlvbiBhKGUpe3ZhciB0PXRoaXMsbj1wYmpzLl9iaWRzUmVxdWVzdGVkLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbi5iaWRzLmZpbHRlcihBLmFkVW5pdHNGaWx0ZXIuYmluZCh0LHBianMuX2FkVW5pdENvZGVzKSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBsYWNlbWVudENvZGU9PT1lfSl9KS5yZWR1Y2UoQS5mbGF0dGVuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuXCJpbmRleEV4Y2hhbmdlXCI9PT1lLmJpZGRlcj9lLnNpemVzLmxlbmd0aDoxfSkucmVkdWNlKGQsMCkscj1wYmpzLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkubGVuZ3RoO3JldHVybiBuPT09cn1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGUrdH1mdW5jdGlvbiBzKCl7dmFyIGU9cGJqcy5fYmlkc1JlcXVlc3RlZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkc30pLnJlZHVjZShBLmZsYXR0ZW4pLmZpbHRlcihBLmFkVW5pdHNGaWx0ZXIuYmluZCh0aGlzLHBianMuX2FkVW5pdENvZGVzKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiaW5kZXhFeGNoYW5nZVwiPT09ZS5iaWRkZXI/ZS5zaXplcy5sZW5ndGg6MX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9LDApLHQ9cGJqcy5fYmlkc1JlY2VpdmVkLmZpbHRlcihBLmFkVW5pdHNGaWx0ZXIuYmluZCh0aGlzLHBianMuX2FkVW5pdENvZGVzKSkubGVuZ3RoO3JldHVybiBlPT09dH1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIHBianMuX2JpZHNSZXF1ZXN0ZWQuZmluZChmdW5jdGlvbihuKXtyZXR1cm4gbi5iaWRzLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbi5iaWRkZXI9PT1lJiZuLnBsYWNlbWVudENvZGU9PT10fSkubGVuZ3RoPjB9KXx8e3N0YXJ0Om51bGwscmVxdWVzdElkOm51bGx9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj17fSxyPXBianMuYmlkZGVyU2V0dGluZ3M7aWYodCYmcil7dmFyIGk9YigpO2wobixpLHQpfXJldHVybiBlJiZ0JiZyJiZyW2VdJiZyW2VdW1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR10/KGwobixyW2VdLHQpLHQuYWx3YXlzVXNlQmlkPXJbZV0uYWx3YXlzVXNlQmlkLHQuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nPXJbZV0uc2VuZFN0YW5kYXJkVGFyZ2V0aW5nKTpCW2VdJiYobChuLEJbZV0sdCksdC5hbHdheXNVc2VCaWQ9QltlXS5hbHdheXNVc2VCaWQsdC5zZW5kU3RhbmRhcmRUYXJnZXRpbmc9QltlXS5zZW5kU3RhbmRhcmRUYXJnZXRpbmcpLG59ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9dFtULkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO3JldHVybiBuLnNpemU9bi5nZXRTaXplKCksRS5fZWFjaChyLGZ1bmN0aW9uKHIpe3ZhciBpPXIua2V5LG89ci52YWw7aWYoZVtpXSYmRS5sb2dXYXJuKFwiVGhlIGtleTogXCIraStcIiBpcyBnZXR0aW5nIG92ZXdyaXR0ZW5cIiksRS5pc0ZuKG8pKXRyeXtvPW8obil9Y2F0Y2goYSl7RS5sb2dFcnJvcihcImJpZG1hbmFnZXJcIixcIkVSUk9SXCIsYSl9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQuc3VwcHJlc3NFbXB0eUtleXN8fHQuc3VwcHJlc3NFbXB0eUtleXMhPT0hMHx8IUUuaXNFbXB0eVN0cihvKSYmbnVsbCE9PW8mJnZvaWQgMCE9PW8/ZVtpXT1vOkUubG9nSW5mbyhcInN1cHByZXNzaW5nIGVtcHR5IGtleSAnXCIraStcIicgZnJvbSBhZHNlcnZlciB0YXJnZXRpbmdcIil9KSxlfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9W2VdO3Aody5ieUFkVW5pdCx0KX1mdW5jdGlvbiBwKGUsdCl7dmFyIG49dGhpcztFLmlzQXJyYXkoZSkmJmUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10fHxwYmpzLl9hZFVuaXRDb2RlcyxpPVtwYmpzLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKEEuYWRVbml0c0ZpbHRlci5iaW5kKG4scikpLnJlZHVjZShnLHt9KV07ZS5hcHBseShwYmpzLGkpfSl9ZnVuY3Rpb24gZyhlLHQsbixyKXtyZXR1cm4gdC5hZFVuaXRDb2RlIGluIE9iamVjdC5rZXlzKGUpP2U6KGVbdC5hZFVuaXRDb2RlXT17YmlkczpyLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dC5hZFVuaXRDb2RlfSl9LGUpfWZ1bmN0aW9uIG0oZSl7dmFyIHQ9ZS5iaWRkZXJDb2RlLG49ZS5jcG07aWYodCYmcGJqcy5iaWRkZXJTZXR0aW5ncyYmcGJqcy5iaWRkZXJTZXR0aW5nc1t0XSYmeShwYmpzLmJpZGRlclNldHRpbmdzW3RdLmJpZENwbUFkanVzdG1lbnQpPT09Uyl0cnl7bj1wYmpzLmJpZGRlclNldHRpbmdzW3RdLmJpZENwbUFkanVzdG1lbnQuY2FsbChudWxsLGUuY3BtLEUuZXh0ZW5kKHt9LGUpKX1jYXRjaChyKXtFLmxvZ0Vycm9yKFwiRXJyb3IgZHVyaW5nIGJpZCBhZGp1c3RtZW50XCIsXCJiaWRtYW5hZ2VyLmpzXCIscil9bj49MCYmKGUuY3BtPW4pfWZ1bmN0aW9uIGIoKXt2YXIgZT1wYmpzLmJpZGRlclNldHRpbmdzO3JldHVybiBlW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfHwoZVtULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXT17YWRzZXJ2ZXJUYXJnZXRpbmc6W3trZXk6XCJoYl9iaWRkZXJcIix2YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZX19LHtrZXk6XCJoYl9hZGlkXCIsdmFsOmZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWR9fSx7a2V5OlwiaGJfcGJcIix2YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIEM9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuQVVUTz9lLnBiQWc6Qz09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5ERU5TRT9lLnBiRGc6Qz09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5MT1c/ZS5wYkxnOkM9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuTUVESVVNP2UucGJNZzpDPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkhJR0g/ZS5wYkhnOkM9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuQ1VTVE9NP2UucGJDZzp2b2lkIDB9fSx7a2V5OlwiaGJfc2l6ZVwiLHZhbDpmdW5jdGlvbihlKXtyZXR1cm4gZS5zaXplfX1dfSksZVtULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXX1mdW5jdGlvbiB2KCl7cmV0dXJuIGIoKVtULkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfXZhciB5PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0sQT1uKDIpLEk9bigxMyksVD1uKDMpLEU9bigyKSxfPW4oOCksUz1cImZ1bmN0aW9uXCIsdz17YnlBZFVuaXQ6W10sYWxsOltdLG9uZVRpbWU6bnVsbCx0aW1lcjohMX0sQz1ULkdSQU5VTEFSSVRZX09QVElPTlMuTUVESVVNLE89dm9pZCAwLEI9e307dC5zZXRDdXN0b21QcmljZUJ1Y2tldD1mdW5jdGlvbihlKXtPPWV9LHQuZ2V0VGltZWRPdXRCaWRkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHBianMuX2JpZHNSZXF1ZXN0ZWQubWFwKGkpLmZpbHRlcihBLnVuaXF1ZXMpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gcGJqcy5fYmlkc1JlY2VpdmVkLm1hcChvKS5maWx0ZXIoQS51bmlxdWVzKS5pbmRleE9mKGUpPDB9KX0sdC5iaWRzQmFja0FsbD1mdW5jdGlvbigpe3JldHVybiBzKCl9LHQuYWRkQmlkUmVzcG9uc2U9ZnVuY3Rpb24oZSxuKXtpZihuKXt2YXIgaT11KG4uYmlkZGVyQ29kZSxlKSxvPWkucmVxdWVzdElkLGQ9aS5zdGFydDtpZihoKG4se3JlcXVlc3RJZDpvLHJlc3BvbnNlVGltZXN0YW1wOnIoKSxyZXF1ZXN0VGltZXN0YW1wOmQsY3BtOm4uY3BtfHwwLGJpZGRlcjpuLmJpZGRlckNvZGUsYWRVbml0Q29kZTplfSksbi50aW1lVG9SZXNwb25kPW4ucmVzcG9uc2VUaW1lc3RhbXAtbi5yZXF1ZXN0VGltZXN0YW1wLG4udGltZVRvUmVzcG9uZD5wYmpzLmNiVGltZW91dCtwYmpzLnRpbWVvdXRCdWZmZXIpe3ZhciBsPSEwO3QuZXhlY3V0ZUNhbGxiYWNrKGwpfV8uZW1pdChULkVWRU5UUy5CSURfQURKVVNUTUVOVCxuKSxfLmVtaXQoVC5FVkVOVFMuQklEX1JFU1BPTlNFLG4pO3ZhciBwPUkuZ2V0UHJpY2VCdWNrZXRTdHJpbmcobi5jcG0sTyk7bi5wYkxnPXAubG93LG4ucGJNZz1wLm1lZCxuLnBiSGc9cC5oaWdoLG4ucGJBZz1wLmF1dG8sbi5wYkRnPXAuZGVuc2Usbi5wYkNnPXAuY3VzdG9tO3ZhciBnPXt9O24uYmlkZGVyQ29kZSYmMCE9PW4uY3BtJiYoZz1jKG4uYmlkZGVyQ29kZSxuKSxuLmRlYWxJZCYmKGdbXCJoYl9kZWFsX1wiK24uYmlkZGVyQ29kZV09bi5kZWFsSWQpLG4uYWRzZXJ2ZXJUYXJnZXRpbmc9ZykscGJqcy5fYmlkc1JlY2VpdmVkLnB1c2gobil9biYmbi5hZFVuaXRDb2RlJiZhKG4uYWRVbml0Q29kZSkmJmYobi5hZFVuaXRDb2RlKSxzKCkmJnQuZXhlY3V0ZUNhbGxiYWNrKCl9LHQuZ2V0S2V5VmFsdWVUYXJnZXRpbmdQYWlycz1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSx0LnNldFByaWNlR3JhbnVsYXJpdHk9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5HUkFOVUxBUklUWV9PUFRJT05TO09iamVjdC5rZXlzKHQpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gZT09PXRbbl19KT9DPWU6KEUubG9nV2FybihcIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuXCIpLEM9VC5HUkFOVUxBUklUWV9PUFRJT05TLk1FRElVTSl9LHQucmVnaXN0ZXJEZWZhdWx0QmlkZGVyU2V0dGluZz1mdW5jdGlvbihlLHQpe0JbZV09dH0sdC5leGVjdXRlQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7aWYoIWUmJncudGltZXImJmNsZWFyVGltZW91dCh3LnRpbWVyKSx3LmFsbC5jYWxsZWQhPT0hMCYmKHAody5hbGwpLHcuYWxsLmNhbGxlZD0hMCxlKSl7dmFyIG49dC5nZXRUaW1lZE91dEJpZGRlcnMoKTtuLmxlbmd0aCYmXy5lbWl0KFQuRVZFTlRTLkJJRF9USU1FT1VULG4pfWlmKHcub25lVGltZSl0cnl7cChbdy5vbmVUaW1lXSl9ZmluYWxseXt3Lm9uZVRpbWU9bnVsbCx3LnRpbWVyPSExLHBianMuY2xlYXJBdWN0aW9uKCl9fSx0LmV4dGVybmFsQ2FsbGJhY2tSZXNldD1mdW5jdGlvbigpe3cuYWxsLmNhbGxlZD0hMX0sdC5hZGRPbmVUaW1lQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0KXt3Lm9uZVRpbWU9ZSx3LnRpbWVyPXR9LHQuYWRkQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0LG4pe3QuaWQ9ZSxULkNCLlRZUEUuQUxMX0JJRFNfQkFDSz09PW4/dy5hbGwucHVzaCh0KTpULkNCLlRZUEUuQURfVU5JVF9CSURTX0JBQ0s9PT1uJiZ3LmJ5QWRVbml0LnB1c2godCl9LF8ub24oVC5FVkVOVFMuQklEX0FESlVTVE1FTlQsZnVuY3Rpb24oZSl7bShlKX0pLHQuYWRqdXN0Qmlkcz1mdW5jdGlvbigpe3JldHVybiBtLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSx0LmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmc9dn0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7dmFyIG49MDtyZXR1cm4gbj1wYXJzZUZsb2F0KGUpLGlzTmFOKG4pJiYobj1cIlwiKSx7bG93OlwiXCI9PT1uP1wiXCI6cihlLGQpLG1lZDpcIlwiPT09bj9cIlwiOnIoZSxzKSxoaWdoOlwiXCI9PT1uP1wiXCI6cihlLHUpLGF1dG86XCJcIj09PW4/XCJcIjpyKGUsbCksZGVuc2U6XCJcIj09PW4/XCJcIjpyKGUsYyksY3VzdG9tOlwiXCI9PT1uP1wiXCI6cihlLHQpfX1mdW5jdGlvbiByKGUsdCl7dmFyIG49XCJcIjtpZighaSh0KSlyZXR1cm4gbjt2YXIgcj10LmJ1Y2tldHMucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF4PnQubWF4P2U6dH0se21heDowfSksZD10LmJ1Y2tldHMuZmluZChmdW5jdGlvbih0KXtpZihlPnIubWF4KXt2YXIgaT10LnByZWNpc2lvbnx8YTtuPXQubWF4LnRvRml4ZWQoaSl9ZWxzZSBpZihlPD10Lm1heCYmZT49dC5taW4pcmV0dXJuIHR9KTtyZXR1cm4gZCYmKG49byhlLGQuaW5jcmVtZW50LGQucHJlY2lzaW9uKSksbn1mdW5jdGlvbiBpKGUpe2lmKCFlfHwhZS5idWNrZXRzfHwhQXJyYXkuaXNBcnJheShlLmJ1Y2tldHMpKXJldHVybiExO3ZhciB0PSEwO3JldHVybiBlLmJ1Y2tldHMuZm9yRWFjaChmdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5taW4mJmUubWF4JiZlLmluY3JlbWVudHx8KHQ9ITEpfSksdH1mdW5jdGlvbiBvKGUsdCxuKXtufHwobj1hKTt2YXIgcj0xL3Q7cmV0dXJuKE1hdGguZmxvb3IoZSpyKS9yKS50b0ZpeGVkKG4pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPTIsZD17YnVja2V0czpbe21pbjowLG1heDo1LGluY3JlbWVudDouNX1dfSxzPXtidWNrZXRzOlt7bWluOjAsbWF4OjIwLGluY3JlbWVudDouMX1dfSx1PXtidWNrZXRzOlt7bWluOjAsbWF4OjIwLGluY3JlbWVudDouMDF9XX0sYz17YnVja2V0czpbe21pbjowLG1heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dfSxsPXtidWNrZXRzOlt7bWluOjAsbWF4OjUsaW5jcmVtZW50Oi4wNX0se21pbjo1LG1heDoxMCxpbmNyZW1lbnQ6LjF9LHttaW46MTAsbWF4OjIwLGluY3JlbWVudDouNX1dfTt0LmdldFByaWNlQnVja2V0U3RyaW5nPW4sdC5pc1ZhbGlkZVByaWNlQ29uZmlnPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307dHJ5eyFmdW5jdGlvbigpe3ZhciBzPXZvaWQgMCx1PSExLGM9ci5tZXRob2R8fChuP1wiUE9TVFwiOlwiR0VUXCIpO2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdD8ocz1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0LHZvaWQgMD09PXMucmVzcG9uc2VUeXBlJiYodT0hMCkpOnU9ITAsdT8ocz1uZXcgd2luZG93LlhEb21haW5SZXF1ZXN0LHMub25sb2FkPWZ1bmN0aW9uKCl7dChzLnJlc3BvbnNlVGV4dCxzKX0scy5vbmVycm9yPWZ1bmN0aW9uKCl7YS5sb2dNZXNzYWdlKFwieGhyIG9uZXJyb3JcIil9LHMub250aW1lb3V0PWZ1bmN0aW9uKCl7YS5sb2dNZXNzYWdlKFwieGhyIHRpbWVvdXRcIil9LHMub25wcm9ncmVzcz1mdW5jdGlvbigpe2EubG9nTWVzc2FnZShcInhociBvbnByb2dyZXNzXCIpfSk6cy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtzLnJlYWR5U3RhdGU9PT1kJiZ0JiZ0KHMucmVzcG9uc2VUZXh0LHMpfSxcIkdFVFwiPT09YyYmbil7dmFyIGw9by5wYXJzZShlKTtpKGwuc2VhcmNoLG4pLGU9by5mb3JtYXQobCl9cy5vcGVuKGMsZSksdXx8KHIud2l0aENyZWRlbnRpYWxzJiYocy53aXRoQ3JlZGVudGlhbHM9ITApLHIucHJlZmxpZ2h0JiZzLnNldFJlcXVlc3RIZWFkZXIoXCJYLVJlcXVlc3RlZC1XaXRoXCIsXCJYTUxIdHRwUmVxdWVzdFwiKSxzLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyLmNvbnRlbnRUeXBlfHxcInRleHQvcGxhaW5cIikpLHMuc2VuZChcIlBPU1RcIj09PWMmJm4pfSgpfWNhdGNoKHMpe2EubG9nRXJyb3IoXCJ4aHIgY29uc3RydWN0aW9uXCIscyl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9O3QuYWpheD1yO3ZhciBvPW4oMTUpLGE9bigyKSxkPTR9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZT9lLnJlcGxhY2UoL15cXD8vLFwiXCIpLnNwbGl0KFwiJlwiKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbj10LnNwbGl0KFwiPVwiKSxyPWEobiwyKSxpPXJbMF0sbz1yWzFdO3JldHVybi9cXFtcXF0kLy50ZXN0KGkpPyhpPWkucmVwbGFjZShcIltdXCIsXCJcIiksZVtpXT1lW2ldfHxbXSxlW2ldLnB1c2gobykpOmVbaV09b3x8XCJcIixlfSx7fSk6e319ZnVuY3Rpb24gcihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KGVbdF0pP2VbdF0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0K1wiW109XCIrZX0pLmpvaW4oXCImXCIpOnQrXCI9XCIrZVt0XX0pLmpvaW4oXCImXCIpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHQuaHJlZj1kZWNvZGVVUklDb21wb25lbnQoZSkse3Byb3RvY29sOih0LnByb3RvY29sfHxcIlwiKS5yZXBsYWNlKC86JC8sXCJcIiksaG9zdG5hbWU6dC5ob3N0bmFtZSxwb3J0Oit0LnBvcnQscGF0aG5hbWU6dC5wYXRobmFtZSxzZWFyY2g6bih0LnNlYXJjaHx8XCJcIiksaGFzaDoodC5oYXNofHxcIlwiKS5yZXBsYWNlKC9eIy8sXCJcIiksaG9zdDp0Lmhvc3R9fWZ1bmN0aW9uIG8oZSl7cmV0dXJuKGUucHJvdG9jb2x8fFwiaHR0cFwiKStcIjovL1wiKyhlLmhvc3R8fGUuaG9zdG5hbWUrKGUucG9ydD9cIjpcIitlLnBvcnQ6XCJcIikpKyhlLnBhdGhuYW1lfHxcIlwiKSsoZS5zZWFyY2g/XCI/XCIrcihlLnNlYXJjaHx8XCJcIik6XCJcIikrKGUuaGFzaD9cIiNcIitlLmhhc2g6XCJcIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEsZD1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9ZC5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChzKXtpPSEwLG89c31maW5hbGx5e3RyeXshciYmZFtcInJldHVyblwiXSYmZFtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn1yZXR1cm4gZnVuY3Rpb24odCxuKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpcmV0dXJuIGUodCxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCk7dC5wYXJzZVFTPW4sdC5mb3JtYXRRUz1yLHQucGFyc2U9aSx0LmZvcm1hdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9dmFyIGk9cihbXCJcIixcIjovL1wiLFwiL3B1YmFwaS8zLjAvXCIsXCIvXCIsXCIvXCIsXCIvXCIsXCIvQURURUNIO3Y9MjtjbWQ9YmlkO2NvcnM9eWVzO2FsaWFzPVwiLFwiXCIsXCI7bWlzYz1cIixcIlwiXSxbXCJcIixcIjovL1wiLFwiL3B1YmFwaS8zLjAvXCIsXCIvXCIsXCIvXCIsXCIvXCIsXCIvQURURUNIO3Y9MjtjbWQ9YmlkO2NvcnM9eWVzO2FsaWFzPVwiLFwiXCIsXCI7bWlzYz1cIixcIlwiXSksbz1uKDIpLGE9bigxNCkuYWpheCxkPW4oMTEpLHM9bigxMiksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheSh0PjE/dC0xOjApLHI9MTt0PnI7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheSh0KSxpPTA7dD5pO2krKylyW2ldPWFyZ3VtZW50c1tpXTt2YXIgbz1yW3IubGVuZ3RoLTFdfHx7fSxhPVtlWzBdXTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7dmFyIGk9TnVtYmVyLmlzSW50ZWdlcih0KT9yW3RdOm9bdF07YS5wdXNoKGksZVtuKzFdKX0pLGEuam9pbihcIlwiKX19ZnVuY3Rpb24gdChlKXt2YXIgdD1lLnBhcmFtcyxuPXQuc2VydmVyLHI9dC5yZWdpb258fFwidXNcIixpPXZvaWQgMDtyZXR1cm4gcC5oYXNPd25Qcm9wZXJ0eShyKXx8KG8ubG9nV2FybihcIlVua25vd24gcmVnaW9uICdcIityK1wiJyBmb3IgQU9MIGJpZGRlci5cIikscj1cInVzXCIpLGk9bj9uOnBbcl0sdC5yZWdpb249cixsKHtwcm90b2NvbDpcImh0dHBzOlwiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/XCJodHRwc1wiOlwiaHR0cFwiLGhvc3Q6aSxuZXR3b3JrOnQubmV0d29yayxwbGFjZW1lbnQ6cGFyc2VJbnQodC5wbGFjZW1lbnQpLHBhZ2VpZDp0LnBhZ2VJZHx8MCxzaXplaWQ6dC5zaXplSWR8fDAsYWxpYXM6dC5hbGlhc3x8by5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksYmlkZmxvb3I6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuYmlkRmxvb3I/XCI7YmlkZmxvb3I9XCIrdC5iaWRGbG9vci50b1N0cmluZygpOlwiXCIsbWlzYzoobmV3IERhdGUpLmdldFRpbWUoKX0pfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZC5jcmVhdGVCaWQoMixlKTtuLmJpZGRlckNvZGU9ZixuLnJlYXNvbj10Lm5icixuLnJhdz10LHMuYWRkQmlkUmVzcG9uc2UoZS5wbGFjZW1lbnRDb2RlLG4pfWZ1bmN0aW9uIHIoZSx0KXt2YXIgcj12b2lkIDA7dHJ5e3I9dC5zZWF0YmlkWzBdLmJpZFswXX1jYXRjaChpKXtyZXR1cm4gbihlLHQpLHZvaWQgMH12YXIgYT12b2lkIDA7aWYoci5leHQmJnIuZXh0LmVuY3ApYT1yLmV4dC5lbmNwO2Vsc2UgaWYoYT1yLnByaWNlLG51bGw9PT1hfHxpc05hTihhKSlyZXR1cm4gby5sb2dFcnJvcihcIkludmFsaWQgcHJpY2UgaW4gYmlkIHJlc3BvbnNlXCIsZixlKSxuKGUsdCksdm9pZCAwO3ZhciB1PXIuYWRtO3QuZXh0JiZ0LmV4dC5waXhlbHMmJih1Kz10LmV4dC5waXhlbHMpO3ZhciBjPWQuY3JlYXRlQmlkKDEsZSk7Yy5iaWRkZXJDb2RlPWYsYy5hZD11LGMuY3BtPWEsYy53aWR0aD1yLncsYy5oZWlnaHQ9ci5oLGMuY3JlYXRpdmVJZD1yLmNyaWQsYy5wdWJhcGlJZD10LmlkLGMuY3VycmVuY3lDb2RlPXQuY3VyLHIuZGVhbGlkJiYoYy5kZWFsSWQ9ci5kZWFsaWQpLHMuYWRkQmlkUmVzcG9uc2UoZS5wbGFjZW1lbnRDb2RlLGMpfWZ1bmN0aW9uIHUoZSl7by5fZWFjaChlLmJpZHMsZnVuY3Rpb24oZSl7dmFyIGk9dChlKTthKGksZnVuY3Rpb24odCl7aWYoYyYmcGJqcy5iaWRkZXJTZXR0aW5ncyYmcGJqcy5iaWRkZXJTZXR0aW5ncy5hb2wmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHBianMuYmlkZGVyU2V0dGluZ3MuYW9sLmJpZENwbUFkanVzdG1lbnQmJm8ubG9nV2FybihcImJpZENwbUFkanVzdG1lbnQgaXMgYWN0aXZlIGZvciB0aGUgQU9MIGFkYXB0ZXIuIEFzIG9mIFByZWJpZCAwLjE0LCBBT0wgY2FuIGJpZCBpbiBuZXQg4oCTIHBsZWFzZSBjb250YWN0IHlvdXIgYWNjb3VudHMgdGVhbSB0byBlbmFibGUuXCIpLGM9ITEsIXQmJnQubGVuZ3RoPD0wKXJldHVybiBvLmxvZ0Vycm9yKFwiRW1wdHkgYmlkIHJlc3BvbnNlXCIsZixlKSxuKGUsdCksdm9pZCAwO3RyeXt0PUpTT04ucGFyc2UodCl9Y2F0Y2goaSl7cmV0dXJuIG8ubG9nRXJyb3IoXCJJbnZhbGlkIEpTT04gaW4gYmlkIHJlc3BvbnNlXCIsZixlKSxuKGUsdCksdm9pZCAwfXIoZSx0KX0sbnVsbCx7d2l0aENyZWRlbnRpYWxzOiEwfSl9KX12YXIgYz0hMCxsPWUoaSxcInByb3RvY29sXCIsXCJob3N0XCIsXCJuZXR3b3JrXCIsXCJwbGFjZW1lbnRcIixcInBhZ2VpZFwiLFwic2l6ZWlkXCIsXCJhbGlhc1wiLFwiYmlkZmxvb3JcIixcIm1pc2NcIiksZj1cImFvbFwiLHA9e3VzOlwiYWRzZXJ2ZXItdXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbVwiLGV1OlwiYWRzZXJ2ZXItZXUuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbVwiLGFzOlwiYWRzZXJ2ZXItYXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbVwifTtyZXR1cm57Y2FsbEJpZHM6dX19O2UuZXhwb3J0cz11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT1uKDIpLG89bigzKSxhPW4oMiksZD1uKDE4KSxzPW4oMTIpLHU9bigxMSksYz1uKDEwKTtyPWZ1bmN0aW9uIGwoKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49YS5nZXRCaWRJZFBhcmFtZXRlcihcInBsYWNlbWVudElkXCIsZS5wYXJhbXMpLHI9YS5nZXRCaWRJZFBhcmFtZXRlcihcIm1lbWJlcklkXCIsZS5wYXJhbXMpLGk9YS5nZXRCaWRJZFBhcmFtZXRlcihcIm1lbWJlclwiLGUucGFyYW1zKSxvPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoXCJpbnZDb2RlXCIsZS5wYXJhbXMpLGQ9YS5nZXRCaWRJZFBhcmFtZXRlcihcInF1ZXJ5XCIsZS5wYXJhbXMpLHM9YS5nZXRCaWRJZFBhcmFtZXRlcihcInJlZmVycmVyXCIsZS5wYXJhbXMpLHU9YS5nZXRCaWRJZFBhcmFtZXRlcihcImFsdF9yZWZlcnJlclwiLGUucGFyYW1zKSxjPVwiaHR0cFwiKyhcImh0dHBzOlwiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/XCJzOi8vc2VjdXJlLmFkbnhzLmNvbS9qcHQ/XCI6XCI6Ly9pYi5hZG54cy5jb20vanB0P1wiKTtjPWEudHJ5QXBwZW5kUXVlcnlTdHJpbmcoYyxcImNhbGxiYWNrXCIsXCJwYmpzLmhhbmRsZUFuQ0JcIiksYz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJjYWxsYmFja191aWRcIix0KSxjPWEudHJ5QXBwZW5kUXVlcnlTdHJpbmcoYyxcInBzYVwiLFwiMFwiKSxjPWEudHJ5QXBwZW5kUXVlcnlTdHJpbmcoYyxcImlkXCIsbiksaT9jPWEudHJ5QXBwZW5kUXVlcnlTdHJpbmcoYyxcIm1lbWJlclwiLGkpOnImJihjPWEudHJ5QXBwZW5kUXVlcnlTdHJpbmcoYyxcIm1lbWJlclwiLHIpLGEubG9nTWVzc2FnZSgnYXBwbmV4dXMuY2FsbEJpZHM6IFwibWVtYmVySWRcIiB3aWxsIGJlIGRlcHJlY2F0ZWQgc29vbi4gUGxlYXNlIHVzZSBcIm1lbWJlclwiIGluc3RlYWQnKSksYz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJjb2RlXCIsbyk7dmFyIGw9XCJcIixmPWEucGFyc2VTaXplc0lucHV0KGUuc2l6ZXMpLHA9Zi5sZW5ndGg7aWYocD4wJiYobD1cInNpemU9XCIrZlswXSxwPjEpKXtsKz1cIiZwcm9tb19zaXplcz1cIjtmb3IodmFyIGc9MTtwPmc7ZysrKWwrPWZbZ10rPVwiLFwiO2wmJlwiLFwiPT09bC5jaGFyQXQobC5sZW5ndGgtMSkmJihsPWwuc2xpY2UoMCxsLmxlbmd0aC0xKSl9bCYmKGMrPWwrXCImXCIpO3ZhciBtPWEucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMoZCk7bSYmKGMrPW0pO3ZhciBiPWEuZXh0ZW5kKHt9LGUucGFyYW1zKTtkZWxldGUgYi5wbGFjZW1lbnRJZCxkZWxldGUgYi5tZW1iZXJJZCxkZWxldGUgYi5pbnZDb2RlLGRlbGV0ZSBiLnF1ZXJ5LGRlbGV0ZSBiLnJlZmVycmVyLGRlbGV0ZSBiLmFsdF9yZWZlcnJlcixkZWxldGUgYi5tZW1iZXI7dmFyIHY9YS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycyhiKTtyZXR1cm4gdiYmKGMrPXYpLFwiXCI9PT1zJiYocz1hLmdldFRvcFdpbmRvd1VybCgpKSxjPWEudHJ5QXBwZW5kUXVlcnlTdHJpbmcoYyxcInJlZmVycmVyXCIscyksYz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJhbHRfcmVmZXJyZXJcIix1KSxjLmxhc3RJbmRleE9mKFwiJlwiKT09PWMubGVuZ3RoLTEmJihjPWMuc3Vic3RyaW5nKDAsYy5sZW5ndGgtMSkpLGEubG9nTWVzc2FnZShcImpwdCByZXF1ZXN0IGJ1aWx0OiBcIitjKSxlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxjfXZhciB0PWMuY3JlYXRlTmV3KFwiYXBwbmV4dXNcIiksbj0hMTtyZXR1cm4gdC5jYWxsQmlkcz1mdW5jdGlvbih0KXtmb3IodmFyIG49dC5iaWRzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXSxvPWkuYmlkSWQ7ZC5sb2FkU2NyaXB0KGUoaSxvKSl9fSxwYmpzLmhhbmRsZUFuQ0I9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSYmZS5jYWxsYmFja191aWQpe3ZhciByLGQ9ZS5jYWxsYmFja191aWQsYz1cIlwiLGw9aS5nZXRCaWRSZXF1ZXN0KGQpO2wmJih0PWwuYmlkZGVyLGM9bC5wbGFjZW1lbnRDb2RlLGwuc3RhdHVzPW8uU1RBVFVTLkdPT0QpLGEubG9nTWVzc2FnZShcIkpTT05QIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBmb3IgYWQgSUQ6IFwiK2QpO3ZhciBmPVtdO2lmKGUucmVzdWx0JiZlLnJlc3VsdC5jcG0mJjAhPT1lLnJlc3VsdC5jcG0pe3I9cGFyc2VJbnQoZS5yZXN1bHQuY3BtLDEwKSxyLz0xZTQ7dmFyIHA9ZS5yZXN1bHQuY3JlYXRpdmVfaWQ7Zj11LmNyZWF0ZUJpZCgxLGwpLGYuY3JlYXRpdmVfaWQ9cCxmLmJpZGRlckNvZGU9dCxmLmNwbT1yLGYuYWRVcmw9ZS5yZXN1bHQuYWQsZi53aWR0aD1lLnJlc3VsdC53aWR0aCxmLmhlaWdodD1lLnJlc3VsdC5oZWlnaHQsZi5kZWFsSWQ9ZS5yZXN1bHQuZGVhbF9pZCxzLmFkZEJpZFJlc3BvbnNlKGMsZil9ZWxzZSBhLmxvZ01lc3NhZ2UoXCJObyBwcmViaWQgcmVzcG9uc2UgZnJvbSBBcHBOZXh1cyBmb3IgcGxhY2VtZW50IGNvZGUgXCIrYyksZj11LmNyZWF0ZUJpZCgyLGwpLGYuYmlkZGVyQ29kZT10LHMuYWRkQmlkUmVzcG9uc2UoYyxmKTtpZighbil7dmFyIGc9YS5jcmVhdGVJbnZpc2libGVJZnJhbWUoKTtnLnNyYz1cIi8vYWNkbi5hZG54cy5jb20vaWIvc3RhdGljL3VzZXJzeW5jL3YzL2FzeW5jX3VzZXJzeW5jLmh0bWxcIjt0cnl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKX1jYXRjaChtKXthLmxvZ0Vycm9yKG0pfW49ITB9fWVsc2UgYS5sb2dNZXNzYWdlKFwiTm8gcHJlYmlkIHJlc3BvbnNlIGZvciBwbGFjZW1lbnQgJSVQTEFDRU1FTlQlJVwiKX0se2NhbGxCaWRzOnQuY2FsbEJpZHMsc2V0QmlkZGVyQ29kZTp0LnNldEJpZGRlckNvZGUsY3JlYXRlTmV3OmwuY3JlYXRlTmV3LGJ1aWxkSlBUQ2FsbDplfX0sci5jcmVhdGVOZXc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJ9LGUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7bi50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsbi5hc3luYz0hMCx0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobi5yZWFkeVN0YXRlP24ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7KFwibG9hZGVkXCI9PT1uLnJlYWR5U3RhdGV8fFwiY29tcGxldGVcIj09PW4ucmVhZHlTdGF0ZSkmJihuLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHQoKSl9Om4ub25sb2FkPWZ1bmN0aW9uKCl7dCgpfSksbi5zcmM9ZTt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIik7cj1yLmxlbmd0aD9yOmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKSxyLmxlbmd0aCYmKHI9clswXSxyLmluc2VydEJlZm9yZShuLHIuZmlyc3RDaGlsZCkpfXZhciBpPW4oMiksbz17fTt0LmxvYWRTY3JpcHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPyhuP29bZV0/dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG9bZV0ubG9hZGVkP3QoKTpvW2VdLmNhbGxiYWNrcy5wdXNoKHQpKToob1tlXT17bG9hZGVkOiExLGNhbGxiYWNrczpbXX0sdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmb1tlXS5jYWxsYmFja3MucHVzaCh0KSxyKGUsZnVuY3Rpb24oKXtvW2VdLmxvYWRlZD0hMDt0cnl7Zm9yKHZhciB0PTA7dDxvW2VdLmNhbGxiYWNrcy5sZW5ndGg7dCsrKW9bZV0uY2FsbGJhY2tzW3RdKCl9Y2F0Y2gobil7aS5sb2dFcnJvcihcIkVycm9yIGV4ZWN1dGluZyBjYWxsYmFja1wiLFwiYWRsb2FkZXIuanM6bG9hZFNjcmlwdFwiLG4pfX0pKTpyKGUsdCksdm9pZCAwKTooaS5sb2dFcnJvcihcIkVycm9yIGF0dGVtcHRpbmcgdG8gcmVxdWVzdCBlbXB0eSBVUkxcIixcImFkbG9hZGVyLmpzOmxvYWRTY3JpcHRcIiksdm9pZCAwKX0sdC50cmFja1BpeGVsPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMCxuPXZvaWQgMDtyZXR1cm4gZSYmXCJzdHJpbmdcIj09dHlwZW9mIGU/KHQ9ZS5pbmRleE9mKFwiP1wiKT4wP1wiJlwiOlwiP1wiLG49ZSt0K1wicm5kPVwiK01hdGguZmxvb3IoMWU3Kk1hdGgucmFuZG9tKCkpLChuZXcgSW1hZ2UpLnNyYz1uLG4pOihpLmxvZ01lc3NhZ2UoXCJNaXNzaW5nIG9yIGludmFsaWQgcGl4ZWxVcmwuXCIpLHZvaWQgMCl9fSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO0FycmF5LnByb3RvdHlwZS5maW5kfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLFwiZmluZFwiLHt2YWx1ZTpmdW5jdGlvbiBlKHQpe2lmKG51bGw9PT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheS5wcm90b3R5cGUuZmluZCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvblwiKTtmb3IodmFyIGUsbj1PYmplY3QodGhpcykscj1uLmxlbmd0aD4+PjAsaT1hcmd1bWVudHNbMV0sbz0wO3I+bztvKyspaWYoZT1uW29dLHQuY2FsbChpLGUsbyxuKSlyZXR1cm4gZTtyZXR1cm4gdm9pZCAwfX0pLEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImluY2x1ZGVzXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdCh0aGlzKSxuPXBhcnNlSW50KHQubGVuZ3RoLDEwKXx8MDtpZigwPT09bilyZXR1cm4hMTt2YXIgcixpPXBhcnNlSW50KGFyZ3VtZW50c1sxXSwxMCl8fDA7aT49MD9yPWk6KHI9bitpLDA+ciYmKHI9MCkpO2Zvcih2YXIgbztuPnI7KXtpZihvPXRbcl0sZT09PW98fGUhPT1lJiZvIT09bylyZXR1cm4hMDtyKyt9cmV0dXJuITF9fSksTnVtYmVyLmlzSW50ZWdlcj1OdW1iZXIuaXNJbnRlZ2VyfHxmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJk1hdGguZmxvb3IoZSk9PT1lfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTUpLGk9ZnVuY3Rpb24oZSl7dGhpcy5uYW1lPWUuYWRzZXJ2ZXIsdGhpcy5jb2RlPWUuY29kZSx0aGlzLmdldFdpbm5pbmdCaWRCeUNvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cGJqcy5fYmlkc1JlY2VpdmVkLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuY29kZX0pO3JldHVybiB0fX07dC5kZnBBZHNlcnZlcj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBpKGUpO24udXJsQ29tcG9uZW50cz10O3ZhciBvPXtlbnY6XCJ2cFwiLGdkZnBfcmVxOlwiMVwiLGltcGw6XCJzXCIsdW52aWV3ZWRfcG9zaXRpb25fc3RhcnQ6XCIxXCJ9LGE9W1wib3V0cHV0XCIsXCJpdVwiLFwic3pcIixcInVybFwiLFwiY29ycmVsYXRvclwiLFwiZGVzY3JpcHRpb25fdXJsXCIsXCJobFwiXSxkPWZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoci5mb3JtYXRRUyhlKSl9O3JldHVybiBuLmFwcGVuZFF1ZXJ5UGFyYW1zPWZ1bmN0aW9uKCl7dmFyIGU9bi5nZXRXaW5uaW5nQmlkQnlDb2RlKCk7dGhpcy51cmxDb21wb25lbnRzLnNlYXJjaC5kZXNjcmlwdGlvbl91cmw9ZW5jb2RlVVJJQ29tcG9uZW50KGUudmFzdFVybCksdGhpcy51cmxDb21wb25lbnRzLnNlYXJjaC5jdXN0X3BhcmFtcz1kKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLHRoaXMudXJsQ29tcG9uZW50cy5jb3JyZWxhdG9yPURhdGUubm93KCl9LG4udmVyaWZ5QWRzZXJ2ZXJUYWc9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gbylpZighdGhpcy51cmxDb21wb25lbnRzLnNlYXJjaC5oYXNPd25Qcm9wZXJ0eShlKXx8dGhpcy51cmxDb21wb25lbnRzLnNlYXJjaFtlXSE9PW9bZV0pcmV0dXJuITE7Zm9yKHZhciB0IGluIGEpaWYoIXRoaXMudXJsQ29tcG9uZW50cy5zZWFyY2guaGFzT3duUHJvcGVydHkoYVt0XSkpcmV0dXJuITE7cmV0dXJuITB9LG59fV0pO1xuXG4vKioqIEVYUE9SVFMgRlJPTSBleHBvcnRzLWxvYWRlciAqKiovXG5tb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5wYmpzO1xufS5jYWxsKHdpbmRvdykpO1xuXG4vKioqLyB9LFxuLyogMTUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxuLy8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuLy8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcbiAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuLy8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cbmZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxufVxuXG5cbi8qKiovIH0sXG4vKiAxNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiFcbiAqIGpRdWVyeSBDb29raWUgUGx1Z2luIHYxLjQuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhcmhhcnRsL2pxdWVyeS1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMyBLbGF1cyBIYXJ0bFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHRpZiAodHJ1ZSkge1xuXHRcdC8vIEFNRFxuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDApXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcblx0fSBlbHNlIHtcblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KGpRdWVyeSk7XG5cdH1cbn0oZnVuY3Rpb24gKCQpIHtcblxuXHR2YXIgcGx1c2VzID0gL1xcKy9nO1xuXG5cdGZ1bmN0aW9uIGVuY29kZShzKSB7XG5cdFx0cmV0dXJuIGNvbmZpZy5yYXcgPyBzIDogZW5jb2RlVVJJQ29tcG9uZW50KHMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVjb2RlKHMpIHtcblx0XHRyZXR1cm4gY29uZmlnLnJhdyA/IHMgOiBkZWNvZGVVUklDb21wb25lbnQocyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzdHJpbmdpZnlDb29raWVWYWx1ZSh2YWx1ZSkge1xuXHRcdHJldHVybiBlbmNvZGUoY29uZmlnLmpzb24gPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBTdHJpbmcodmFsdWUpKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBhcnNlQ29va2llVmFsdWUocykge1xuXHRcdGlmIChzLmluZGV4T2YoJ1wiJykgPT09IDApIHtcblx0XHRcdC8vIFRoaXMgaXMgYSBxdW90ZWQgY29va2llIGFzIGFjY29yZGluZyB0byBSRkMyMDY4LCB1bmVzY2FwZS4uLlxuXHRcdFx0cyA9IHMuc2xpY2UoMSwgLTEpLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKS5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnXFxcXCcpO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBSZXBsYWNlIHNlcnZlci1zaWRlIHdyaXR0ZW4gcGx1c2VzIHdpdGggc3BhY2VzLlxuXHRcdFx0Ly8gSWYgd2UgY2FuJ3QgZGVjb2RlIHRoZSBjb29raWUsIGlnbm9yZSBpdCwgaXQncyB1bnVzYWJsZS5cblx0XHRcdC8vIElmIHdlIGNhbid0IHBhcnNlIHRoZSBjb29raWUsIGlnbm9yZSBpdCwgaXQncyB1bnVzYWJsZS5cblx0XHRcdHMgPSBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKHBsdXNlcywgJyAnKSk7XG5cdFx0XHRyZXR1cm4gY29uZmlnLmpzb24gPyBKU09OLnBhcnNlKHMpIDogcztcblx0XHR9IGNhdGNoKGUpIHt9XG5cdH1cblxuXHRmdW5jdGlvbiByZWFkKHMsIGNvbnZlcnRlcikge1xuXHRcdHZhciB2YWx1ZSA9IGNvbmZpZy5yYXcgPyBzIDogcGFyc2VDb29raWVWYWx1ZShzKTtcblx0XHRyZXR1cm4gJC5pc0Z1bmN0aW9uKGNvbnZlcnRlcikgPyBjb252ZXJ0ZXIodmFsdWUpIDogdmFsdWU7XG5cdH1cblxuXHR2YXIgY29uZmlnID0gJC5jb29raWUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuXG5cdFx0Ly8gV3JpdGVcblxuXHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICEkLmlzRnVuY3Rpb24odmFsdWUpKSB7XG5cdFx0XHRvcHRpb25zID0gJC5leHRlbmQoe30sIGNvbmZpZy5kZWZhdWx0cywgb3B0aW9ucyk7XG5cblx0XHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5leHBpcmVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHR2YXIgZGF5cyA9IG9wdGlvbnMuZXhwaXJlcywgdCA9IG9wdGlvbnMuZXhwaXJlcyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdHQuc2V0VGltZSgrdCArIGRheXMgKiA4NjRlKzUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKGRvY3VtZW50LmNvb2tpZSA9IFtcblx0XHRcdFx0ZW5jb2RlKGtleSksICc9Jywgc3RyaW5naWZ5Q29va2llVmFsdWUodmFsdWUpLFxuXHRcdFx0XHRvcHRpb25zLmV4cGlyZXMgPyAnOyBleHBpcmVzPScgKyBvcHRpb25zLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnLCAvLyB1c2UgZXhwaXJlcyBhdHRyaWJ1dGUsIG1heC1hZ2UgaXMgbm90IHN1cHBvcnRlZCBieSBJRVxuXHRcdFx0XHRvcHRpb25zLnBhdGggICAgPyAnOyBwYXRoPScgKyBvcHRpb25zLnBhdGggOiAnJyxcblx0XHRcdFx0b3B0aW9ucy5kb21haW4gID8gJzsgZG9tYWluPScgKyBvcHRpb25zLmRvbWFpbiA6ICcnLFxuXHRcdFx0XHRvcHRpb25zLnNlY3VyZSAgPyAnOyBzZWN1cmUnIDogJydcblx0XHRcdF0uam9pbignJykpO1xuXHRcdH1cblxuXHRcdC8vIFJlYWRcblxuXHRcdHZhciByZXN1bHQgPSBrZXkgPyB1bmRlZmluZWQgOiB7fTtcblxuXHRcdC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcblx0XHQvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC4gQWxzbyBwcmV2ZW50cyBvZGQgcmVzdWx0IHdoZW5cblx0XHQvLyBjYWxsaW5nICQuY29va2llKCkuXG5cdFx0dmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gY29va2llcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdHZhciBuYW1lID0gZGVjb2RlKHBhcnRzLnNoaWZ0KCkpO1xuXHRcdFx0dmFyIGNvb2tpZSA9IHBhcnRzLmpvaW4oJz0nKTtcblxuXHRcdFx0aWYgKGtleSAmJiBrZXkgPT09IG5hbWUpIHtcblx0XHRcdFx0Ly8gSWYgc2Vjb25kIGFyZ3VtZW50ICh2YWx1ZSkgaXMgYSBmdW5jdGlvbiBpdCdzIGEgY29udmVydGVyLi4uXG5cdFx0XHRcdHJlc3VsdCA9IHJlYWQoY29va2llLCB2YWx1ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQcmV2ZW50IHN0b3JpbmcgYSBjb29raWUgdGhhdCB3ZSBjb3VsZG4ndCBkZWNvZGUuXG5cdFx0XHRpZiAoIWtleSAmJiAoY29va2llID0gcmVhZChjb29raWUpKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHJlc3VsdFtuYW1lXSA9IGNvb2tpZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdGNvbmZpZy5kZWZhdWx0cyA9IHt9O1xuXG5cdCQucmVtb3ZlQ29va2llID0gZnVuY3Rpb24gKGtleSwgb3B0aW9ucykge1xuXHRcdGlmICgkLmNvb2tpZShrZXkpID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBNdXN0IG5vdCBhbHRlciBvcHRpb25zLCB0aHVzIGV4dGVuZGluZyBhIGZyZXNoIG9iamVjdC4uLlxuXHRcdCQuY29va2llKGtleSwgJycsICQuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGV4cGlyZXM6IC0xIH0pKTtcblx0XHRyZXR1cm4gISQuY29va2llKGtleSk7XG5cdH07XG5cbn0pKTtcblxuXG4vKioqLyB9LFxuLyogMTU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuKGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGNyeXB0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDkpLFxyXG4gICAgICB1dGY4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSkudXRmOCxcclxuICAgICAgaXNCdWZmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MyksXHJcbiAgICAgIGJpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpLmJpbixcclxuXHJcbiAgLy8gVGhlIGNvcmVcclxuICBtZDUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgLy8gQ29udmVydCB0byBieXRlIGFycmF5XHJcbiAgICBpZiAobWVzc2FnZS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpXHJcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgPT09ICdiaW5hcnknKVxyXG4gICAgICAgIG1lc3NhZ2UgPSBiaW4uc3RyaW5nVG9CeXRlcyhtZXNzYWdlKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIG1lc3NhZ2UgPSB1dGY4LnN0cmluZ1RvQnl0ZXMobWVzc2FnZSk7XHJcbiAgICBlbHNlIGlmIChpc0J1ZmZlcihtZXNzYWdlKSlcclxuICAgICAgbWVzc2FnZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG1lc3NhZ2UsIDApO1xyXG4gICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZSkpXHJcbiAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnRvU3RyaW5nKCk7XHJcbiAgICAvLyBlbHNlLCBhc3N1bWUgYnl0ZSBhcnJheSBhbHJlYWR5XHJcblxyXG4gICAgdmFyIG0gPSBjcnlwdC5ieXRlc1RvV29yZHMobWVzc2FnZSksXHJcbiAgICAgICAgbCA9IG1lc3NhZ2UubGVuZ3RoICogOCxcclxuICAgICAgICBhID0gIDE3MzI1ODQxOTMsXHJcbiAgICAgICAgYiA9IC0yNzE3MzM4NzksXHJcbiAgICAgICAgYyA9IC0xNzMyNTg0MTk0LFxyXG4gICAgICAgIGQgPSAgMjcxNzMzODc4O1xyXG5cclxuICAgIC8vIFN3YXAgZW5kaWFuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbVtpXSA9ICgobVtpXSA8PCAgOCkgfCAobVtpXSA+Pj4gMjQpKSAmIDB4MDBGRjAwRkYgfFxyXG4gICAgICAgICAgICAgKChtW2ldIDw8IDI0KSB8IChtW2ldID4+PiAgOCkpICYgMHhGRjAwRkYwMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYWRkaW5nXHJcbiAgICBtW2wgPj4+IDVdIHw9IDB4ODAgPDwgKGwgJSAzMik7XHJcbiAgICBtWygoKGwgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gbDtcclxuXHJcbiAgICAvLyBNZXRob2Qgc2hvcnRjdXRzXHJcbiAgICB2YXIgRkYgPSBtZDUuX2ZmLFxyXG4gICAgICAgIEdHID0gbWQ1Ll9nZyxcclxuICAgICAgICBISCA9IG1kNS5faGgsXHJcbiAgICAgICAgSUkgPSBtZDUuX2lpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkgKz0gMTYpIHtcclxuXHJcbiAgICAgIHZhciBhYSA9IGEsXHJcbiAgICAgICAgICBiYiA9IGIsXHJcbiAgICAgICAgICBjYyA9IGMsXHJcbiAgICAgICAgICBkZCA9IGQ7XHJcblxyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKyAwXSwgIDcsIC02ODA4NzY5MzYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTcsICA2MDYxMDU4MTkpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsgNF0sICA3LCAtMTc2NDE4ODk3KTtcclxuICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIG1baSsgNV0sIDEyLCAgMTIwMDA4MDQyNik7XHJcbiAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBtW2krIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyA3XSwgMjIsIC00NTcwNTk4Myk7XHJcbiAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBtW2krIDhdLCAgNywgIDE3NzAwMzU0MTYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE3LCAtNDIwNjMpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKzExXSwgMjIsIC0xOTkwNDA0MTYyKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsxMl0sICA3LCAgMTgwNDYwMzY4Mik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krMTNdLCAxMiwgLTQwMzQxMTAxKTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krMTVdLCAyMiwgIDEyMzY1MzUzMjkpO1xyXG5cclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgMV0sICA1LCAtMTY1Nzk2NTEwKTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgNl0sICA5LCAtMTA2OTUwMTYzMik7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krMTFdLCAxNCwgIDY0MzcxNzcxMyk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDBdLCAyMCwgLTM3Mzg5NzMwMik7XHJcbiAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBtW2krIDVdLCAgNSwgLTcwMTU1ODY5MSk7XHJcbiAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCBtW2krMTBdLCAgOSwgIDM4MDE2MDgzKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsxNV0sIDE0LCAtNjYwNDc4MzM1KTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgOV0sICA1LCAgNTY4NDQ2NDM4KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsxNF0sICA5LCAtMTAxOTgwMzY5MCk7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDhdLCAyMCwgIDExNjM1MzE1MDEpO1xyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKzEzXSwgIDUsIC0xNDQ0NjgxNDY3KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgMl0sICA5LCAtNTE0MDM3ODQpO1xyXG4gICAgICBjID0gR0coYywgZCwgYSwgYiwgbVtpKyA3XSwgMTQsICAxNzM1MzI4NDczKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsxMl0sIDIwLCAtMTkyNjYwNzczNCk7XHJcblxyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA1XSwgIDQsIC0zNzg1NTgpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKyA4XSwgMTEsIC0yMDIyNTc0NDYzKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsxMV0sIDE2LCAgMTgzOTAzMDU2Mik7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krMTRdLCAyMywgLTM1MzA5NTU2KTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsgMV0sICA0LCAtMTUzMDk5MjA2MCk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krIDRdLCAxMSwgIDEyNzI4OTMzNTMpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKzEwXSwgMjMsIC0xMDk0NzMwNjQwKTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsxM10sICA0LCAgNjgxMjc5MTc0KTtcclxuICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIG1baSsgMF0sIDExLCAtMzU4NTM3MjIyKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsgM10sIDE2LCAtNzIyNTIxOTc5KTtcclxuICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIG1baSsgNl0sIDIzLCAgNzYwMjkxODkpO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA5XSwgIDQsIC02NDAzNjQ0ODcpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKzEyXSwgMTEsIC00MjE4MTU4MzUpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKzE1XSwgMTYsICA1MzA3NDI1MjApO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKyAyXSwgMjMsIC05OTUzMzg2NTEpO1xyXG5cclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsgMF0sICA2LCAtMTk4NjMwODQ0KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsgN10sIDEwLCAgMTEyNjg5MTQxNSk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA1XSwgMjEsIC01NzQzNDA1NSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krMTJdLCAgNiwgIDE3MDA0ODU1NzEpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcclxuICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE1LCAtMTA1MTUyMyk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDFdLCAyMSwgLTIwNTQ5MjI3OTkpO1xyXG4gICAgICBhID0gSUkoYSwgYiwgYywgZCwgbVtpKyA4XSwgIDYsICAxODczMzEzMzU5KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsxNV0sIDEwLCAtMzA2MTE3NDQpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcclxuICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIG1baSsxM10sIDIxLCAgMTMwOTE1MTY0OSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krIDRdLCAgNiwgLTE0NTUyMzA3MCk7XHJcbiAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBtW2krMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTUsICA3MTg3ODcyNTkpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xyXG5cclxuICAgICAgYSA9IChhICsgYWEpID4+PiAwO1xyXG4gICAgICBiID0gKGIgKyBiYikgPj4+IDA7XHJcbiAgICAgIGMgPSAoYyArIGNjKSA+Pj4gMDtcclxuICAgICAgZCA9IChkICsgZGQpID4+PiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjcnlwdC5lbmRpYW4oW2EsIGIsIGMsIGRdKTtcclxuICB9O1xyXG5cclxuICAvLyBBdXhpbGlhcnkgZnVuY3Rpb25zXHJcbiAgbWQ1Ll9mZiAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBjIHwgfmIgJiBkKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9nZyAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBkIHwgYyAmIH5kKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9oaCAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgXiBjIF4gZCkgKyAoeCA+Pj4gMCkgKyB0O1xyXG4gICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcclxuICB9O1xyXG4gIG1kNS5faWkgID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcclxuICAgIHZhciBuID0gYSArIChjIF4gKGIgfCB+ZCkpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuXHJcbiAgLy8gUGFja2FnZSBwcml2YXRlIGJsb2Nrc2l6ZVxyXG4gIG1kNS5fYmxvY2tzaXplID0gMTY7XHJcbiAgbWQ1Ll9kaWdlc3RzaXplID0gMTY7XHJcblxyXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcclxuICAgIGlmIChtZXNzYWdlID09PSB1bmRlZmluZWQgfHwgbWVzc2FnZSA9PT0gbnVsbClcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGFyZ3VtZW50ICcgKyBtZXNzYWdlKTtcclxuXHJcbiAgICB2YXIgZGlnZXN0Ynl0ZXMgPSBjcnlwdC53b3Jkc1RvQnl0ZXMobWQ1KG1lc3NhZ2UsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMuYXNCeXRlcyA/IGRpZ2VzdGJ5dGVzIDpcclxuICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuYXNTdHJpbmcgPyBiaW4uYnl0ZXNUb1N0cmluZyhkaWdlc3RieXRlcykgOlxyXG4gICAgICAgIGNyeXB0LmJ5dGVzVG9IZXgoZGlnZXN0Ynl0ZXMpO1xyXG4gIH07XHJcblxyXG59KSgpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDE1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qIVxuV2F5cG9pbnRzIC0gNC4wLjFcbkNvcHlyaWdodCDCqSAyMDExLTIwMTYgQ2FsZWIgVHJvdWdodG9uXG5MaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5odHRwczovL2dpdGh1Yi5jb20vaW1ha2V3ZWJ0aGluZ3Mvd2F5cG9pbnRzL2Jsb2IvbWFzdGVyL2xpY2Vuc2VzLnR4dFxuKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyIGtleUNvdW50ZXIgPSAwXG4gIHZhciBhbGxXYXlwb2ludHMgPSB7fVxuXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS93YXlwb2ludCAqL1xuICBmdW5jdGlvbiBXYXlwb2ludChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG9wdGlvbnMgcGFzc2VkIHRvIFdheXBvaW50IGNvbnN0cnVjdG9yJylcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmVsZW1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZWxlbWVudCBvcHRpb24gcGFzc2VkIHRvIFdheXBvaW50IGNvbnN0cnVjdG9yJylcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gaGFuZGxlciBvcHRpb24gcGFzc2VkIHRvIFdheXBvaW50IGNvbnN0cnVjdG9yJylcbiAgICB9XG5cbiAgICB0aGlzLmtleSA9ICd3YXlwb2ludC0nICsga2V5Q291bnRlclxuICAgIHRoaXMub3B0aW9ucyA9IFdheXBvaW50LkFkYXB0ZXIuZXh0ZW5kKHt9LCBXYXlwb2ludC5kZWZhdWx0cywgb3B0aW9ucylcbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLm9wdGlvbnMuZWxlbWVudFxuICAgIHRoaXMuYWRhcHRlciA9IG5ldyBXYXlwb2ludC5BZGFwdGVyKHRoaXMuZWxlbWVudClcbiAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5oYW5kbGVyXG4gICAgdGhpcy5heGlzID0gdGhpcy5vcHRpb25zLmhvcml6b250YWwgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnXG4gICAgdGhpcy5lbmFibGVkID0gdGhpcy5vcHRpb25zLmVuYWJsZWRcbiAgICB0aGlzLnRyaWdnZXJQb2ludCA9IG51bGxcbiAgICB0aGlzLmdyb3VwID0gV2F5cG9pbnQuR3JvdXAuZmluZE9yQ3JlYXRlKHtcbiAgICAgIG5hbWU6IHRoaXMub3B0aW9ucy5ncm91cCxcbiAgICAgIGF4aXM6IHRoaXMuYXhpc1xuICAgIH0pXG4gICAgdGhpcy5jb250ZXh0ID0gV2F5cG9pbnQuQ29udGV4dC5maW5kT3JDcmVhdGVCeUVsZW1lbnQodGhpcy5vcHRpb25zLmNvbnRleHQpXG5cbiAgICBpZiAoV2F5cG9pbnQub2Zmc2V0QWxpYXNlc1t0aGlzLm9wdGlvbnMub2Zmc2V0XSkge1xuICAgICAgdGhpcy5vcHRpb25zLm9mZnNldCA9IFdheXBvaW50Lm9mZnNldEFsaWFzZXNbdGhpcy5vcHRpb25zLm9mZnNldF1cbiAgICB9XG4gICAgdGhpcy5ncm91cC5hZGQodGhpcylcbiAgICB0aGlzLmNvbnRleHQuYWRkKHRoaXMpXG4gICAgYWxsV2F5cG9pbnRzW3RoaXMua2V5XSA9IHRoaXNcbiAgICBrZXlDb3VudGVyICs9IDFcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgV2F5cG9pbnQucHJvdG90eXBlLnF1ZXVlVHJpZ2dlciA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIHRoaXMuZ3JvdXAucXVldWVUcmlnZ2VyKHRoaXMsIGRpcmVjdGlvbilcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgV2F5cG9pbnQucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5jYWxsYmFjaykge1xuICAgICAgdGhpcy5jYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvZGVzdHJveSAqL1xuICBXYXlwb2ludC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY29udGV4dC5yZW1vdmUodGhpcylcbiAgICB0aGlzLmdyb3VwLnJlbW92ZSh0aGlzKVxuICAgIGRlbGV0ZSBhbGxXYXlwb2ludHNbdGhpcy5rZXldXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2Rpc2FibGUgKi9cbiAgV2F5cG9pbnQucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2VuYWJsZSAqL1xuICBXYXlwb2ludC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb250ZXh0LnJlZnJlc2goKVxuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9uZXh0ICovXG4gIFdheXBvaW50LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JvdXAubmV4dCh0aGlzKVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9wcmV2aW91cyAqL1xuICBXYXlwb2ludC5wcm90b3R5cGUucHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cC5wcmV2aW91cyh0aGlzKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBXYXlwb2ludC5pbnZva2VBbGwgPSBmdW5jdGlvbihtZXRob2QpIHtcbiAgICB2YXIgYWxsV2F5cG9pbnRzQXJyYXkgPSBbXVxuICAgIGZvciAodmFyIHdheXBvaW50S2V5IGluIGFsbFdheXBvaW50cykge1xuICAgICAgYWxsV2F5cG9pbnRzQXJyYXkucHVzaChhbGxXYXlwb2ludHNbd2F5cG9pbnRLZXldKVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgZW5kID0gYWxsV2F5cG9pbnRzQXJyYXkubGVuZ3RoOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIGFsbFdheXBvaW50c0FycmF5W2ldW21ldGhvZF0oKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvZGVzdHJveS1hbGwgKi9cbiAgV2F5cG9pbnQuZGVzdHJveUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIFdheXBvaW50Lmludm9rZUFsbCgnZGVzdHJveScpXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2Rpc2FibGUtYWxsICovXG4gIFdheXBvaW50LmRpc2FibGVBbGwgPSBmdW5jdGlvbigpIHtcbiAgICBXYXlwb2ludC5pbnZva2VBbGwoJ2Rpc2FibGUnKVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9lbmFibGUtYWxsICovXG4gIFdheXBvaW50LmVuYWJsZUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIFdheXBvaW50LkNvbnRleHQucmVmcmVzaEFsbCgpXG4gICAgZm9yICh2YXIgd2F5cG9pbnRLZXkgaW4gYWxsV2F5cG9pbnRzKSB7XG4gICAgICBhbGxXYXlwb2ludHNbd2F5cG9pbnRLZXldLmVuYWJsZWQgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL3JlZnJlc2gtYWxsICovXG4gIFdheXBvaW50LnJlZnJlc2hBbGwgPSBmdW5jdGlvbigpIHtcbiAgICBXYXlwb2ludC5Db250ZXh0LnJlZnJlc2hBbGwoKVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS92aWV3cG9ydC1oZWlnaHQgKi9cbiAgV2F5cG9pbnQudmlld3BvcnRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvdmlld3BvcnQtd2lkdGggKi9cbiAgV2F5cG9pbnQudmlld3BvcnRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgfVxuXG4gIFdheXBvaW50LmFkYXB0ZXJzID0gW11cblxuICBXYXlwb2ludC5kZWZhdWx0cyA9IHtcbiAgICBjb250ZXh0OiB3aW5kb3csXG4gICAgY29udGludW91czogdHJ1ZSxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGdyb3VwOiAnZGVmYXVsdCcsXG4gICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgb2Zmc2V0OiAwXG4gIH1cblxuICBXYXlwb2ludC5vZmZzZXRBbGlhc2VzID0ge1xuICAgICdib3R0b20taW4tdmlldyc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5pbm5lckhlaWdodCgpIC0gdGhpcy5hZGFwdGVyLm91dGVySGVpZ2h0KClcbiAgICB9LFxuICAgICdyaWdodC1pbi12aWV3JzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlubmVyV2lkdGgoKSAtIHRoaXMuYWRhcHRlci5vdXRlcldpZHRoKClcbiAgICB9XG4gIH1cblxuICB3aW5kb3cuV2F5cG9pbnQgPSBXYXlwb2ludFxufSgpKVxuOyhmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lU2hpbShjYWxsYmFjaykge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApXG4gIH1cblxuICB2YXIga2V5Q291bnRlciA9IDBcbiAgdmFyIGNvbnRleHRzID0ge31cbiAgdmFyIFdheXBvaW50ID0gd2luZG93LldheXBvaW50XG4gIHZhciBvbGRXaW5kb3dMb2FkID0gd2luZG93Lm9ubG9hZFxuXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9jb250ZXh0ICovXG4gIGZ1bmN0aW9uIENvbnRleHQoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLkFkYXB0ZXIgPSBXYXlwb2ludC5BZGFwdGVyXG4gICAgdGhpcy5hZGFwdGVyID0gbmV3IHRoaXMuQWRhcHRlcihlbGVtZW50KVxuICAgIHRoaXMua2V5ID0gJ3dheXBvaW50LWNvbnRleHQtJyArIGtleUNvdW50ZXJcbiAgICB0aGlzLmRpZFNjcm9sbCA9IGZhbHNlXG4gICAgdGhpcy5kaWRSZXNpemUgPSBmYWxzZVxuICAgIHRoaXMub2xkU2Nyb2xsID0ge1xuICAgICAgeDogdGhpcy5hZGFwdGVyLnNjcm9sbExlZnQoKSxcbiAgICAgIHk6IHRoaXMuYWRhcHRlci5zY3JvbGxUb3AoKVxuICAgIH1cbiAgICB0aGlzLndheXBvaW50cyA9IHtcbiAgICAgIHZlcnRpY2FsOiB7fSxcbiAgICAgIGhvcml6b250YWw6IHt9XG4gICAgfVxuXG4gICAgZWxlbWVudC53YXlwb2ludENvbnRleHRLZXkgPSB0aGlzLmtleVxuICAgIGNvbnRleHRzW2VsZW1lbnQud2F5cG9pbnRDb250ZXh0S2V5XSA9IHRoaXNcbiAgICBrZXlDb3VudGVyICs9IDFcbiAgICBpZiAoIVdheXBvaW50LndpbmRvd0NvbnRleHQpIHtcbiAgICAgIFdheXBvaW50LndpbmRvd0NvbnRleHQgPSB0cnVlXG4gICAgICBXYXlwb2ludC53aW5kb3dDb250ZXh0ID0gbmV3IENvbnRleHQod2luZG93KVxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlVGhyb3R0bGVkU2Nyb2xsSGFuZGxlcigpXG4gICAgdGhpcy5jcmVhdGVUaHJvdHRsZWRSZXNpemVIYW5kbGVyKClcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgQ29udGV4dC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICB2YXIgYXhpcyA9IHdheXBvaW50Lm9wdGlvbnMuaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCdcbiAgICB0aGlzLndheXBvaW50c1theGlzXVt3YXlwb2ludC5rZXldID0gd2F5cG9pbnRcbiAgICB0aGlzLnJlZnJlc2goKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5jaGVja0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhvcml6b250YWxFbXB0eSA9IHRoaXMuQWRhcHRlci5pc0VtcHR5T2JqZWN0KHRoaXMud2F5cG9pbnRzLmhvcml6b250YWwpXG4gICAgdmFyIHZlcnRpY2FsRW1wdHkgPSB0aGlzLkFkYXB0ZXIuaXNFbXB0eU9iamVjdCh0aGlzLndheXBvaW50cy52ZXJ0aWNhbClcbiAgICB2YXIgaXNXaW5kb3cgPSB0aGlzLmVsZW1lbnQgPT0gdGhpcy5lbGVtZW50LndpbmRvd1xuICAgIGlmIChob3Jpem9udGFsRW1wdHkgJiYgdmVydGljYWxFbXB0eSAmJiAhaXNXaW5kb3cpIHtcbiAgICAgIHRoaXMuYWRhcHRlci5vZmYoJy53YXlwb2ludHMnKVxuICAgICAgZGVsZXRlIGNvbnRleHRzW3RoaXMua2V5XVxuICAgIH1cbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlVGhyb3R0bGVkUmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgZnVuY3Rpb24gcmVzaXplSGFuZGxlcigpIHtcbiAgICAgIHNlbGYuaGFuZGxlUmVzaXplKClcbiAgICAgIHNlbGYuZGlkUmVzaXplID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLmFkYXB0ZXIub24oJ3Jlc2l6ZS53YXlwb2ludHMnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5kaWRSZXNpemUpIHtcbiAgICAgICAgc2VsZi5kaWRSZXNpemUgPSB0cnVlXG4gICAgICAgIFdheXBvaW50LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNpemVIYW5kbGVyKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIENvbnRleHQucHJvdG90eXBlLmNyZWF0ZVRocm90dGxlZFNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCkge1xuICAgICAgc2VsZi5oYW5kbGVTY3JvbGwoKVxuICAgICAgc2VsZi5kaWRTY3JvbGwgPSBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuYWRhcHRlci5vbignc2Nyb2xsLndheXBvaW50cycsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLmRpZFNjcm9sbCB8fCBXYXlwb2ludC5pc1RvdWNoKSB7XG4gICAgICAgIHNlbGYuZGlkU2Nyb2xsID0gdHJ1ZVxuICAgICAgICBXYXlwb2ludC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsSGFuZGxlcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5oYW5kbGVSZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICBXYXlwb2ludC5Db250ZXh0LnJlZnJlc2hBbGwoKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5oYW5kbGVTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdHJpZ2dlcmVkR3JvdXBzID0ge31cbiAgICB2YXIgYXhlcyA9IHtcbiAgICAgIGhvcml6b250YWw6IHtcbiAgICAgICAgbmV3U2Nyb2xsOiB0aGlzLmFkYXB0ZXIuc2Nyb2xsTGVmdCgpLFxuICAgICAgICBvbGRTY3JvbGw6IHRoaXMub2xkU2Nyb2xsLngsXG4gICAgICAgIGZvcndhcmQ6ICdyaWdodCcsXG4gICAgICAgIGJhY2t3YXJkOiAnbGVmdCdcbiAgICAgIH0sXG4gICAgICB2ZXJ0aWNhbDoge1xuICAgICAgICBuZXdTY3JvbGw6IHRoaXMuYWRhcHRlci5zY3JvbGxUb3AoKSxcbiAgICAgICAgb2xkU2Nyb2xsOiB0aGlzLm9sZFNjcm9sbC55LFxuICAgICAgICBmb3J3YXJkOiAnZG93bicsXG4gICAgICAgIGJhY2t3YXJkOiAndXAnXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYXhpc0tleSBpbiBheGVzKSB7XG4gICAgICB2YXIgYXhpcyA9IGF4ZXNbYXhpc0tleV1cbiAgICAgIHZhciBpc0ZvcndhcmQgPSBheGlzLm5ld1Njcm9sbCA+IGF4aXMub2xkU2Nyb2xsXG4gICAgICB2YXIgZGlyZWN0aW9uID0gaXNGb3J3YXJkID8gYXhpcy5mb3J3YXJkIDogYXhpcy5iYWNrd2FyZFxuXG4gICAgICBmb3IgKHZhciB3YXlwb2ludEtleSBpbiB0aGlzLndheXBvaW50c1theGlzS2V5XSkge1xuICAgICAgICB2YXIgd2F5cG9pbnQgPSB0aGlzLndheXBvaW50c1theGlzS2V5XVt3YXlwb2ludEtleV1cbiAgICAgICAgaWYgKHdheXBvaW50LnRyaWdnZXJQb2ludCA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdhc0JlZm9yZVRyaWdnZXJQb2ludCA9IGF4aXMub2xkU2Nyb2xsIDwgd2F5cG9pbnQudHJpZ2dlclBvaW50XG4gICAgICAgIHZhciBub3dBZnRlclRyaWdnZXJQb2ludCA9IGF4aXMubmV3U2Nyb2xsID49IHdheXBvaW50LnRyaWdnZXJQb2ludFxuICAgICAgICB2YXIgY3Jvc3NlZEZvcndhcmQgPSB3YXNCZWZvcmVUcmlnZ2VyUG9pbnQgJiYgbm93QWZ0ZXJUcmlnZ2VyUG9pbnRcbiAgICAgICAgdmFyIGNyb3NzZWRCYWNrd2FyZCA9ICF3YXNCZWZvcmVUcmlnZ2VyUG9pbnQgJiYgIW5vd0FmdGVyVHJpZ2dlclBvaW50XG4gICAgICAgIGlmIChjcm9zc2VkRm9yd2FyZCB8fCBjcm9zc2VkQmFja3dhcmQpIHtcbiAgICAgICAgICB3YXlwb2ludC5xdWV1ZVRyaWdnZXIoZGlyZWN0aW9uKVxuICAgICAgICAgIHRyaWdnZXJlZEdyb3Vwc1t3YXlwb2ludC5ncm91cC5pZF0gPSB3YXlwb2ludC5ncm91cFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgZ3JvdXBLZXkgaW4gdHJpZ2dlcmVkR3JvdXBzKSB7XG4gICAgICB0cmlnZ2VyZWRHcm91cHNbZ3JvdXBLZXldLmZsdXNoVHJpZ2dlcnMoKVxuICAgIH1cblxuICAgIHRoaXMub2xkU2Nyb2xsID0ge1xuICAgICAgeDogYXhlcy5ob3Jpem9udGFsLm5ld1Njcm9sbCxcbiAgICAgIHk6IGF4ZXMudmVydGljYWwubmV3U2Nyb2xsXG4gICAgfVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5pbm5lckhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4gICAgaWYgKHRoaXMuZWxlbWVudCA9PSB0aGlzLmVsZW1lbnQud2luZG93KSB7XG4gICAgICByZXR1cm4gV2F5cG9pbnQudmlld3BvcnRIZWlnaHQoKVxuICAgIH1cbiAgICAvKmVzbGludC1lbmFibGUgZXFlcWVxICovXG4gICAgcmV0dXJuIHRoaXMuYWRhcHRlci5pbm5lckhlaWdodCgpXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIENvbnRleHQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgZGVsZXRlIHRoaXMud2F5cG9pbnRzW3dheXBvaW50LmF4aXNdW3dheXBvaW50LmtleV1cbiAgICB0aGlzLmNoZWNrRW1wdHkoKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5pbm5lcldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgLyplc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cbiAgICBpZiAodGhpcy5lbGVtZW50ID09IHRoaXMuZWxlbWVudC53aW5kb3cpIHtcbiAgICAgIHJldHVybiBXYXlwb2ludC52aWV3cG9ydFdpZHRoKClcbiAgICB9XG4gICAgLyplc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuaW5uZXJXaWR0aCgpXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2NvbnRleHQtZGVzdHJveSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFsbFdheXBvaW50cyA9IFtdXG4gICAgZm9yICh2YXIgYXhpcyBpbiB0aGlzLndheXBvaW50cykge1xuICAgICAgZm9yICh2YXIgd2F5cG9pbnRLZXkgaW4gdGhpcy53YXlwb2ludHNbYXhpc10pIHtcbiAgICAgICAgYWxsV2F5cG9pbnRzLnB1c2godGhpcy53YXlwb2ludHNbYXhpc11bd2F5cG9pbnRLZXldKVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgZW5kID0gYWxsV2F5cG9pbnRzLmxlbmd0aDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICBhbGxXYXlwb2ludHNbaV0uZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9jb250ZXh0LXJlZnJlc2ggKi9cbiAgQ29udGV4dC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4gICAgdmFyIGlzV2luZG93ID0gdGhpcy5lbGVtZW50ID09IHRoaXMuZWxlbWVudC53aW5kb3dcbiAgICAvKmVzbGludC1lbmFibGUgZXFlcWVxICovXG4gICAgdmFyIGNvbnRleHRPZmZzZXQgPSBpc1dpbmRvdyA/IHVuZGVmaW5lZCA6IHRoaXMuYWRhcHRlci5vZmZzZXQoKVxuICAgIHZhciB0cmlnZ2VyZWRHcm91cHMgPSB7fVxuICAgIHZhciBheGVzXG5cbiAgICB0aGlzLmhhbmRsZVNjcm9sbCgpXG4gICAgYXhlcyA9IHtcbiAgICAgIGhvcml6b250YWw6IHtcbiAgICAgICAgY29udGV4dE9mZnNldDogaXNXaW5kb3cgPyAwIDogY29udGV4dE9mZnNldC5sZWZ0LFxuICAgICAgICBjb250ZXh0U2Nyb2xsOiBpc1dpbmRvdyA/IDAgOiB0aGlzLm9sZFNjcm9sbC54LFxuICAgICAgICBjb250ZXh0RGltZW5zaW9uOiB0aGlzLmlubmVyV2lkdGgoKSxcbiAgICAgICAgb2xkU2Nyb2xsOiB0aGlzLm9sZFNjcm9sbC54LFxuICAgICAgICBmb3J3YXJkOiAncmlnaHQnLFxuICAgICAgICBiYWNrd2FyZDogJ2xlZnQnLFxuICAgICAgICBvZmZzZXRQcm9wOiAnbGVmdCdcbiAgICAgIH0sXG4gICAgICB2ZXJ0aWNhbDoge1xuICAgICAgICBjb250ZXh0T2Zmc2V0OiBpc1dpbmRvdyA/IDAgOiBjb250ZXh0T2Zmc2V0LnRvcCxcbiAgICAgICAgY29udGV4dFNjcm9sbDogaXNXaW5kb3cgPyAwIDogdGhpcy5vbGRTY3JvbGwueSxcbiAgICAgICAgY29udGV4dERpbWVuc2lvbjogdGhpcy5pbm5lckhlaWdodCgpLFxuICAgICAgICBvbGRTY3JvbGw6IHRoaXMub2xkU2Nyb2xsLnksXG4gICAgICAgIGZvcndhcmQ6ICdkb3duJyxcbiAgICAgICAgYmFja3dhcmQ6ICd1cCcsXG4gICAgICAgIG9mZnNldFByb3A6ICd0b3AnXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYXhpc0tleSBpbiBheGVzKSB7XG4gICAgICB2YXIgYXhpcyA9IGF4ZXNbYXhpc0tleV1cbiAgICAgIGZvciAodmFyIHdheXBvaW50S2V5IGluIHRoaXMud2F5cG9pbnRzW2F4aXNLZXldKSB7XG4gICAgICAgIHZhciB3YXlwb2ludCA9IHRoaXMud2F5cG9pbnRzW2F4aXNLZXldW3dheXBvaW50S2V5XVxuICAgICAgICB2YXIgYWRqdXN0bWVudCA9IHdheXBvaW50Lm9wdGlvbnMub2Zmc2V0XG4gICAgICAgIHZhciBvbGRUcmlnZ2VyUG9pbnQgPSB3YXlwb2ludC50cmlnZ2VyUG9pbnRcbiAgICAgICAgdmFyIGVsZW1lbnRPZmZzZXQgPSAwXG4gICAgICAgIHZhciBmcmVzaFdheXBvaW50ID0gb2xkVHJpZ2dlclBvaW50ID09IG51bGxcbiAgICAgICAgdmFyIGNvbnRleHRNb2RpZmllciwgd2FzQmVmb3JlU2Nyb2xsLCBub3dBZnRlclNjcm9sbFxuICAgICAgICB2YXIgdHJpZ2dlcmVkQmFja3dhcmQsIHRyaWdnZXJlZEZvcndhcmRcblxuICAgICAgICBpZiAod2F5cG9pbnQuZWxlbWVudCAhPT0gd2F5cG9pbnQuZWxlbWVudC53aW5kb3cpIHtcbiAgICAgICAgICBlbGVtZW50T2Zmc2V0ID0gd2F5cG9pbnQuYWRhcHRlci5vZmZzZXQoKVtheGlzLm9mZnNldFByb3BdXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGFkanVzdG1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBhZGp1c3RtZW50ID0gYWRqdXN0bWVudC5hcHBseSh3YXlwb2ludClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYWRqdXN0bWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBhZGp1c3RtZW50ID0gcGFyc2VGbG9hdChhZGp1c3RtZW50KVxuICAgICAgICAgIGlmICh3YXlwb2ludC5vcHRpb25zLm9mZnNldC5pbmRleE9mKCclJykgPiAtIDEpIHtcbiAgICAgICAgICAgIGFkanVzdG1lbnQgPSBNYXRoLmNlaWwoYXhpcy5jb250ZXh0RGltZW5zaW9uICogYWRqdXN0bWVudCAvIDEwMClcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0TW9kaWZpZXIgPSBheGlzLmNvbnRleHRTY3JvbGwgLSBheGlzLmNvbnRleHRPZmZzZXRcbiAgICAgICAgd2F5cG9pbnQudHJpZ2dlclBvaW50ID0gTWF0aC5mbG9vcihlbGVtZW50T2Zmc2V0ICsgY29udGV4dE1vZGlmaWVyIC0gYWRqdXN0bWVudClcbiAgICAgICAgd2FzQmVmb3JlU2Nyb2xsID0gb2xkVHJpZ2dlclBvaW50IDwgYXhpcy5vbGRTY3JvbGxcbiAgICAgICAgbm93QWZ0ZXJTY3JvbGwgPSB3YXlwb2ludC50cmlnZ2VyUG9pbnQgPj0gYXhpcy5vbGRTY3JvbGxcbiAgICAgICAgdHJpZ2dlcmVkQmFja3dhcmQgPSB3YXNCZWZvcmVTY3JvbGwgJiYgbm93QWZ0ZXJTY3JvbGxcbiAgICAgICAgdHJpZ2dlcmVkRm9yd2FyZCA9ICF3YXNCZWZvcmVTY3JvbGwgJiYgIW5vd0FmdGVyU2Nyb2xsXG5cbiAgICAgICAgaWYgKCFmcmVzaFdheXBvaW50ICYmIHRyaWdnZXJlZEJhY2t3YXJkKSB7XG4gICAgICAgICAgd2F5cG9pbnQucXVldWVUcmlnZ2VyKGF4aXMuYmFja3dhcmQpXG4gICAgICAgICAgdHJpZ2dlcmVkR3JvdXBzW3dheXBvaW50Lmdyb3VwLmlkXSA9IHdheXBvaW50Lmdyb3VwXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWZyZXNoV2F5cG9pbnQgJiYgdHJpZ2dlcmVkRm9yd2FyZCkge1xuICAgICAgICAgIHdheXBvaW50LnF1ZXVlVHJpZ2dlcihheGlzLmZvcndhcmQpXG4gICAgICAgICAgdHJpZ2dlcmVkR3JvdXBzW3dheXBvaW50Lmdyb3VwLmlkXSA9IHdheXBvaW50Lmdyb3VwXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZnJlc2hXYXlwb2ludCAmJiBheGlzLm9sZFNjcm9sbCA+PSB3YXlwb2ludC50cmlnZ2VyUG9pbnQpIHtcbiAgICAgICAgICB3YXlwb2ludC5xdWV1ZVRyaWdnZXIoYXhpcy5mb3J3YXJkKVxuICAgICAgICAgIHRyaWdnZXJlZEdyb3Vwc1t3YXlwb2ludC5ncm91cC5pZF0gPSB3YXlwb2ludC5ncm91cFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgV2F5cG9pbnQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgZ3JvdXBLZXkgaW4gdHJpZ2dlcmVkR3JvdXBzKSB7XG4gICAgICAgIHRyaWdnZXJlZEdyb3Vwc1tncm91cEtleV0uZmx1c2hUcmlnZ2VycygpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIENvbnRleHQuZmluZE9yQ3JlYXRlQnlFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBDb250ZXh0LmZpbmRCeUVsZW1lbnQoZWxlbWVudCkgfHwgbmV3IENvbnRleHQoZWxlbWVudClcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgQ29udGV4dC5yZWZyZXNoQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgY29udGV4dElkIGluIGNvbnRleHRzKSB7XG4gICAgICBjb250ZXh0c1tjb250ZXh0SWRdLnJlZnJlc2goKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvY29udGV4dC1maW5kLWJ5LWVsZW1lbnQgKi9cbiAgQ29udGV4dC5maW5kQnlFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBjb250ZXh0c1tlbGVtZW50LndheXBvaW50Q29udGV4dEtleV1cbiAgfVxuXG4gIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAob2xkV2luZG93TG9hZCkge1xuICAgICAgb2xkV2luZG93TG9hZCgpXG4gICAgfVxuICAgIENvbnRleHQucmVmcmVzaEFsbCgpXG4gIH1cblxuXG4gIFdheXBvaW50LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlcXVlc3RGbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZVNoaW1cbiAgICByZXF1ZXN0Rm4uY2FsbCh3aW5kb3csIGNhbGxiYWNrKVxuICB9XG4gIFdheXBvaW50LkNvbnRleHQgPSBDb250ZXh0XG59KCkpXG47KGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCdcblxuICBmdW5jdGlvbiBieVRyaWdnZXJQb2ludChhLCBiKSB7XG4gICAgcmV0dXJuIGEudHJpZ2dlclBvaW50IC0gYi50cmlnZ2VyUG9pbnRcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ5UmV2ZXJzZVRyaWdnZXJQb2ludChhLCBiKSB7XG4gICAgcmV0dXJuIGIudHJpZ2dlclBvaW50IC0gYS50cmlnZ2VyUG9pbnRcbiAgfVxuXG4gIHZhciBncm91cHMgPSB7XG4gICAgdmVydGljYWw6IHt9LFxuICAgIGhvcml6b250YWw6IHt9XG4gIH1cbiAgdmFyIFdheXBvaW50ID0gd2luZG93LldheXBvaW50XG5cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2dyb3VwICovXG4gIGZ1bmN0aW9uIEdyb3VwKG9wdGlvbnMpIHtcbiAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWVcbiAgICB0aGlzLmF4aXMgPSBvcHRpb25zLmF4aXNcbiAgICB0aGlzLmlkID0gdGhpcy5uYW1lICsgJy0nICsgdGhpcy5heGlzXG4gICAgdGhpcy53YXlwb2ludHMgPSBbXVxuICAgIHRoaXMuY2xlYXJUcmlnZ2VyUXVldWVzKClcbiAgICBncm91cHNbdGhpcy5heGlzXVt0aGlzLm5hbWVdID0gdGhpc1xuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBHcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICB0aGlzLndheXBvaW50cy5wdXNoKHdheXBvaW50KVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBHcm91cC5wcm90b3R5cGUuY2xlYXJUcmlnZ2VyUXVldWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50cmlnZ2VyUXVldWVzID0ge1xuICAgICAgdXA6IFtdLFxuICAgICAgZG93bjogW10sXG4gICAgICBsZWZ0OiBbXSxcbiAgICAgIHJpZ2h0OiBbXVxuICAgIH1cbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgR3JvdXAucHJvdG90eXBlLmZsdXNoVHJpZ2dlcnMgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBkaXJlY3Rpb24gaW4gdGhpcy50cmlnZ2VyUXVldWVzKSB7XG4gICAgICB2YXIgd2F5cG9pbnRzID0gdGhpcy50cmlnZ2VyUXVldWVzW2RpcmVjdGlvbl1cbiAgICAgIHZhciByZXZlcnNlID0gZGlyZWN0aW9uID09PSAndXAnIHx8IGRpcmVjdGlvbiA9PT0gJ2xlZnQnXG4gICAgICB3YXlwb2ludHMuc29ydChyZXZlcnNlID8gYnlSZXZlcnNlVHJpZ2dlclBvaW50IDogYnlUcmlnZ2VyUG9pbnQpXG4gICAgICBmb3IgKHZhciBpID0gMCwgZW5kID0gd2F5cG9pbnRzLmxlbmd0aDsgaSA8IGVuZDsgaSArPSAxKSB7XG4gICAgICAgIHZhciB3YXlwb2ludCA9IHdheXBvaW50c1tpXVxuICAgICAgICBpZiAod2F5cG9pbnQub3B0aW9ucy5jb250aW51b3VzIHx8IGkgPT09IHdheXBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgd2F5cG9pbnQudHJpZ2dlcihbZGlyZWN0aW9uXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNsZWFyVHJpZ2dlclF1ZXVlcygpXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIEdyb3VwLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICB0aGlzLndheXBvaW50cy5zb3J0KGJ5VHJpZ2dlclBvaW50KVxuICAgIHZhciBpbmRleCA9IFdheXBvaW50LkFkYXB0ZXIuaW5BcnJheSh3YXlwb2ludCwgdGhpcy53YXlwb2ludHMpXG4gICAgdmFyIGlzTGFzdCA9IGluZGV4ID09PSB0aGlzLndheXBvaW50cy5sZW5ndGggLSAxXG4gICAgcmV0dXJuIGlzTGFzdCA/IG51bGwgOiB0aGlzLndheXBvaW50c1tpbmRleCArIDFdXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIEdyb3VwLnByb3RvdHlwZS5wcmV2aW91cyA9IGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgdGhpcy53YXlwb2ludHMuc29ydChieVRyaWdnZXJQb2ludClcbiAgICB2YXIgaW5kZXggPSBXYXlwb2ludC5BZGFwdGVyLmluQXJyYXkod2F5cG9pbnQsIHRoaXMud2F5cG9pbnRzKVxuICAgIHJldHVybiBpbmRleCA/IHRoaXMud2F5cG9pbnRzW2luZGV4IC0gMV0gOiBudWxsXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIEdyb3VwLnByb3RvdHlwZS5xdWV1ZVRyaWdnZXIgPSBmdW5jdGlvbih3YXlwb2ludCwgZGlyZWN0aW9uKSB7XG4gICAgdGhpcy50cmlnZ2VyUXVldWVzW2RpcmVjdGlvbl0ucHVzaCh3YXlwb2ludClcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgR3JvdXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgdmFyIGluZGV4ID0gV2F5cG9pbnQuQWRhcHRlci5pbkFycmF5KHdheXBvaW50LCB0aGlzLndheXBvaW50cylcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy53YXlwb2ludHMuc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvZmlyc3QgKi9cbiAgR3JvdXAucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMud2F5cG9pbnRzWzBdXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2xhc3QgKi9cbiAgR3JvdXAucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy53YXlwb2ludHNbdGhpcy53YXlwb2ludHMubGVuZ3RoIC0gMV1cbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgR3JvdXAuZmluZE9yQ3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBncm91cHNbb3B0aW9ucy5heGlzXVtvcHRpb25zLm5hbWVdIHx8IG5ldyBHcm91cChvcHRpb25zKVxuICB9XG5cbiAgV2F5cG9pbnQuR3JvdXAgPSBHcm91cFxufSgpKVxuOyhmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyIFdheXBvaW50ID0gd2luZG93LldheXBvaW50XG5cbiAgZnVuY3Rpb24gaXNXaW5kb3coZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50ID09PSBlbGVtZW50LndpbmRvd1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0V2luZG93KGVsZW1lbnQpIHtcbiAgICBpZiAoaXNXaW5kb3coZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50LmRlZmF1bHRWaWV3XG4gIH1cblxuICBmdW5jdGlvbiBOb0ZyYW1ld29ya0FkYXB0ZXIoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmhhbmRsZXJzID0ge31cbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUuaW5uZXJIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXNXaW4gPSBpc1dpbmRvdyh0aGlzLmVsZW1lbnQpXG4gICAgcmV0dXJuIGlzV2luID8gdGhpcy5lbGVtZW50LmlubmVySGVpZ2h0IDogdGhpcy5lbGVtZW50LmNsaWVudEhlaWdodFxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLnByb3RvdHlwZS5pbm5lcldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlzV2luID0gaXNXaW5kb3codGhpcy5lbGVtZW50KVxuICAgIHJldHVybiBpc1dpbiA/IHRoaXMuZWxlbWVudC5pbm5lcldpZHRoIDogdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoXG4gIH1cblxuICBOb0ZyYW1ld29ya0FkYXB0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGVsZW1lbnQsIGxpc3RlbmVycywgaGFuZGxlcikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGVuZCA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldXG4gICAgICAgIGlmICghaGFuZGxlciB8fCBoYW5kbGVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBldmVudFBhcnRzID0gZXZlbnQuc3BsaXQoJy4nKVxuICAgIHZhciBldmVudFR5cGUgPSBldmVudFBhcnRzWzBdXG4gICAgdmFyIG5hbWVzcGFjZSA9IGV2ZW50UGFydHNbMV1cbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudFxuXG4gICAgaWYgKG5hbWVzcGFjZSAmJiB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV0gJiYgZXZlbnRUeXBlKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcnMoZWxlbWVudCwgdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdW2V2ZW50VHlwZV0sIGhhbmRsZXIpXG4gICAgICB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV1bZXZlbnRUeXBlXSA9IFtdXG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50VHlwZSkge1xuICAgICAgZm9yICh2YXIgbnMgaW4gdGhpcy5oYW5kbGVycykge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcnMoZWxlbWVudCwgdGhpcy5oYW5kbGVyc1tuc11bZXZlbnRUeXBlXSB8fCBbXSwgaGFuZGxlcilcbiAgICAgICAgdGhpcy5oYW5kbGVyc1tuc11bZXZlbnRUeXBlXSA9IFtdXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5hbWVzcGFjZSAmJiB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV0pIHtcbiAgICAgIGZvciAodmFyIHR5cGUgaW4gdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVycyhlbGVtZW50LCB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV1bdHlwZV0sIGhhbmRsZXIpXG4gICAgICB9XG4gICAgICB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV0gPSB7fVxuICAgIH1cbiAgfVxuXG4gIC8qIEFkYXB0ZWQgZnJvbSBqUXVlcnkgMS54IG9mZnNldCgpICovXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgdmFyIHdpbiA9IGdldFdpbmRvdyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudClcbiAgICB2YXIgcmVjdCA9IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xuICAgICAgcmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0XG4gICAgfVxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgdmFyIGV2ZW50UGFydHMgPSBldmVudC5zcGxpdCgnLicpXG4gICAgdmFyIGV2ZW50VHlwZSA9IGV2ZW50UGFydHNbMF1cbiAgICB2YXIgbmFtZXNwYWNlID0gZXZlbnRQYXJ0c1sxXSB8fCAnX19kZWZhdWx0J1xuICAgIHZhciBuc0hhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdID0gdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdIHx8IHt9XG4gICAgdmFyIG5zVHlwZUxpc3QgPSBuc0hhbmRsZXJzW2V2ZW50VHlwZV0gPSBuc0hhbmRsZXJzW2V2ZW50VHlwZV0gfHwgW11cblxuICAgIG5zVHlwZUxpc3QucHVzaChoYW5kbGVyKVxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgaGFuZGxlcilcbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUub3V0ZXJIZWlnaHQgPSBmdW5jdGlvbihpbmNsdWRlTWFyZ2luKSB7XG4gICAgdmFyIGhlaWdodCA9IHRoaXMuaW5uZXJIZWlnaHQoKVxuICAgIHZhciBjb21wdXRlZFN0eWxlXG5cbiAgICBpZiAoaW5jbHVkZU1hcmdpbiAmJiAhaXNXaW5kb3codGhpcy5lbGVtZW50KSkge1xuICAgICAgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICAgIGhlaWdodCArPSBwYXJzZUludChjb21wdXRlZFN0eWxlLm1hcmdpblRvcCwgMTApXG4gICAgICBoZWlnaHQgKz0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5tYXJnaW5Cb3R0b20sIDEwKVxuICAgIH1cblxuICAgIHJldHVybiBoZWlnaHRcbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUub3V0ZXJXaWR0aCA9IGZ1bmN0aW9uKGluY2x1ZGVNYXJnaW4pIHtcbiAgICB2YXIgd2lkdGggPSB0aGlzLmlubmVyV2lkdGgoKVxuICAgIHZhciBjb21wdXRlZFN0eWxlXG5cbiAgICBpZiAoaW5jbHVkZU1hcmdpbiAmJiAhaXNXaW5kb3codGhpcy5lbGVtZW50KSkge1xuICAgICAgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICAgIHdpZHRoICs9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUubWFyZ2luTGVmdCwgMTApXG4gICAgICB3aWR0aCArPSBwYXJzZUludChjb21wdXRlZFN0eWxlLm1hcmdpblJpZ2h0LCAxMClcbiAgICB9XG5cbiAgICByZXR1cm4gd2lkdGhcbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUuc2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3aW4gPSBnZXRXaW5kb3codGhpcy5lbGVtZW50KVxuICAgIHJldHVybiB3aW4gPyB3aW4ucGFnZVhPZmZzZXQgOiB0aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdFxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLnByb3RvdHlwZS5zY3JvbGxUb3AgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgd2luID0gZ2V0V2luZG93KHRoaXMuZWxlbWVudClcbiAgICByZXR1cm4gd2luID8gd2luLnBhZ2VZT2Zmc2V0IDogdGhpcy5lbGVtZW50LnNjcm9sbFRvcFxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuXG4gICAgZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBvYmopIHtcbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG9ialtrZXldXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXRcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gYXJncy5sZW5ndGg7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgbWVyZ2UoYXJnc1swXSwgYXJnc1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGFyZ3NbMF1cbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5pbkFycmF5ID0gZnVuY3Rpb24oZWxlbWVudCwgYXJyYXksIGkpIHtcbiAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IC0xIDogYXJyYXkuaW5kZXhPZihlbGVtZW50LCBpKVxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLmlzRW1wdHlPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IDAgKi9cbiAgICBmb3IgKHZhciBuYW1lIGluIG9iaikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBXYXlwb2ludC5hZGFwdGVycy5wdXNoKHtcbiAgICBuYW1lOiAnbm9mcmFtZXdvcmsnLFxuICAgIEFkYXB0ZXI6IE5vRnJhbWV3b3JrQWRhcHRlclxuICB9KVxuICBXYXlwb2ludC5BZGFwdGVyID0gTm9GcmFtZXdvcmtBZGFwdGVyXG59KCkpXG47XG5cbi8qKiovIH0sXG4vKiAxNTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7IC8vIGZvciBub24gRVMyMDE1IGVudmlyb25tZW50c1xuX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBsYXp5bG9hZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xudmFyIHN0b3BPdGhlclZpZGVvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xudmFyIGZsb2F0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcbnZhciBpbml0TGlnaHRib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcbnZhciB0cmFja2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXG52YXIgdm90aW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cbnZhciBhZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuLy8gaGVhZGVyIGJpZGRlcnM7IGVhY2ggcmV0dXJucyBhIHNpbmdsZSBiaWRkZXIgb2JqZWN0IG9yIGFuIGFycmF5IG9mIHRoZW1cbnZhciBiaWRkZXJzID0ge1xuICAgIHJ1Ymljb246IF9fd2VicGFja19yZXF1aXJlX18oNjApLFxuICAgIGFvbDogX193ZWJwYWNrX3JlcXVpcmVfXyg1OCksXG4gICAgYXBwbmV4dXM6IF9fd2VicGFja19yZXF1aXJlX18oNTkpXG59O1xuXG4vLyBsZWZ0IHJhaWwgaXMgc3BlY2lhbFxudmFyIGxlZnRSYWlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cbmV2ZW50cy5vbmNlKCdjb250ZW50UmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgbGVmdFJhaWwuc2V0dXAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJCgnI3NpdGUtaGVhZGVyJykub3V0ZXJIZWlnaHQoKTtcbiAgICB9KTtcbn0pO1xuXG4vLyBzdGFydCBzZXR1cFxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cbmFkcy5zZXR1cCh7XG4gICAgYmlkZGVyczogW10uY29uY2F0KGJpZGRlcnMucnViaWNvbikuY29uY2F0KGJpZGRlcnMuYW9sKS5jb25jYXQoYmlkZGVycy5hcHBuZXh1cylcbn0pO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuXG4gICAgZnVuY3Rpb24gbG9hZEluaXRpYWxDb250ZW50KCkge1xuICAgICAgICBldmVudHMudHJpZ2dlcignY29udGVudFJlYWR5Jyk7XG4gICAgICAgIGV2ZW50cy50cmlnZ2VyKCdpbml0aWFsQ29udGVudExvYWRlZCcsICRib2R5KTtcbiAgICB9XG5cbiAgICB0cmFja2luZy5zZXRDYXRlZ29yeSgkYm9keS5kYXRhKCd0cmFja2NhdGVnb3J5JykgfHwgJ1Vua25vd24nKTtcblxuICAgIGxhenlsb2FkLmxvYWRTY3JpcHRzKCk7XG4gICAgbGF6eWxvYWQubG9hZEltYWdlcygpO1xuICAgIGxhenlsb2FkLmxvYWRCYWNrZ3JvdW5kSW1hZ2VzKCk7XG4gICAgbGF6eWxvYWQubG9hZE9uQXN5bmNDb250ZW50TG9hZGVkKCk7XG5cbiAgICAvLyByZW1vdmUgdGhlIE9PUCBhZCBmb3IgZ29vZ2xlIHRyYWZmaWNcbiAgICBpZiAoLTEgIT09IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdwYXJ0bmVyPWdvb2dsZV9jaGFydHMnKSkge1xuICAgICAgICAkKCcjZGZwLWFkLW8xJykucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLy8gbG9hZCBpbml0aWFsIGFkcyBhbmQgdGhlbiBjb25maWd1cmVcbiAgICBhZHMuc2V0dXAoKS50aGVuKGxvYWRJbml0aWFsQ29udGVudCwgbG9hZEluaXRpYWxDb250ZW50KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCRib2R5LmlzKCcuYXJ0aWNsZS1wYWdlJykpIHtcbiAgICAgICAgICAgIGFkcy5zdGlja3lMZWFkZXJib2FyZCh7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgZGlkbid0IHN1YnRyYWN0IG9uZSwgdGhlIHdheXBvaW50XG4gICAgICAgICAgICAgICAgLy8gd291bGQgdHJpZ2dlciBpbW1lZGlhdGVseSB1cG9uIGxvYWRcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJyNzaXRlLWhlYWRlcicpLm91dGVySGVpZ2h0KCkgLSAxO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYXZvaWRDb2xsaXNpb246ICcuYXJ0aWNsZV9fYm9keSwgLm1haW4tbWVkaWFfX3ZpZGVvJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGluaXRMaWdodGJveCgpO1xuXG4gICAgc3RvcE90aGVyVmlkZW9zKCk7XG5cbiAgICB2YXIgY2FsbEZsb2F0ZXIgPSBmdW5jdGlvbiBjYWxsRmxvYXRlcigpIHtcbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTAyNCkgcmV0dXJuO1xuICAgICAgICAkKCcuanMtZmxvYXRlcicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZmxvYXRlcih7XG4gICAgICAgICAgICAgICAgd3JhcHBlcjogdGhpcyxcbiAgICAgICAgICAgICAgICB1bmZsb2F0U2VsZWN0b3I6ICcuanMtZmxvYXRlcidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZXZlbnRzLm9uKCdjb250ZW50TG9hZGVkJywgY2FsbEZsb2F0ZXIpO1xuXG4gICAgaWYgKCQoJ1tkYXRhLWNvbnRlbnQtdHlwZV0nKS5hdHRyKCdkYXRhLWNvbnRlbnQtdHlwZScpID09PSAneWVhckVuZENoYXJ0Jykge1xuICAgICAgICB2b3RpbmcuZ2V0Vm90ZXMoKTtcbiAgICAgICAgdm90aW5nLnNldHVwKCk7XG4gICAgfVxufSk7XG5cbi8qKiovIH1cbl0sWzE1N10pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBob21lLmJ1bmRsZS5qcyIsInZhciBzdG9yZSAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpXG4gICwgdWlkICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgU3ltYm9sICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbFxuICAsIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3drcy5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2FuLW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fY29yZS5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faGlkZS5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2NvZi5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2hhcy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2lzLW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19pdGVyYXRvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIGhhcyAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgU1JDICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJykoJ3NyYycpXG4gICwgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJ1xuICAsICR0b1N0cmluZyA9IEZ1bmN0aW9uW1RPX1NUUklOR11cbiAgLCBUUEwgICAgICAgPSAoJycgKyAkdG9TdHJpbmcpLnNwbGl0KFRPX1NUUklORyk7XG5cbnJlcXVpcmUoJy4vX2NvcmUnKS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpO1xufTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywga2V5LCB2YWwsIHNhZmUpe1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJztcbiAgaWYoaXNGdW5jdGlvbiloYXModmFsLCAnbmFtZScpIHx8IGhpZGUodmFsLCAnbmFtZScsIGtleSk7XG4gIGlmKE9ba2V5XSA9PT0gdmFsKXJldHVybjtcbiAgaWYoaXNGdW5jdGlvbiloYXModmFsLCBTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgaWYoTyA9PT0gZ2xvYmFsKXtcbiAgICBPW2tleV0gPSB2YWw7XG4gIH0gZWxzZSB7XG4gICAgaWYoIXNhZmUpe1xuICAgICAgZGVsZXRlIE9ba2V5XTtcbiAgICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihPW2tleV0pT1trZXldID0gdmFsO1xuICAgICAgZWxzZSBoaWRlKE8sIGtleSwgdmFsKTtcbiAgICB9XG4gIH1cbi8vIGFkZCBmYWtlIEZ1bmN0aW9uI3RvU3RyaW5nIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZVxufSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIHRoaXNbU1JDXSB8fCAkdG9TdHJpbmcuY2FsbCh0aGlzKTtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3JlZGVmaW5lLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2N0eC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2RlZmluZWQuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIHJlZGVmaW5lICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gfHwgKGdsb2JhbFtuYW1lXSA9IHt9KSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCBleHBQcm90byAgPSBleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KVxuICAgICwga2V5LCBvd24sIG91dCwgZXhwO1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSAob3duID8gdGFyZ2V0IDogc291cmNlKVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgZXhwID0gSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIGlmKHRhcmdldClyZWRlZmluZSh0YXJnZXQsIGtleSwgb3V0LCB0eXBlICYgJGV4cG9ydC5VKTtcbiAgICAvLyBleHBvcnRcbiAgICBpZihleHBvcnRzW2tleV0gIT0gb3V0KWhpZGUoZXhwb3J0cywga2V5LCBleHApO1xuICAgIGlmKElTX1BST1RPICYmIGV4cFByb3RvW2tleV0gIT0gb3V0KWV4cFByb3RvW2tleV0gPSBvdXQ7XG4gIH1cbn07XG5nbG9iYWwuY29yZSA9IGNvcmU7XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2V4cG9ydC5qc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZHAuanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3RvLWxlbmd0aC5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gd2UgYXNzdW1lIGdvb2dsZXRhZywgZ29vZ2xldGFnLmNtZCwgUEdNLCBhbmQgUEdNLmFkc1xuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxuY29uc3QgZXZlbnRzID0gcmVxdWlyZSgncGdtZmUvZXZlbnRzJyk7XG5jb25zdCBjcmVhdGVTY3JpcHRzID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvY3JlYXRlLXNjcmlwdCcpO1xuXG5jb25zdCBnbG9iYWxEZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJyk7XG5jb25zdCBkZWJ1ZyA9IGdsb2JhbERlYnVnKCdkZnAnKTtcbmNvbnN0IGRlYnVnRGZwQXV0byA9IGdsb2JhbERlYnVnKCdkZnBhdXRvJyk7XG5cbmNvbnN0IHNsb3RzID0gcmVxdWlyZSgnLi9zbG90cycpO1xuY29uc3QgZGZwID0gcmVxdWlyZSgnLi9kZnAnKTtcbmNvbnN0IHNsb3RSZW5kZXJFbmRlZEhhbmRsZXIgPSByZXF1aXJlKCcuL3Nsb3QtcmVuZGVyLWVuZGVkJyk7XG5jb25zdCBzZXR1cFJlc3BvbnNpdmVBZHMgPSByZXF1aXJlKCcuL3Jlc3BvbnNpdmUnKTtcbmNvbnN0IHByZWJpZCA9IHJlcXVpcmUoJy4vcHJlYmlkJyk7XG5jb25zdCByZXRhcmdldFBhZ2UgPSByZXF1aXJlKCcuL3JldGFyZ2V0LXBhZ2UnKTtcbmNvbnN0IHN0aWNreUxlYWRlcmJvYXJkID0gcmVxdWlyZSgnLi9zdGlja3ktbGVhZGVyYm9hcmQnKTtcbmNvbnN0IGNvbnRlbnRBZHMgPSByZXF1aXJlKCcuL2NvbnRlbnQtYWRzJyk7XG5cbmZ1bmN0aW9uIHNldHVwKG9wdGlvbnMpIHtcbiAgICAvLyBsZXQncyBkbyB0aGlzIG9uY2UuXG4gICAgd2luZG93Lmdvb2dsZXRhZyA9IHdpbmRvdy5nb29nbGV0YWcgfHwge307XG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQgPSB3aW5kb3cuZ29vZ2xldGFnLmNtZCB8fCBbXTtcblxuICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7XG4gICAgICAgIGJpZGRlcnM6IFtdXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICBwcmViaWQucmVnaXN0ZXJCaWRkZXIob3B0aW9ucy5iaWRkZXJzKTtcblxuICAgIHdpbmRvdy5nb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIE9PUCBhZCBpbiB0aGUgc291cmNlLCBkZWZpbmUgaXQuXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGZwLWFkLW8xJykpIHtcbiAgICAgICAgICAgIHNsb3RzLmFkZCgnZGZwLWFkLW8xJywgd2luZG93Lmdvb2dsZXRhZy5kZWZpbmVPdXRPZlBhZ2VTbG90KHdpbmRvdy5QR00uYWRzLmFkVW5pdCwgJ2RmcC1hZC1vMScpLmFkZFNlcnZpY2Uod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKSkpO1xuICAgICAgICAgICAgZGVidWcoJ2RlZmluZWQgbzEgYWQnKTtcbiAgICAgICAgICAgIGRlYnVnRGZwQXV0bygnZGZwYXV0bycsICdvMScsIHt9LCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmFkZEV2ZW50TGlzdGVuZXIoJ3Nsb3RSZW5kZXJFbmRlZCcsIHNsb3RSZW5kZXJFbmRlZEhhbmRsZXIpO1xuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmVuYWJsZVNpbmdsZVJlcXVlc3QoKTtcbiAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5kaXNhYmxlSW5pdGlhbExvYWQoKTtcbiAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5jb2xsYXBzZUVtcHR5RGl2cygpO1xuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLmVuYWJsZVNlcnZpY2VzKCk7XG4gICAgfSk7XG5cbiAgICBzZXR1cFJlc3BvbnNpdmVBZHMoJ3NjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY3cHgpIGFuZCAobWF4LXdpZHRoOiAxMDIzcHgpJyk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICBjcmVhdGVTY3JpcHRzLmNyZWF0ZVNjcmlwdFRhZygnLy93d3cuZ29vZ2xldGFnc2VydmljZXMuY29tL3RhZy9qcy9ncHQuanMnKSxcbiAgICAgICAgY3JlYXRlU2NyaXB0cy5jcmVhdGVTY3JpcHRUYWcoJy8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2FheDIvYW16bl9hZHMuanMnKVxuICAgIF0pO1xufVxuXG4vLyBwcml2YXRlIGZ1bmN0aW9uXG5mdW5jdGlvbiBkZWZpbmVDb250ZW50QWRzKCRjb250ZW50KSB7XG4gICAgdmFyIGRhdGE7XG5cbiAgICAkY29udGVudC5maW5kKCcuZGZwLWFkOm5vdChbaWRdKScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXS50ZXh0Q29udGVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRlYnVnKCdjb3VsZCBub3QgZXh0cmFjdCBhZCBkYXRhIGZyb20nLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaWQgPSBfLnVuaXF1ZUlkKCdkZnAtYWQtJyk7XG4gICAgICAgIGRmcC5kZWZpbmUodGhpcy5pZCwgZGF0YSwgdGhpcyk7XG4gICAgfSk7XG59XG5cbi8vIHByaXZhdGUgZnVuY3Rpb25cbmZ1bmN0aW9uIGRpc3BsYXlBZHMoaWRzKSB7XG4gICAgLy8gYWNjZXB0cyBzdHJpbmcsIGpRdWVyeSBvYmplY3QsIG9yIGFycmF5XG4gICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgaWRzKSBpZHMgPSBbaWRzXTtcbiAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShpZHMpKSB7XG4gICAgICAgIGlkcyA9IF8ucGx1Y2soaWRzLmZpbHRlcignLmRmcC1hZCcpLCAnaWQnKTtcbiAgICB9XG5cbiAgICAvLyB3ZSBwdXNoIHByZWJpZCBpbnRvIHRoZSBnb29nbGV0YWcuY21kIHF1ZXVlXG4gICAgLy8gc28gdGhhdCB3ZSBrbm93IGFkcyB3aWxsIGJlIGRlZmluZWQgYmVmb3JlIHRoZXkncmUgcHJlYmlkXG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaCgoKSA9PiBwcmViaWQuYXVjdGlvbihpZHMpLnRoZW4oKCkgPT4gZGZwLnJlZnJlc2goaWRzKSkpO1xufVxuXG4vLyBwcml2YXRlIGZ1bmN0aW9uXG5mdW5jdGlvbiBkaXNwbGF5SW5pdGlhbEFkcygkY29udGVudCkge1xuICAgIC8vIGZvciB0aGUgaW5pdGlhbCBsb2FkLCB3aXRoICQoJ2JvZHknKSwgd2UgbmVlZCB0b1xuICAgIC8vIGNhdGNoIGFueSBhZHMgdGhhdCBhcmVuJ3QgY292ZXJlZCBieSBCYWNrYm9uZSB2aWV3c1xuICAgIGRlZmluZUNvbnRlbnRBZHMoJGNvbnRlbnQpO1xuICAgIGRpc3BsYXlBZHMoJGNvbnRlbnQuZmluZCgnLmRmcC1hZCcpKTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUNvbnRlbnRBZHMoY29udGVudFR5cGUsICRjb250ZW50KSB7XG4gICAgY29uc3QgJGFkcyA9IGNvbnRlbnRBZHMoY29udGVudFR5cGUpKCRjb250ZW50KTtcbiAgICBpZiAoIC8vIGlmIHdlIGFyZSByZWZyZXNoaW5nIG8xIGFuZCBoYXZlIGEgamV0cGFjayBmdW5jdGlvbiwgZmlyZSBpdFxuICAgICAgICAkYWRzLmZpbHRlcignLmRmcC1hZC1vMScpLmxlbmd0aCAmJlxuICAgICAgICAnZnVuY3Rpb24nID09PSB0eXBlb2Ygd2luZG93LmpwVW5sb2FkVW5pdHNcbiAgICApIHdpbmRvdy5qcFVubG9hZFVuaXRzKCk7XG5cbiAgICByZXRhcmdldFBhZ2UoJGNvbnRlbnQpO1xuICAgIGRpc3BsYXlBZHMoJGFkcyk7XG59XG5cbmV2ZW50cy5vbignY29udGVudExvYWRlZCcsIGRlZmluZUNvbnRlbnRBZHMpO1xuZXZlbnRzLm9uKCdpbml0aWFsQ29udGVudExvYWRlZCcsIGRpc3BsYXlJbml0aWFsQWRzKTtcblxuLy8gYWxsb3cgSlMgdG8gaG9vayBpbnRvIHRoZSBhZHMgc3lzdGVtXG5ldmVudHMub24oJ2FkVGVtcGxhdGVzSW5zZXJ0ZWQnLCBkZWZpbmVDb250ZW50QWRzKTtcbmV2ZW50cy5vbignY29udGVudERpc3BsYXllZCcsIGRpc3BsYXlDb250ZW50QWRzKTtcbmV2ZW50cy5vbigndXJsQ2hhbmdlOnBvc3QnLCBkaXNwbGF5Q29udGVudEFkcyk7XG5cbi8vIERFUFJFQ0FURUQhIERPIE5PVCBVU0UgVEhJUyBFVkVOVCEgRE8gTk9UIEVWRU4gVEhJTksgQUJPVVQgSVQhXG4vLyBAdG9kbyBERUxFVEUgVEhJUyBCVUxMU0hJVCBBUyBTT09OIEFTIEJCIEdBTExFUklFUyBBUkUgUkVXUklUVEVOXG5ldmVudHMub24oJ2FkczpyZWZyZXNoJywgZGZwLnJlZnJlc2gpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzZXR1cDogXy5vbmNlKHNldHVwKSxcbiAgICBzdGlja3lMZWFkZXJib2FyZDogc3RpY2t5TGVhZGVyYm9hcmQsXG4gICAgcmVmcmVzaDogZGlzcGxheUFkc1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9hZHMvaW5kZXguanMiLCIvLyBwcm92aWRlIGFuIGFycmF5IG9mIERGUCBhZCBzbG90c1xuY29uc3Qgc2xvdHMgPSB7fTtcbmNvbnN0IHNpemVzID0ge307XG5cbmZ1bmN0aW9uIGFkZChpZCwgc2xvdCwgc2l6ZU1hcHBpbmcpIHtcbiAgICBzbG90c1tpZF0gPSBzbG90O1xuICAgIHNpemVzW2lkXSA9IHNpemVNYXBwaW5nO1xufVxuXG5mdW5jdGlvbiBnZXQoaWQpIHtcbiAgICByZXR1cm4gc2xvdHNbaWRdIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFNsb3RTaXplcyhpZCkge1xuICAgIHJldHVybiBzaXplc1tpZF0gfHwgW107XG59XG5cbmZ1bmN0aW9uIGdldFNsb3RUYXJnZXRpbmcoaWQpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7fTtcblxuICAgIHNsb3RzW2lkXS5nZXRUYXJnZXRpbmdLZXlzKCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcGFyYW1zW2tleV0gPSBzbG90c1tpZF0uZ2V0VGFyZ2V0aW5nKGtleSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFyYW1zO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBhZGQ6IGFkZCxcbiAgICBnZXQ6IGdldCxcbiAgICBnZXRTbG90U2l6ZXM6IGdldFNsb3RTaXplcyxcbiAgICBnZXRTbG90VGFyZ2V0aW5nOiBnZXRTbG90VGFyZ2V0aW5nXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9zbG90cy5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0Q29udGVudERhdGEoJGNvbnRlbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogJGNvbnRlbnQuZGF0YSgnaWQnKSxcbiAgICAgICAgY2Fub25pY2FsOiAkY29udGVudC5kYXRhKCdjYW5vbmljYWwnKSxcbiAgICAgICAgdGl0bGU6ICRjb250ZW50LmRhdGEoJ3BhZ2UtdGl0bGUnKSxcbiAgICAgICAgYXV0aG9yczogJGNvbnRlbnQuZmluZCgnLmpzLWF1dGhvcnMtbGlzdCcpLnRleHQoKS5yZXBsYWNlKC8oXlxccyt8XFxzKyQpL2csICcnKSxcbiAgICAgICAgcHVibGlzaERhdGU6ICRjb250ZW50LmZpbmQoJy5qcy1wdWJsaXNoLWRhdGUnKS5kYXRhKCdwdWJkYXRlLXZhbHVlJyksXG4gICAgICAgIGFuYWx5dGljc0NhdGVnb3J5OiAkY29udGVudC5kYXRhKCdhbmFseXRpY3MtY2F0ZWdvcnknKSxcbiAgICAgICAgYW5hbHl0aWNzVGFnczogJGNvbnRlbnQuZGF0YSgnYW5hbHl0aWNzLXRhZ3MnKSxcbiAgICAgICAgY2hhcnRiZWF0U2VjdGlvbjogJGNvbnRlbnQuZGF0YSgnY2hhcnRiZWF0U2VjdGlvbicpLFxuICAgIH07XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL3RyYWNraW5nL2NvbnRlbnQtaW5mby5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKVxuICAvLyBFUzMgd3JvbmcgaGVyZVxuICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fY2xhc3NvZi5qc1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJylcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3RvLWludGVnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fdWlkLmpzXG4vLyBtb2R1bGUgaWQgPSAzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBCcmFuZCByZXBvcyBzaG91bGQgc2V0IGEgY2F0ZWdvcnkgYXQgcGFnZSBsb2FkIHRpbWUgd2l0aFxuLy9cbi8vICAgICB0cmFja2luZy5zZXRDYXRlZ29yeSgnY2F0ZWdvcnknKTtcbi8vICAgICB0cmFja2luZy5zZXRBY3Rpb24oJ2FjdGlvbicpOyAvLyAob3B0aW9uYWwpXG4vL1xuLy8gQnJhbmQgcmVwb3MgY2FuIGNhbGwgdHJhY2tpbmcgaW4gb25lIG9mIDIgd2F5czpcbi8vXG4vLyAgICAgZXZlbnRzLnRyaWdnZXIoJ3RyYWNrRXZlbnQnLCB2YWx1ZXMpO1xuLy8gICAgIDxhIGhyZWY9XCIjXCIgZGF0YS10cmFja2xhYmVsPVwiVHJhY2tpbmcgTGFiZWxcIj48L2E+XG5cbmNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxuY29uc3QgZXZlbnRzID0gcmVxdWlyZSgncGdtZmUvZXZlbnRzJyk7XG5cbmNvbnN0IHRyYWNraW5nRnVuY3Rpb25zID0gcmVxdWlyZSgnLi9mdW5jdGlvbnMnKTtcbmNvbnN0IHRyYWNrQ29tc2NvcmUgPSByZXF1aXJlKCcuL2NvbXNjb3JlJyk7XG5jb25zdCB0cmFja0dhID0gcmVxdWlyZSgnLi9nYScpO1xuY29uc3QgdHJhY2tDaGFydGJlYXQgPSByZXF1aXJlKCcuL2NoYXJ0YmVhdCcpO1xuXG5jb25zdCBnZXRDb250ZW50SW5mbyA9IHJlcXVpcmUoJy4vY29udGVudC1pbmZvJyk7XG5cbndpbmRvdy5fZ2FxID0gd2luZG93Ll9nYXEgfHwgW107XG53aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcblxuLy8gTWFrZSB0cmFja2luZyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgUEdNLmV2ZW50cyBBUEkuLi5cbmV2ZW50cy5vbigndHJhY2tFdmVudCcsIHRyYWNraW5nRnVuY3Rpb25zLnRyYWNrRXZlbnQpO1xuZXZlbnRzLm9uKCd0cmFja1BhZ2V2aWV3JywgdHJhY2tpbmdGdW5jdGlvbnMudHJhY2tQYWdldmlldyk7XG5cbi8vIC4uLmFuZCBhbGxvdyB0ZW1wbGF0ZXMgdG8gdXNlIHRyYWNraW5nIGRlY2xhcmF0aXZlbHkuXG4kKCdib2R5Jykub24oJ2NsaWNrJywgJ2FbZGF0YS10cmFja2xhYmVsXSwgYnV0dG9uW2RhdGEtdHJhY2tsYWJlbF0sIFtkYXRhLXRyYWNrbGFiZWxdIGE6bm90KFtkYXRhLXRyYWNrbGFiZWxdKSwgW2RhdGEtdHJhY2tsYWJlbF0gYnV0dG9uOm5vdChbZGF0YS10cmFja2xhYmVsXSknLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgdmFyIHRyYWNrTGFiZWwgPSAkdGhpcy5hdHRyKCdkYXRhLXRyYWNrbGFiZWwnKSB8fFxuICAgICAgICAkdGhpcy5wYXJlbnRzKCdbZGF0YS10cmFja2xhYmVsXScpLmF0dHIoJ2RhdGEtdHJhY2tsYWJlbCcpIHx8XG4gICAgICAgIGZhbHNlXG4gICAgO1xuICAgIHZhciB0cmFja0FjdGlvbiA9ICR0aGlzLmF0dHIoJ2RhdGEtdHJhY2thY3Rpb24nKSB8fFxuICAgICAgICAkdGhpcy5wYXJlbnRzKCdbZGF0YS10cmFja2FjdGlvbl0nKS5hdHRyKCdkYXRhLXRyYWNrYWN0aW9uJykgfHxcbiAgICAgICAgZmFsc2VcbiAgICA7XG5cbiAgICAvLyBhbGwgY2xpY2sgdHJhY2tpbmcgc2V0cyBub25JbnRlcmFjdGlvbiB0byB0cnVlXG4gICAgdmFyIHRyYWNraW5nRGF0YSA9IHtub25JbnRlcmFjdGlvbjogdHJ1ZX07XG4gICAgaWYgKGZhbHNlICE9PSB0cmFja0xhYmVsKSAgdHJhY2tpbmdEYXRhLmxhYmVsICA9IHRyYWNrTGFiZWw7XG4gICAgaWYgKGZhbHNlICE9PSB0cmFja0FjdGlvbikgdHJhY2tpbmdEYXRhLmFjdGlvbiA9IHRyYWNrQWN0aW9uO1xuXG4gICAgZXZlbnRzLnRyaWdnZXIoJ3RyYWNrRXZlbnQnLCB0cmFja2luZ0RhdGEpO1xufSk7XG5cbi8vIGFzeW5jIHBhZ2UgbG9hZCBldmVudHNcbndpbmRvdy5QR00uZXZlbnRzLm9uKCd1cmxDaGFuZ2U6cG9zdCcsIHRyYWNrR2EpO1xud2luZG93LlBHTS5ldmVudHMub24oJ3VybENoYW5nZTpwb3N0JywgdHJhY2tDb21zY29yZSk7XG53aW5kb3cuUEdNLmV2ZW50cy5vbigndXJsQ2hhbmdlOnBvc3QnLCB0cmFja0NoYXJ0YmVhdCk7XG5cbi8vIGNvbXNjb3JlIG9ubHlcbndpbmRvdy5QR00uZXZlbnRzLm9uKCd0cmFja0NvbXNjb3JlJywgdHJhY2tDb21zY29yZSk7XG5cbi8vIEB0b2RvIGRlbGV0ZT9cbmV2ZW50cy5vbignYXN5bmNDb250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgZXZlbnRzLnRyaWdnZXIoJ3RyYWNrRXZlbnQnLCB7XG4gICAgICAgIGFjdGlvbjogJ1Njcm9sbCcsXG4gICAgICAgIGxhYmVsOiAnTmV3IENvbnRlbnQgTG9hZGVkJ1xuICAgIH0pO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNldENhdGVnb3J5OiB0cmFja2luZ0Z1bmN0aW9ucy5zZXRDYXRlZ29yeSxcbiAgICBzZXRBY3Rpb246IHRyYWNraW5nRnVuY3Rpb25zLnNldEFjdGlvbixcbiAgICBnZXRDb250ZW50SW5mbzogZ2V0Q29udGVudEluZm9cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvdHJhY2tpbmcvaW5kZXguanMiLCIvLyBwZ21mZSBjb250ZW50XG5jb25zdCBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcblxuY29uc3QgdHlwZXMgPSByZXF1aXJlKCcuL3R5cGVzJyk7XG5jb25zdCBlbWJlZHMgPSByZXF1aXJlKCcuL2VtYmVkcycpO1xuXG5jb25zdCBkaXJlY3RSZW5kZXIgPSByZXF1aXJlKCcuL2RpcmVjdC1yZW5kZXInKTtcbmNvbnN0IGluUGFnZUxvYWRpbmcgPSByZXF1aXJlKCcuL2luLXBhZ2UtbG9hZGluZycpO1xuY29uc3QgdGhpcmRQYXJ0eSA9IHJlcXVpcmUoJy4vdGhpcmQtcGFydHknKTtcblxuY29uc3QgYXJ0aWNsZSA9IHJlcXVpcmUoJy4vdHlwZXMvY3B0Jyk7XG5jb25zdCBsb25nZm9ybSA9IHJlcXVpcmUoJy4vdHlwZXMvbG9uZ2Zvcm0nKTtcbmNvbnN0IHRvcGljSW5kZXggPSByZXF1aXJlKCcuL3R5cGVzL3RvcGljLWluZGV4Jyk7XG5jb25zdCB0b3BpY1NwbGFzaCA9IHJlcXVpcmUoJy4vdHlwZXMvdG9waWMtc3BsYXNoJyk7XG5cbmNvbnN0IHByb21vID0gcmVxdWlyZSgnLi9lbWJlZHMvY29udGVudC1wcm9tbycpO1xuY29uc3QgZ2FsbGVyeSA9IHJlcXVpcmUoJy4vZW1iZWRzL2dhbGxlcnknKTtcbmNvbnN0IGltYWdlID0gcmVxdWlyZSgnLi9lbWJlZHMvaW1hZ2UnKTtcbmNvbnN0IHJlYWRtb3JlID0gcmVxdWlyZSgnLi9lbWJlZHMvcmVhZG1vcmUnKTtcbmNvbnN0IGh5YnJpZFBsYXllciA9IHJlcXVpcmUoJy4vZW1iZWRzL2h5YnJpZC1wbGF5ZXInKTtcblxuLy8gcmVnaXN0ZXIgdGhlIHR5cGVzIHdlIGhhdmVcbnR5cGVzLnJlZ2lzdGVyKCdzdGFuZGFyZCcsIHt9KTsgLy8gbm8gc3BlY2lhbCBiZWhhdmlvclxudHlwZXMucmVnaXN0ZXIoJ2FydGljbGUnLCBhcnRpY2xlKTtcbnR5cGVzLnJlZ2lzdGVyKCdsb25nZm9ybScsIGxvbmdmb3JtKTtcbnR5cGVzLnJlZ2lzdGVyKCd0b3BpY0luZGV4JywgdG9waWNJbmRleCk7XG50eXBlcy5yZWdpc3RlcigndG9waWNTcGxhc2gnLCB0b3BpY1NwbGFzaCk7XG5cbi8vIHJlZ2lzdGVyIHRoZSBlbWJlZHMgd2UgaGF2ZVxuZW1iZWRzLnJlZ2lzdGVyKCdwcm9tbycsIHByb21vLk1vZGVsLCBwcm9tby5WaWV3KTtcbmVtYmVkcy5yZWdpc3RlcignZ2FsbGVyeScsIGdhbGxlcnkuTW9kZWwsIGdhbGxlcnkuVmlldyk7XG5lbWJlZHMucmVnaXN0ZXIoJ2ltYWdlJywgaW1hZ2UuTW9kZWwsIGltYWdlLlZpZXcpO1xuZW1iZWRzLnJlZ2lzdGVyKCdyZWFkbW9yZScsIHJlYWRtb3JlLk1vZGVsLCByZWFkbW9yZS5WaWV3KTtcbmVtYmVkcy5yZWdpc3RlcignaHlicmlkUGxheWVyJywgaHlicmlkUGxheWVyLk1vZGVsLCBoeWJyaWRQbGF5ZXIuVmlldyk7XG5cbi8vIHNldCB1cCBldmVudCBoYW5kbGluZyBmb3IgYWxsIGFzeW5jIHBhZ2VzXG5ldmVudHMub24oJ2NvbnRlbnRSZWFkeScsIGZ1bmN0aW9uKCkge1xuICAgIGV2ZW50cy50cmlnZ2VyKCdjb250ZW50TG9hZGVkJywgdHlwZXMuYXR0YWNoKCkuYWRkKGVtYmVkcy5hdHRhY2goKSkpO1xufSk7XG5cbmV2ZW50cy5vbignYXN5bmNDb250ZW50UmVhZHknLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7XG4gICAgZXZlbnRzLnRyaWdnZXIuYXBwbHkoZXZlbnRzLCBbJ2NvbnRlbnRSZWFkeSddLmNvbmNhdChhcmdzKSk7XG4gICAgZXZlbnRzLnRyaWdnZXIuYXBwbHkoZXZlbnRzLCBbJ2FzeW5jQ29udGVudExvYWRlZCddLmNvbmNhdChhcmdzKSk7XG4gICAgdGhpcmRQYXJ0eSgpO1xufSk7XG5cbi8vIGFzeW5jIHBhZ2UgdHlwZXNcbi8vIGluLXBhZ2UgbG9hZGluZ1xuaW5QYWdlTG9hZGluZy5pbml0KCk7XG5cbi8vIGluZmluaXRlIHNjcm9sbFxuZXZlbnRzLm9uKCdjb250ZW50TG9hZGVkJywgZGlyZWN0UmVuZGVyKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdHlwZXM6IHR5cGVzLFxuICAgIGVtYmVkczogZW1iZWRzXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvaW5kZXguanMiLCJjb25zdCBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbmNvbnN0IG1vZGVsID0ge1xuICAgIExlZnRSYWlsSXRlbTogQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHt9KSxcbiAgICBUb3BpY0Jsb2NrOiBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe30pLFxuICAgIEFkOiBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe30pLFxuICAgIFRhYm9vbGE6IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7fSlcbn07XG5cbm1vZGVsLkxlZnRSYWlsSXRlbUNvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgbW9kZWw6IG1vZGVsLkxlZnRSYWlsSXRlbVxufSk7XG5cbm1vZGVsLkxlZnRSYWlsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiggZGF0YSApIHtcbiAgICAgICAgdGhpcy5zZXQoJ29wdGlvbnMnLCBkYXRhLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNldCgndGl0bGUnLCBkYXRhLnRpdGxlICk7XG5cbiAgICAgICAgdmFyIG1haW5MaXN0ID0gbmV3IG1vZGVsLkxlZnRSYWlsSXRlbUNvbGxlY3Rpb24oIGRhdGEubWFpbkxpc3QgKTtcblxuICAgICAgICAvLyB0aGUgaW5pdGlhbCBpdGVtIG1pZ2h0IGFwcGVhciBpbiB0aGUgbWFpbkxpc3Qgb3IgaXQgbWlnaHQgbm90LlxuICAgICAgICAvLyByZW1vdmluZyBpdCBhbmQgYWRkaW5nIGl0IGF0IGluZGV4IDAgZ2l2ZXMgdXMgY29uc2lzdGVuY3lcbiAgICAgICAgLy8gc28gd2UgY2FuIGNob29zZSB0byBzaG93IG9yIG5vdCBzaG93IGJhc2VkIG9uIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgIHZhciBpbml0aWFsSWQgPSBkYXRhLmluaXRpYWxJdGVtLmlkO1xuICAgICAgICBtYWluTGlzdC5yZW1vdmUoIGluaXRpYWxJZCApO1xuICAgICAgICBtYWluTGlzdC5hZGQoIGRhdGEuaW5pdGlhbEl0ZW0sIHthdDogMH0gKTtcblxuICAgICAgICB0aGlzLnNldCgnbWFpbkxpc3QnLCBtYWluTGlzdCApO1xuXG4gICAgICAgIGlmKCBkYXRhLnRvcGljQmxvY2sgKSB7XG4gICAgICAgICAgICB2YXIgdG9waWNCbG9ja0RhdGEgPSBuZXcgbW9kZWwuVG9waWNCbG9jayggZGF0YS50b3BpY0Jsb2NrICk7XG4gICAgICAgICAgICB0aGlzLnNldCgndG9waWNCbG9jaycsIHRvcGljQmxvY2tEYXRhICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuUEdNLmRlYnVnKCdsZWZ0UmFpbCcsICdubyB0b3BpYyBibG9jayBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRQYXRoQWZ0ZXJJZDogZnVuY3Rpb24oIGN1cnJlbnRJZCApIHtcbiAgICAgICAgY3VycmVudElkID0gcGFyc2VJbnQoY3VycmVudElkKTtcbiAgICAgICAgdmFyIG1haW5MaXN0ID0gdGhpcy5nZXQoJ21haW5MaXN0Jyk7XG4gICAgICAgIGlmKCBtYWluTGlzdC5sZW5ndGggPT09IDAgKSByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgIHZhciBuZXh0TW9kZWwgPSBtYWluTGlzdC5maW5kKCBmdW5jdGlvbiggaXRlbSApIHtcbiAgICAgICAgICAgIGlmKCBmb3VuZCApIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgZm91bmQgPSBpdGVtLmdldCgnaWQnKSA9PT0gY3VycmVudElkO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYoIHR5cGVvZiBuZXh0TW9kZWwgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRNb2RlbC5nZXQoJ3BhdGgnKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb2RlbDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2xlZnQtcmFpbC9tb2RlbC5qcyIsInZhciBjaGFyZW5jID0ge1xuICAvLyBVVEYtOCBlbmNvZGluZ1xuICB1dGY4OiB7XG4gICAgLy8gQ29udmVydCBhIHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBzdHJpbmdUb0J5dGVzOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHJldHVybiBjaGFyZW5jLmJpbi5zdHJpbmdUb0J5dGVzKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGEgc3RyaW5nXG4gICAgYnl0ZXNUb1N0cmluZzogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGNoYXJlbmMuYmluLmJ5dGVzVG9TdHJpbmcoYnl0ZXMpKSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEJpbmFyeSBlbmNvZGluZ1xuICBiaW46IHtcbiAgICAvLyBDb252ZXJ0IGEgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIHN0cmluZ1RvQnl0ZXM6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspXG4gICAgICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBzdHJpbmdcbiAgICBieXRlc1RvU3RyaW5nOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgZm9yICh2YXIgc3RyID0gW10sIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHN0ci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pKTtcbiAgICAgIHJldHVybiBzdHIuam9pbignJyk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNoYXJlbmM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY2hhcmVuYy9jaGFyZW5jLmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG52YXIgVU5TQ09QQUJMRVMgPSByZXF1aXJlKCcuL193a3MnKSgndW5zY29wYWJsZXMnKVxuICAsIEFycmF5UHJvdG8gID0gQXJyYXkucHJvdG90eXBlO1xuaWYoQXJyYXlQcm90b1tVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKXJlcXVpcmUoJy4vX2hpZGUnKShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICBBcnJheVByb3RvW1VOU0NPUEFCTEVTXVtrZXldID0gdHJ1ZTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19mYWlscy5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faHRtbC5qc1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIGhpZGUgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIEl0ZXJhdG9ycyAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCAkaXRlckNyZWF0ZSAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKVxuICAsIElURVJBVE9SICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICA9ICdrZXlzJ1xuICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG4gICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaChraW5kKXtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTXG4gICAgLCBWQUxVRVNfQlVHID0gZmFsc2VcbiAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgJG5hdGl2ZSAgICA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG4gICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuICAgICwgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmVcbiAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoJGFueU5hdGl2ZSl7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcbiAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKWhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2xpYnJhcnkuanNcbi8vIG1vZHVsZSBpZCA9IDQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3NoYXJlZC5qc1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaW52b2tlICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faW52b2tlJylcbiAgLCBodG1sICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19odG1sJylcbiAgLCBjZWwgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgc2V0VGFzayAgICAgICAgICAgID0gZ2xvYmFsLnNldEltbWVkaWF0ZVxuICAsIGNsZWFyVGFzayAgICAgICAgICA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZVxuICAsIE1lc3NhZ2VDaGFubmVsICAgICA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbFxuICAsIGNvdW50ZXIgICAgICAgICAgICA9IDBcbiAgLCBxdWV1ZSAgICAgICAgICAgICAgPSB7fVxuICAsIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnXG4gICwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24oKXtcbiAgdmFyIGlkID0gK3RoaXM7XG4gIGlmKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSl7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYoIXNldFRhc2sgfHwgIWNsZWFyVGFzayl7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pe1xuICAgIHZhciBhcmdzID0gW10sIGkgPSAxO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpe1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZihyZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcycpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgfSBlbHNlIGlmKE1lc3NhZ2VDaGFubmVsKXtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsO1xuICAgIHBvcnQgICAgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZihPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpe1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogICBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3Rhc2suanNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL190by1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuICogZW5xdWlyZS5qcyB2Mi4xLjEgLSBBd2Vzb21lIE1lZGlhIFF1ZXJpZXMgaW4gSmF2YVNjcmlwdFxuICogQ29weXJpZ2h0IChjKSAyMDE0IE5pY2sgV2lsbGlhbXMgLSBodHRwOi8vd2lja3kubmlsbGlhLm1zL2VucXVpcmUuanNcbiAqIExpY2Vuc2U6IE1JVCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApXG4gKi9cblxuOyhmdW5jdGlvbiAobmFtZSwgY29udGV4dCwgZmFjdG9yeSkge1xuXHR2YXIgbWF0Y2hNZWRpYSA9IHdpbmRvdy5tYXRjaE1lZGlhO1xuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShtYXRjaE1lZGlhKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKGNvbnRleHRbbmFtZV0gPSBmYWN0b3J5KG1hdGNoTWVkaWEpKTtcblx0XHR9KTtcblx0fVxuXHRlbHNlIHtcblx0XHRjb250ZXh0W25hbWVdID0gZmFjdG9yeShtYXRjaE1lZGlhKTtcblx0fVxufSgnZW5xdWlyZScsIHRoaXMsIGZ1bmN0aW9uIChtYXRjaE1lZGlhKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG4gICAgLypqc2hpbnQgdW51c2VkOmZhbHNlICovXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBpdGVyYXRpbmcgb3ZlciBhIGNvbGxlY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIGZuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZWFjaChjb2xsZWN0aW9uLCBmbikge1xuICAgICAgICB2YXIgaSAgICAgID0gMCxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgY29udDtcblxuICAgICAgICBmb3IoaTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb250ID0gZm4oY29sbGVjdGlvbltpXSwgaSk7XG4gICAgICAgICAgICBpZihjb250ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvL2FsbG93IGVhcmx5IGV4aXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0YXJnZXQgb2JqZWN0IGlzIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IHRoZSBvYmplY3QgdW5kZXIgdGVzdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgYXJyYXksIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHRhcmdldCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRhcmdldCBvYmplY3QgaXMgYSBmdW5jdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHRhcmdldCB0aGUgb2JqZWN0IHVuZGVyIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGZ1bmN0aW9uLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxlZ2F0ZSB0byBoYW5kbGUgYSBtZWRpYSBxdWVyeSBiZWluZyBtYXRjaGVkIGFuZCB1bm1hdGNoZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMubWF0Y2ggY2FsbGJhY2sgZm9yIHdoZW4gdGhlIG1lZGlhIHF1ZXJ5IGlzIG1hdGNoZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy51bm1hdGNoXSBjYWxsYmFjayBmb3Igd2hlbiB0aGUgbWVkaWEgcXVlcnkgaXMgdW5tYXRjaGVkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMuc2V0dXBdIG9uZS10aW1lIGNhbGxiYWNrIHRyaWdnZXJlZCB0aGUgZmlyc3QgdGltZSBhIHF1ZXJ5IGlzIG1hdGNoZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRlZmVyU2V0dXA9ZmFsc2VdIHNob3VsZCB0aGUgc2V0dXAgY2FsbGJhY2sgYmUgcnVuIGltbWVkaWF0ZWx5LCByYXRoZXIgdGhhbiBmaXJzdCB0aW1lIHF1ZXJ5IGlzIG1hdGNoZWQ/XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gUXVlcnlIYW5kbGVyKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgIW9wdGlvbnMuZGVmZXJTZXR1cCAmJiB0aGlzLnNldHVwKCk7XG4gICAgfVxuICAgIFF1ZXJ5SGFuZGxlci5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvb3JkaW5hdGVzIHNldHVwIG9mIHRoZSBoYW5kbGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgc2V0dXAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKHRoaXMub3B0aW9ucy5zZXR1cCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZXR1cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvb3JkaW5hdGVzIHNldHVwIGFuZCB0cmlnZ2VyaW5nIG9mIHRoZSBoYW5kbGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb24gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICF0aGlzLmluaXRpYWxpc2VkICYmIHRoaXMuc2V0dXAoKTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tYXRjaCAmJiB0aGlzLm9wdGlvbnMubWF0Y2goKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY29vcmRpbmF0ZXMgdGhlIHVubWF0Y2ggZXZlbnQgZm9yIHRoZSBoYW5kbGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb2ZmIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudW5tYXRjaCAmJiB0aGlzLm9wdGlvbnMudW5tYXRjaCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhIGhhbmRsZXIgaXMgdG8gYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBkZWxlZ2F0ZXMgdG8gdGhlIGRlc3Ryb3kgb3IgdW5tYXRjaCBjYWxsYmFja3MsIGRlcGVuZGluZyBvbiBhdmFpbGFiaWxpdHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRlc3Ryb3kgPyB0aGlzLm9wdGlvbnMuZGVzdHJveSgpIDogdGhpcy5vZmYoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZGV0ZXJtaW5lcyBlcXVhbGl0eSBieSByZWZlcmVuY2UuXG4gICAgICAgICAqIGlmIG9iamVjdCBpcyBzdXBwbGllZCBjb21wYXJlIG9wdGlvbnMsIGlmIGZ1bmN0aW9uLCBjb21wYXJlIG1hdGNoIGNhbGxiYWNrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBmdW5jdGlvbn0gW3RhcmdldF0gdGhlIHRhcmdldCBmb3IgY29tcGFyaXNvblxuICAgICAgICAgKi9cbiAgICAgICAgZXF1YWxzIDogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zID09PSB0YXJnZXQgfHwgdGhpcy5vcHRpb25zLm1hdGNoID09PSB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHNpbmdsZSBtZWRpYSBxdWVyeSwgbWFuYWdlcyBpdCdzIHN0YXRlIGFuZCByZWdpc3RlcmVkIGhhbmRsZXJzIGZvciB0aGlzIHF1ZXJ5XG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgdGhlIG1lZGlhIHF1ZXJ5IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzVW5jb25kaXRpb25hbD1mYWxzZV0gd2hldGhlciB0aGUgbWVkaWEgcXVlcnkgc2hvdWxkIHJ1biByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGNvbmRpdGlvbnMgYXJlIG1ldC4gUHJpbWFyaWx5IGZvciBoZWxwaW5nIG9sZGVyIGJyb3dzZXJzIGRlYWwgd2l0aCBtb2JpbGUtZmlyc3QgZGVzaWduXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVkaWFRdWVyeShxdWVyeSwgaXNVbmNvbmRpdGlvbmFsKSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgdGhpcy5pc1VuY29uZGl0aW9uYWwgPSBpc1VuY29uZGl0aW9uYWw7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tcWwgPSBtYXRjaE1lZGlhKHF1ZXJ5KTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbihtcWwpIHtcbiAgICAgICAgICAgIHNlbGYubXFsID0gbXFsO1xuICAgICAgICAgICAgc2VsZi5hc3Nlc3MoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tcWwuYWRkTGlzdGVuZXIodGhpcy5saXN0ZW5lcik7XG4gICAgfVxuICAgIE1lZGlhUXVlcnkucHJvdG90eXBlID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhZGQgYSBoYW5kbGVyIGZvciB0aGlzIHF1ZXJ5LCB0cmlnZ2VyaW5nIGlmIGFscmVhZHkgYWN0aXZlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBoYW5kbGVyXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIubWF0Y2ggY2FsbGJhY2sgZm9yIHdoZW4gcXVlcnkgaXMgYWN0aXZhdGVkXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyLnVubWF0Y2hdIGNhbGxiYWNrIGZvciB3aGVuIHF1ZXJ5IGlzIGRlYWN0aXZhdGVkXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyLnNldHVwXSBjYWxsYmFjayBmb3IgaW1tZWRpYXRlIGV4ZWN1dGlvbiB3aGVuIGEgcXVlcnkgaGFuZGxlciBpcyByZWdpc3RlcmVkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhbmRsZXIuZGVmZXJTZXR1cD1mYWxzZV0gc2hvdWxkIHRoZSBzZXR1cCBjYWxsYmFjayBiZSBkZWZlcnJlZCB1bnRpbCB0aGUgZmlyc3QgdGltZSB0aGUgaGFuZGxlciBpcyBtYXRjaGVkP1xuICAgICAgICAgKi9cbiAgICAgICAgYWRkSGFuZGxlciA6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHZhciBxaCA9IG5ldyBRdWVyeUhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2gocWgpO1xuXG4gICAgICAgICAgICB0aGlzLm1hdGNoZXMoKSAmJiBxaC5vbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW1vdmVzIHRoZSBnaXZlbiBoYW5kbGVyIGZyb20gdGhlIGNvbGxlY3Rpb24sIGFuZCBjYWxscyBpdCdzIGRlc3Ryb3kgbWV0aG9kc1xuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3QgfHwgZnVuY3Rpb259IGhhbmRsZXIgdGhlIGhhbmRsZXIgdG8gcmVtb3ZlXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVIYW5kbGVyIDogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgICAgIGVhY2goaGFuZGxlcnMsIGZ1bmN0aW9uKGgsIGkpIHtcbiAgICAgICAgICAgICAgICBpZihoLmVxdWFscyhoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBoLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFoYW5kbGVycy5zcGxpY2UoaSwxKTsgLy9yZW1vdmUgZnJvbSBhcnJheSBhbmQgZXhpdCBlYWNoIGVhcmx5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSBtZWRpYSBxdWVyeSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIG1hdGNoXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIG1lZGlhIHF1ZXJ5IGNhbiBiZSBjb25zaWRlcmVkIGEgbWF0Y2gsIGZhbHNlIG90aGVyd2lzZVxuICAgICAgICAgKi9cbiAgICAgICAgbWF0Y2hlcyA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubXFsLm1hdGNoZXMgfHwgdGhpcy5pc1VuY29uZGl0aW9uYWw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsZWFycyBhbGwgaGFuZGxlcnMgYW5kIHVuYmluZHMgZXZlbnRzXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhciA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMubXFsLnJlbW92ZUxpc3RlbmVyKHRoaXMubGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5sZW5ndGggPSAwOyAvL2NsZWFyIGFycmF5XG4gICAgICAgIH0sXG5cbiAgICAgICAgLypcbiAgICAgICAgICogQXNzZXNzZXMgdGhlIHF1ZXJ5LCB0dXJuaW5nIG9uIGFsbCBoYW5kbGVycyBpZiBpdCBtYXRjaGVzLCB0dXJuaW5nIHRoZW0gb2ZmIGlmIGl0IGRvZXNuJ3QgbWF0Y2hcbiAgICAgICAgICovXG4gICAgICAgIGFzc2VzcyA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMubWF0Y2hlcygpID8gJ29uJyA6ICdvZmYnO1xuXG4gICAgICAgICAgICBlYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyW2FjdGlvbl0oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgZm9yIHJlZ2lzdHJhdGlvbiBvZiBxdWVyeSBoYW5kbGVycy5cbiAgICAgKiBNYW5hZ2VzIHRoZSBxdWVyeSBoYW5kbGVyJ3Mgc3RhdGUgYW5kIGlzIHJlc3BvbnNpYmxlIGZvciB3aXJpbmcgdXAgYnJvd3NlciBldmVudHNcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lZGlhUXVlcnlEaXNwYXRjaCAoKSB7XG4gICAgICAgIGlmKCFtYXRjaE1lZGlhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hdGNoTWVkaWEgbm90IHByZXNlbnQsIGxlZ2FjeSBicm93c2VycyByZXF1aXJlIGEgcG9seWZpbGwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucXVlcmllcyA9IHt9O1xuICAgICAgICB0aGlzLmJyb3dzZXJJc0luY2FwYWJsZSA9ICFtYXRjaE1lZGlhKCdvbmx5IGFsbCcpLm1hdGNoZXM7XG4gICAgfVxuXG4gICAgTWVkaWFRdWVyeURpc3BhdGNoLnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXJzIGEgaGFuZGxlciBmb3IgdGhlIGdpdmVuIG1lZGlhIHF1ZXJ5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxIHRoZSBtZWRpYSBxdWVyeVxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBBcnJheSB8fCBGdW5jdGlvbn0gb3B0aW9ucyBlaXRoZXIgYSBzaW5nbGUgcXVlcnkgaGFuZGxlciBvYmplY3QsIGEgZnVuY3Rpb24sIG9yIGFuIGFycmF5IG9mIHF1ZXJ5IGhhbmRsZXJzXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMubWF0Y2ggZmlyZWQgd2hlbiBxdWVyeSBtYXRjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLnVubWF0Y2hdIGZpcmVkIHdoZW4gYSBxdWVyeSBpcyBubyBsb25nZXIgbWF0Y2hlZFxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5zZXR1cF0gZmlyZWQgd2hlbiBoYW5kbGVyIGZpcnN0IHRyaWdnZXJlZFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRlZmVyU2V0dXA9ZmFsc2VdIHdoZXRoZXIgc2V0dXAgc2hvdWxkIGJlIHJ1biBpbW1lZGlhdGVseSBvciBkZWZlcnJlZCB1bnRpbCBxdWVyeSBpcyBmaXJzdCBtYXRjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZERlZ3JhZGU9ZmFsc2VdIHdoZXRoZXIgdGhpcyBwYXJ0aWN1bGFyIG1lZGlhIHF1ZXJ5IHNob3VsZCBhbHdheXMgcnVuIG9uIGluY2FwYWJsZSBicm93c2Vyc1xuICAgICAgICAgKi9cbiAgICAgICAgcmVnaXN0ZXIgOiBmdW5jdGlvbihxLCBvcHRpb25zLCBzaG91bGREZWdyYWRlKSB7XG4gICAgICAgICAgICB2YXIgcXVlcmllcyAgICAgICAgID0gdGhpcy5xdWVyaWVzLFxuICAgICAgICAgICAgICAgIGlzVW5jb25kaXRpb25hbCA9IHNob3VsZERlZ3JhZGUgJiYgdGhpcy5icm93c2VySXNJbmNhcGFibGU7XG5cbiAgICAgICAgICAgIGlmKCFxdWVyaWVzW3FdKSB7XG4gICAgICAgICAgICAgICAgcXVlcmllc1txXSA9IG5ldyBNZWRpYVF1ZXJ5KHEsIGlzVW5jb25kaXRpb25hbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vbm9ybWFsaXNlIHRvIG9iamVjdCBpbiBhbiBhcnJheVxuICAgICAgICAgICAgaWYoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7IG1hdGNoIDogb3B0aW9ucyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIWlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gW29wdGlvbnNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWFjaChvcHRpb25zLCBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgcXVlcmllc1txXS5hZGRIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bnJlZ2lzdGVycyBhIHF1ZXJ5IGFuZCBhbGwgaXQncyBoYW5kbGVycywgb3IgYSBzcGVjaWZpYyBoYW5kbGVyIGZvciBhIHF1ZXJ5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxIHRoZSBtZWRpYSBxdWVyeSB0byB0YXJnZXRcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3QgfHwgZnVuY3Rpb259IFtoYW5kbGVyXSBzcGVjaWZpYyBoYW5kbGVyIHRvIHVucmVnaXN0ZXJcbiAgICAgICAgICovXG4gICAgICAgIHVucmVnaXN0ZXIgOiBmdW5jdGlvbihxLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJpZXNbcV07XG5cbiAgICAgICAgICAgIGlmKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgaWYoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5yZW1vdmVIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnkuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucXVlcmllc1txXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfTtcblxuXHRyZXR1cm4gbmV3IE1lZGlhUXVlcnlEaXNwYXRjaCgpO1xuXG59KSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2VucXVpcmUuanMvZGlzdC9lbnF1aXJlLmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgZW5xdWlyZSA9IHJlcXVpcmUoJ2VucXVpcmUuanMnKTtcblxuY29uc3QgZXZlbnRzID0gcmVxdWlyZSgncGdtZmUvZXZlbnRzJyk7XG5jb25zdCBnbG9iYWxEZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJyk7XG5jb25zdCBkZWJ1Z0luaXQgPSBnbG9iYWxEZWJ1ZygnaW5pdCcpO1xuY29uc3QgZGVidWdJbmZpbml0ZSA9IGdsb2JhbERlYnVnKCdpbmZpbml0ZScpO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcCcpO1xuXG5sZXQgbW9kZWw7XG5cbmZ1bmN0aW9uIHNldHVwKG9mZnNldCkge1xuICAgIGNvbnN0ICRjb250YWluZXIgPSAkKCcuanMtbGVmdFJhaWwtY29udGFpbmVyJyk7XG5cbiAgICAvLyBiYWlsIGlmIHdlJ3JlIG5vdCBvbiBhIGxlZnRSYWlsIHBhZ2VcbiAgICBpZiAoJGNvbnRhaW5lci5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgZGVidWdJbml0KCdDb3VsZCBub3QgZmluZCBhIGxlZnRSYWlsIHRvIHNldCB1cC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIG1vZGVsID0gbmV3IGFwcC5Nb2RlbC5MZWZ0UmFpbChKU09OLnBhcnNlKCRjb250YWluZXIuZmluZCgnc2NyaXB0JykudGV4dCgpKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkZWJ1Z0luaXQoJ0Vycm9yIHBhcnNpbmcgc2NyaXB0IGxlZnRSYWlsIHNjcmlwdCcsIGUsICRjb250YWluZXIuZmluZCgnc2NyaXB0JykpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXBwLnN0YXJ0KCk7XG4gICAgZXZlbnRzLm9uKCdjb250ZW50TG9hZGVkJywgbGVmdFJhaWxJbmZpbml0ZVNjcm9sbCk7XG4gICAgJCgnLnNpdGUtZm9vdGVyJykuYWRkQ2xhc3MoJ3Blcm1hLWhpZGRlbicpO1xuICAgIHNldHVwU2Nyb2xsUHJvZ3Jlc3MoKTtcblxuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZW5xdWlyZS5yZWdpc3Rlcih3aW5kb3cuUEdNLm1lZGlhUXVlcmllcy5sYXJnZSwge1xuICAgICAgICBtYXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAobmV3IGFwcC5WaWV3LkxheW91dCgpKS5nZXRSZWdpb24oJ2xlZnRSYWlsJykuc2hvdyhuZXcgYXBwLlZpZXcuTGVmdFJhaWwoe1xuICAgICAgICAgICAgICAgIGxlZnRSYWlsTW9kZWw6IG1vZGVsLFxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiBhcHAuVmlld01vZGVsLkJlaGF2aW9yXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICRjb250YWluZXIud2F5cG9pbnQoJ3N0aWNreScsIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICAgICAgfSkuY3NzKCd0b3AnLCBvZmZzZXQpLnBhcmVudCgpLmNzcygnZmxvYXQnLCAnbGVmdCcpO1xuICAgICAgICB9LFxuICAgICAgICB1bm1hdGNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRjb250YWluZXIud2F5cG9pbnQoJ3Vuc3RpY2t5Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gYmluZCBoYW5kbGVycyBmb3IgcHJvZ3Jlc3MgYmFyc1xuZnVuY3Rpb24gc2V0dXBTY3JvbGxQcm9ncmVzcygpIHtcbiAgICBsZXQgcG9zaXRpb24gPSAkKCcuanMtbWFpbldlbGwgYXJ0aWNsZScpLmZpcnN0KCkucG9zaXRpb24oKS50b3A7XG4gICAgbGV0IGhlaWdodCA9ICQoJy5qcy1tYWluV2VsbCBhcnRpY2xlJykuZmlyc3QoKS5oZWlnaHQoKTtcbiAgICBsZXQgJHByb2dyZXNzID0gJCgnLnJhaWwtaXRlbV9fcHJvZ3Jlc3MnKS5maXJzdCgpXG4gICAgICAgIC5hdHRyKCdtYXgnLCBoZWlnaHQpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIE1hdGgubWluKDAsIHdpbmRvdy5wYWdlWU9mZnNldCAtIHBvc2l0aW9uKSlcbiAgICA7XG5cbiAgICAkKHdpbmRvdykuc2Nyb2xsKCBfLnRocm90dGxlKCBmdW5jdGlvbigpe1xuICAgICAgICAkcHJvZ3Jlc3MuYXR0cigndmFsdWUnLCBNYXRoLm1pbigwLCB3aW5kb3cucGFnZVlPZmZzZXQgLSBwb3NpdGlvbikpO1xuICAgIH0sIDEwMCApICk7XG5cbiAgICBldmVudHMub24oJ3VybENoYW5nZTpwb3N0JywgZnVuY3Rpb24oY29udGVudFR5cGUsICRjb250ZW50KSB7XG4gICAgICAgIHBvc2l0aW9uID0gJGNvbnRlbnQucG9zaXRpb24oKS50b3A7XG4gICAgICAgIGhlaWdodCA9ICRjb250ZW50LmhlaWdodCgpO1xuICAgICAgICAkcHJvZ3Jlc3MgPSAkKCcucmFpbC1pdGVtX19wcm9ncmVzcycpLmZpcnN0KClcbiAgICAgICAgICAgIC5hdHRyKCdtYXgnLCBoZWlnaHQpXG4gICAgICAgICAgICAuYXR0cigndmFsdWUnLCBNYXRoLm1pbigwLCB3aW5kb3cucGFnZVlPZmZzZXQgLSBwb3NpdGlvbikpXG4gICAgICAgIDtcbiAgICB9KTtcbn1cblxuLy8gY3VzdG9tIGltcGxlbWVudGF0aW9uIG9mIGF1dG9sb2FkIGRpcmVjdCByZW5kZXJcbmZ1bmN0aW9uIGxlZnRSYWlsSW5maW5pdGVTY3JvbGwoKSB7XG4gICAgdmFyICRhdXRvbG9hZHMgPSAkKCcuanMtbGVmdFJhaWwtbG9hZE5ld0NvbnRlbnQ6bm90KC5pcy1sZWZ0cmFpbC1hdXRvbG9hZC1wcm9jZXNzZWQpJyk7XG4gICAgaWYoICRhdXRvbG9hZHMubGVuZ3RoID09PSAwICkge1xuICAgICAgICAkKCcuc2l0ZS1mb290ZXInKS5yZW1vdmVDbGFzcygncGVybWEtaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJGF1dG9sb2Fkcy5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAkdGhpcy53YXlwb2ludChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJZCA9ICR0aGlzLmRhdGEoJ2N1cnJlbnRpZCcpO1xuICAgICAgICAgICAgY29uc3QgdXJsUHJlZml4ID0gJHRoaXMuZGF0YSgndXJscHJlZml4Jyk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGF0aCA9IG1vZGVsLmdldFBhdGhBZnRlcklkKGN1cnJlbnRJZCk7XG5cbiAgICAgICAgICAgIGlmKCB0eXBlb2YgY3VycmVudElkID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdXJsUHJlZml4ID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0luZmluaXRlKCdjdXJyZW50SWQgb3IgdXJsUHJlZml4IGFyZSBudWxsJywgY3VycmVudElkLCB1cmxQcmVmaXggKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCB0eXBlb2YgbW9kZWwgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgICAgICAgIGRlYnVnSW5maW5pdGUoJ2xlZnRSYWlsIG1vZGVsIGlzIHVuZGVmaW5lZCwgYmFpbGluZy4nICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggdHlwZW9mIG5leHRQYXRoID09PSAndW5kZWZpbmVkJyB8fCBuZXh0UGF0aCA9PT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0luZmluaXRlKCdsZWZ0UmFpbE1vZGVsIG5leHRQYXRoIGlzIHVuZGVmaW5lZCBmb3InLCBjdXJyZW50SWQgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhdXRvbG9hZC1zcGlubmVyJyk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmxQcmVmaXggKyBuZXh0UGF0aCArIChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggfHwgJycpLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnJlcGxhY2VXaXRoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LlBHTS5ldmVudHMudHJpZ2dlcignYXN5bmNDb250ZW50UmVhZHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAnMTUwJScsXG4gICAgICAgICAgICB0cmlnZ2VyT25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9KS5hZGRDbGFzcygnaXMtbGVmdHJhaWwtYXV0b2xvYWQtcHJvY2Vzc2VkJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNldHVwOiBfLm9uY2Uoc2V0dXApXG59O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9sZWZ0LXJhaWwvaW5kZXguanMiLCIvKiBqc2hpbnQgbm9kZTogdHJ1ZSwgZXN2ZXJzaW9uOiA2ICovXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIGRlYnVnID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZGVidWcnKSgnbGF6eWxvYWQnKTtcbnZhciBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcbnZhciBjcmVhdGVTY3JpcHRzID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvY3JlYXRlLXNjcmlwdCcpO1xuXG52YXIgaW1hZ2VzTG9hZGVkID0gcmVxdWlyZSgnaW1hZ2VzbG9hZGVkJyk7XG5pbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbiggJCApO1xuXG52YXIgc2tpcCA9IGRlYnVnLmdldERhdGEoKSA9PT0gJ3NraXAnO1xuaWYoIHNraXAgKSB7XG4gICAgZGVidWcoJ3NraXBwaW5nIGxhenlsb2FkJyk7XG59XG5cbnZhciBsb2FkSW1hZ2VzID0gZnVuY3Rpb24gbG9hZEltYWdlcygpIHtcbiAgICAkKCdpbWdbZGF0YS1zcmNdOm5vdCguanMtbGF6eWxvYWQtc2tpcCknKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgc3JjID0gJHRoaXMuYXR0cignZGF0YS1zcmMnKTtcbiAgICAgICAgZGVidWcoJ2ltZycsIHNyYyk7XG4gICAgICAgICR0aGlzLmF0dHIoJ3NyYycsIHNyYyk7XG5cbiAgICAgICAgLy8gYmUgaWRlbXBvdGVudFxuICAgICAgICAkdGhpcy5hdHRyKCdkYXRhLXNyY3dhcycsIHNyYyApO1xuICAgICAgICAkdGhpcy5hdHRyKCdkYXRhLXNyYycsIG51bGwgKTtcbiAgICB9KTtcbn07XG5cbnZhciBsb2FkU2NyaXB0cyA9IGZ1bmN0aW9uIGxvYWRTY3JpcHRzKCkge1xuICAgICQoJ3NjcmlwdFtkYXRhLXNyY10nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgc3JjID0gJHRoaXMuYXR0cignZGF0YS1zcmMnKTtcbiAgICAgICAgZGVidWcoJ3NjcmlwdCcsIHNyYyk7XG4gICAgICAgIC8vIHNjcmlwdCB0YWdzIHRoYXQgaGF2ZSB0aGVpciBzcmMgc2V0IGJlZm9yZSB3aW5kb3cubG9hZCB3aWxsIHdvcmtcbiAgICAgICAgLy8gYnV0IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZsb3cgc2V0dGluZyB0aGUgc3JjIGF0dHJpYnV0ZSB3aWxsIG5vdCBjYXVzZSB0aGVcbiAgICAgICAgLy8gcmVzb3VyY2UgdG8gYmUgZG93bmxvYWRlZCBhbmQgZXhlY3V0ZWQuXG4gICAgICAgIC8vIGNyZWYuIGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL3NwZWVkL3NjcmlwdC1sb2FkaW5nL1xuICAgICAgICAvLyBmb3IgbG90cyBtb3JlIGluZm9ybWF0aW9uIHRoYXQgaXMgcGVydGluZW50LCB0aG91Z2ggbm90IGRpcmVjdGx5IHJlbGF0ZWQuXG4gICAgICAgIGNyZWF0ZVNjcmlwdHMuY3JlYXRlU2NyaXB0KCBzcmMgKTtcblxuICAgICAgICAvLyBiZSBpZGVtcG90ZW50XG4gICAgICAgICR0aGlzLmF0dHIoJ2RhdGEtc3Jjd2FzJywgc3JjICk7XG4gICAgICAgICR0aGlzLmF0dHIoJ2RhdGEtc3JjJywgbnVsbCApO1xuICAgIH0pO1xufTtcblxudmFyIGxvYWRCYWNrZ3JvdW5kSW1hZ2VzID0gZnVuY3Rpb24gbG9hZEJhY2tncm91bmRJbWFnZXMoKSB7XG4gICAgJCgnW2RhdGEtYmdzcmNdJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgc3JjID0gJ3VybCgnICsgJCh0aGlzKS5hdHRyKCdkYXRhLWJnc3JjJykgKyAnKSc7XG4gICAgICAgIGRlYnVnKCdiYWNrZ3JvdW5kIGltYWdlJywgc3JjKTtcblxuICAgICAgICAkdGhpcy5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBzcmMpO1xuXG4gICAgICAgIC8vIGJlIGlkZW1wb3RlbnRcbiAgICAgICAgJHRoaXMuYXR0cignZGF0YS1iZ3NyY3dhcycsIHNyYyApO1xuICAgICAgICAkdGhpcy5hdHRyKCdkYXRhLWJnc3JjJywgbnVsbCApO1xuICAgIH0pO1xufTtcblxudmFyIGxvYWRTY3JpcHRUZW1wbGF0ZXMgPSBmdW5jdGlvbiBsb2FkU2NyaXB0VGVtcGxhdGVzKCBvcHRpb25zICkge1xuICAgIC8vIGFzc3VtcHRpb25zOlxuICAgIC8vIC0gdGhhdCBhbGwgb2YgdGhlIHNjcmlwdCB0ZW1wbGF0ZXMgYXBwZWFyIGluIHRoZSBET01cbiAgICAvLyAgIGJlZm9yZSB3aGVyZSB0aGUgdmlld3BvcnQgaXNcbiAgICAvLyAtIHRoYXQgdGhlIHNjcmlwdCB0ZW1wbGF0ZXMgYW5kIHRoZSBub24tbGF6eSBlbGVtZW50c1xuICAgIC8vICAgYXJlIHNpYmxpbmdzIGluIHRoZSBET01cbiAgICAvLyAtIHByb2JhYmx5IG90aGVyIHRoaW5nc1xuICAgIHZhciAkY29udGVudFNjcmlwdHMgPSAkKCdzY3JpcHQuanMtbGF6eWxvYWQtbm9zY3JvbGwnKTtcbiAgICBpZiAoJGNvbnRlbnRTY3JpcHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyBiYWlsIGlmIHRoaXMgaXMgYWxsIGlycmVsZXZhbnRcblxuICAgIHZhciAkZmlyc3ROb25MYXp5RWxlbWVudCA9ICRjb250ZW50U2NyaXB0cy5sYXN0KCkubmV4dCgpO1xuICAgIHZhciBzY3JvbGxUb0ZpcnN0Tm9uTGF6eSA9IHNjcm9sbFRvTWUoICRmaXJzdE5vbkxhenlFbGVtZW50LCBvcHRpb25zLm9mZnNldHRlciApO1xuXG4gICAgJGNvbnRlbnRTY3JpcHRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIHZhciAkbmV3ID0gJCgkdGhpcy5odG1sKCkucmVwbGFjZSgvc2NyaXB0VG9CZS9nLCAnc2NyaXB0JykpO1xuICAgICAgICAkdGhpcy5yZXBsYWNlV2l0aCgkbmV3KTtcbiAgICAgICAgJG5ldy5pbWFnZXNMb2FkZWQoKS5wcm9ncmVzcyggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY3JvbGxUb0ZpcnN0Tm9uTGF6eSgpO1xuICAgICAgICB9ICk7XG4gICAgfSk7XG4gICAgc2Nyb2xsVG9GaXJzdE5vbkxhenkoKTtcbn07XG5cbnZhciBzY3JvbGxUb01lID0gZnVuY3Rpb24oICRlbGVtZW50LCBidXRBbGxvd1Jvb21Gb3IgKSB7XG4gICAgaWYgKCRlbGVtZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuICQubm9vcDtcbiAgICB2YXIgb2Zmc2V0ID0gdHlwZW9mIGJ1dEFsbG93Um9vbUZvciAhPT0gJ3VuZGVmaW5lZCcgPyBidXRBbGxvd1Jvb21Gb3IuaGVpZ2h0KCkgOiAwO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsICRlbGVtZW50Lm9mZnNldCgpLnRvcCAtIG9mZnNldCApO1xuICAgIH07XG59O1xuXG52YXIgbG9hZE9uQXN5bmNDb250ZW50TG9hZGVkID0gc2tpcCA/IGZ1bmN0aW9uKCl7fSA6IGZ1bmN0aW9uKCkge1xuICAgIGV2ZW50cy5vbignYXN5bmNDb250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvYWRJbWFnZXMoKTtcbiAgICAgICAgbG9hZFNjcmlwdHMoKTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGxvYWRJbWFnZXM6IHNraXAgPyBmdW5jdGlvbigpe30gOiBsb2FkSW1hZ2VzLFxuICAgIGxvYWRTY3JpcHRzOiBza2lwID8gZnVuY3Rpb24oKXt9IDogbG9hZFNjcmlwdHMsXG4gICAgbG9hZEJhY2tncm91bmRJbWFnZXM6IHNraXAgPyBmdW5jdGlvbigpe30gOiBsb2FkQmFja2dyb3VuZEltYWdlcyxcbiAgICBsb2FkT25Bc3luY0NvbnRlbnRMb2FkZWQ6IHNraXAgPyBmdW5jdGlvbigpe30gOiBsb2FkT25Bc3luY0NvbnRlbnRMb2FkZWQsXG4gICAgbG9hZFNjcmlwdFRlbXBsYXRlczogc2tpcCA/IGZ1bmN0aW9uKCl7fSA6IGxvYWRTY3JpcHRUZW1wbGF0ZXNcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvbGF6eWxvYWQvbGF6eWxvYWQuanMiLCIvKiBqc2hpbnQgbm9kZTogdHJ1ZSwgZXN2ZXJzaW9uOiA2ICovXG4vLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ltYWtld2VidGhpbmdzL3dheXBvaW50cy9pc3N1ZXMvNDU4XG4vLyBhbHNvLCB3YXlwb2ludHMgaXNuJ3QgZXhwb3J0aW5nIGl0c2VsZiBhcyBhIGZ1bmN0aW9uXG4vLyBzbyBsYXRlciB3ZSByZWZlcmVuY2Ugd2luZG93LldheXBvaW50LiBpY2tcbnJlcXVpcmUoJ3dheXBvaW50cy9saWIvbm9mcmFtZXdvcmsud2F5cG9pbnRzLmpzJyk7XG52YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdwZ21mZS90b29scy9kZWJ1ZycpKCdmbG9hdGVyJyk7XG4vLyBnaXZlbiBhIHdyYXBwZXIgYW5kIGZsb2F0ZXIgZWxlbWVudFxuLy8gc2V0IHVwIHdheXBvaW50XG4vLyBvbiB3YXlwb2ludCBhbmQgZG93biwgZmxvYXQsIHN1cnJvdW5kIHdpdGggd3JhcHBlciB3aXRoIFhcbi8vIG9uIHdheXBvaW50IGFuZCB1cCwgdW5mbG9hdFxuLy8gbGlzdGVuIGZvciBjbGljayBvbiBvdGhlciB2aWRlbywgYW5kIHVuZmxvYXRcbi8vXG52YXIgbmV4dElkID0gMDtcbnZhciBhbGxGbG9hdGVycyA9IFtdO1xuXG52YXIgcmV0cnlUaW1lcyA9IFsyMDAsIDQwMCwgNDAwLCAyMDAwXTtcbnZhciB0b3RhbFdhaXQgPSByZXRyeVRpbWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xudmFyIGdldFZpZGVvT2JqZWN0ID0gZnVuY3Rpb24gZ2V0VmlkZW9PYmplY3QoIHZpZGVvSWQsIHJlcXVpcmVkLCBjYWxsYmFjaywgcmV0cmllcyA9IHJldHJ5VGltZXMubGVuZ3RoICkge1xuICAgIHZhciB2aWRlbyA9IHdpbmRvdy52aWRlb2pzICYmIHR5cGVvZiB3aW5kb3cudmlkZW9qcyA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3cudmlkZW9qcyh2aWRlb0lkKTtcbiAgICBpZiggdHlwZW9mIHZpZGVvICE9PSAndW5kZWZpbmVkJyAmJiAoIHJlcXVpcmVkID09PSBudWxsIHx8IHR5cGVvZiB2aWRlb1tyZXF1aXJlZF0gIT09ICd1bmRlZmluZWQnICkgKSB7XG4gICAgICAgIGNhbGxiYWNrKHZpZGVvKTtcbiAgICB9XG4gICAgZWxzZSBpZiggcmV0cmllcyA+PSAwICkge1xuICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGdldFZpZGVvT2JqZWN0KCB2aWRlb0lkLCByZXF1aXJlZCwgY2FsbGJhY2ssIC0tcmV0cmllcyApO1xuICAgICAgICB9LCByZXRyeVRpbWVzW3JldHJpZXNdICk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWJ1ZyggJ25vIHZpZGVvanMgb2JqZWN0IGZvdW5kIGZvciAnICsgdmlkZW9JZCArICcgYWZ0ZXIgJyArIHRvdGFsV2FpdCArICcgbWlsbGlzJyApO1xuICAgIH1cbn07XG5cbnZhciBGbG9hdGVyID0gZnVuY3Rpb24gRmxvYXRlciggJHdyYXBwZXIsIG9wdHMgKSB7XG4gICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdHM7XG4gICAgdmFyIHZpZGVvSWQgPSAkd3JhcHBlci5maW5kKCcudmlkZW8tanMnKS5hdHRyKCdpZCcpO1xuICAgIHZhciB2aWRlb1N0YXJ0VGltZSA9IDA7XG5cbiAgICAvL1ByZXBlbmQgdHJhbnNpdGlvbiBkaXYgZm9yIHN0eWxpbmcgdGhlIGFuaW1hdGlvblxuICAgICR3cmFwcGVyLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJqcy1mbG9hdGVyLXRyYW5zaXRpb25cIj48L2Rpdj4nKTtcblxuICAgIHRoaXMuY3JlYXRlV2F5cG9pbnQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB0aGlzLndheXBvaW50ID0gbmV3IHdpbmRvdy5XYXlwb2ludCh7XG4gICAgICAgICAgICBlbGVtZW50OiAkd3JhcHBlclswXSxcbiAgICAgICAgICAgIGhhbmRsZXI6IF8uYmluZChcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuICAgICAgICAgICAgICAgICAgICBpZiggZGlyZWN0aW9uID09PSAnZG93bicgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmbG9hdCBpZjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHZpZGVvIGlzIG5vdCBhdCBhbGwgaW5pdGlhbGl6ZWQgKG5vIGRpdiB3cmFwcGVyIGJ5IHZpZGVvanMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpdi5qcy1mbG9hdGVyLW1lZGlhID4gdmlkZW9bYXV0b3BsYXldJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPUiB0aGUgdmlkZW8gYWQgaXMgbm90IGluaXRpYWxpemVkIGFuZCBpcyBzZXQgdG8gYXV0b3BsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2W2F1dG9wbGF5PXRydWVdLnZqcy1pbWEzLW5vdC1wbGF5aW5nLXlldDpub3QoLnZqcy1pbWEzLXBhdXNlZCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9SIHRoZSB2aWRlbyBpcyBwbGF5aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpdi52anMtcGxheWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT1IgdGhlIGFkIGlzIHBsYXlpbmcgYW5kIG5vdCBwYXVzZWQgKGJyaWdodGNvdmUvdmlkZW9KUyBpcyBsYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYudmpzLWFkLXBsYXlpbmc6bm90KC52anMtaW1hMy1wYXVzZWQpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHNlbGVjdG9ycy5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICR3cmFwcGVyLmZpbmQoc2VsZWN0b3IpLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoJ25vdCBmbG9hdGluZyBkdWUgdG8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbihzZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoc2VsLCAkKHNlbCkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Zygkd3JhcHBlci5odG1sKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB0aGlzICksXG4gICAgICAgICAgICBvZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMC41ICogdGhpcy5lbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZmxvYXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZGVidWcoJ2Zsb2F0aW5nJyk7XG4gICAgICAgICR3cmFwcGVyLmZpbmQoJy5qcy1mbG9hdGVyLW1lZGlhJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZmxvYXRlcl9fY2xvc2UgZmEgZmEtY2xvc2UganMtZmxvYXRlci1jbG9zZVwiPjwvZGl2PicpO1xuICAgICAgICAkd3JhcHBlci5maW5kKCcuanMtZmxvYXRlci1tZWRpYScpLmFkZENsYXNzKCdmbG9hdGluZycpO1xuICAgICAgICAkd3JhcHBlci5maW5kKCcuanMtZmxvYXRlci10cmFuc2l0aW9uJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgIC8vRm9yIHRoZSBGYWRlXG4gICAgICAgICR3cmFwcGVyLmZpbmQoJy5qcy1mbG9hdGVyLW1lZGlhJykuYWRkQ2xhc3MoXCJ0cmFuc2l0aW9uaW5nXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAkd3JhcHBlci5maW5kKCcuanMtZmxvYXRlci1tZWRpYScpLnJlbW92ZUNsYXNzKFwidHJhbnNpdGlvbmluZ1wiKTtcbiAgICAgICAgfSw1MCk7XG5cbiAgICAgICAgZ2V0VmlkZW9PYmplY3QoIHZpZGVvSWQsICdtZWRpYWluZm8nLCBmdW5jdGlvbih2aWRlbykge1xuICAgICAgICAgICAgdmlkZW8ud2lkdGgoNDIwKTtcbiAgICAgICAgICAgIHZpZGVvLmhlaWdodCgyNDApO1xuXG4gICAgICAgICAgICAvLyBBbmFseXplXG4gICAgICAgICAgICB2aWRlb1N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB3aW5kb3cuUEdNLmV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50Jywge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3N0aWNreSBzdGFydCcsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFt2aWRlby5tZWRpYWluZm8uaWQsIHZpZGVvLm1lZGlhaW5mby5uYW1lXS5qb2luKCcgLSAnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIHRoaXMudW5mbG9hdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkZWJ1ZygndW5mbG9hdGluZycpO1xuXG4gICAgICAgIGlmKCR3cmFwcGVyLmZpbmQoJy5mbG9hdGluZycpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgJHdyYXBwZXIuZmluZCgnLmZsb2F0ZXJfX2Nsb3NlJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAkd3JhcHBlci5maW5kKCcuanMtZmxvYXRlci1tZWRpYScpLnJlbW92ZUNsYXNzKCdmbG9hdGluZycpO1xuICAgICAgICAgICAgJHdyYXBwZXIuZmluZCgnLmpzLWZsb2F0ZXItdHJhbnNpdGlvbicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgZ2V0VmlkZW9PYmplY3QoIHZpZGVvSWQsICdtZWRpYWluZm8nLCBmdW5jdGlvbih2aWRlbykge1xuICAgICAgICAgICAgICAgIHZpZGVvLndpZHRoKCdhdXRvJyk7XG4gICAgICAgICAgICAgICAgdmlkZW8uaGVpZ2h0KCdhdXRvJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbmFseXplXG4gICAgICAgICAgICAgICAgd2luZG93LlBHTS5ldmVudHMudHJpZ2dlcigndHJhY2tFdmVudCcsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnc3RpY2t5IGNsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbdmlkZW8ubWVkaWFpbmZvLmlkLCB2aWRlby5tZWRpYWluZm8ubmFtZV0uam9pbignIC0gJyksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBNYXRoLnJvdW5kKChEYXRlLm5vdygpIC0gdmlkZW9TdGFydFRpbWUpLzEwMDApXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgJHdyYXBwZXIub24oIFwiY2xpY2tcIiwgJy5mbG9hdGVyX19jbG9zZScsIHsgZmxvYXRlcjogdGhpcyB9LCBmdW5jdGlvbihldmVudCl7XG5cbiAgICAgICAgZ2V0VmlkZW9PYmplY3QoIHZpZGVvSWQsICdhZHMnLCBmdW5jdGlvbih2aWRlbykge1xuICAgICAgICAgICAgLy8gd2Uga25vdyB2aWRlby5hZHMgZXhpc3RzXG4gICAgICAgICAgICAvLyBidXQgbm90IHdoZXRoZXIgdmlkZW8uaW1hMy5hZHNNYW5hZ2VyIGV4aXN0c1xuICAgICAgICAgICAgaWYgKHZpZGVvLmFkcy5zdGF0ZSA9PT0gJ2FkLXBsYXliYWNrJykge1xuICAgICAgICAgICAgICAgIHZhciBhZHNNYW5hZ2VyID0gdmlkZW8uaW1hMyAmJiB2aWRlby5pbWEzLmFkc01hbmFnZXI7XG4gICAgICAgICAgICAgICAgaWYoIHR5cGVvZiBhZHNNYW5hZ2VyICE9PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRzTWFuYWdlci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ3ZpZGVvLmltYTMuYWRzTWFuYWdlciBjYW5ub3QgcGF1c2UgZHVlIHRvIGJlaW5nICcsIHZpZGVvLmltYTMsIHZpZGVvLmltYTMgJiYgdmlkZW8uaW1hMy5hZHNNYW5hZ2VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBldmVudC5kYXRhLmZsb2F0ZXIudW5mbG9hdCgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xudmFyIGdldEZsb2F0ZXIgPSBmdW5jdGlvbiggJHdyYXBwZXIsIG9wdGlvbnMgKSB7XG4gICAgZGVidWcoJ25ldyBmbG9hdGVyIGZvcicsICR3cmFwcGVyKTtcbiAgICB2YXIgbW9kZWwgPSBuZXcgRmxvYXRlciggJHdyYXBwZXIsIG9wdGlvbnMgKTtcbiAgICBhbGxGbG9hdGVycy5wdXNoKG1vZGVsKTtcbiAgICByZXR1cm4gbW9kZWw7XG59O1xuXG52YXIgY3JlYXRlRmxvYXRlciA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgIC8vIHZlcmlmeSBzb21lIHJlcXVpcmVkIG9wdGlvbnNcbiAgICBbJ3dyYXBwZXInLCAndW5mbG9hdFNlbGVjdG9yJ10uZm9yRWFjaCggZnVuY3Rpb24ocmVxKSB7XG4gICAgICAgIGlmKCB0eXBlb2Ygb3B0aW9uc1tyZXFdID09PSAndW5kZWZpbmVkJyApIHRocm93IHtcbiAgICAgICAgICAgIG5hbWU6ICdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnb3B0aW9ucy4nICsgcmVxICsgJyBpcyByZXF1aXJlZCdcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHZhciAkd3JhcHBlciA9ICQob3B0aW9ucy53cmFwcGVyKTtcblxuICAgIGlmKCAkd3JhcHBlci5oYXNDbGFzcygnaXMtZmxvYXRlci1wcm9jZXNzZWQnKSApIHJldHVybjtcbiAgICAkd3JhcHBlci5hZGRDbGFzcygnaXMtZmxvYXRlci1wcm9jZXNzZWQnKTtcblxuICAgIHZhciBtb2RlbCA9IGdldEZsb2F0ZXIoICR3cmFwcGVyLCBvcHRpb25zICk7XG4gICAgbW9kZWwuY3JlYXRlV2F5cG9pbnQoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlRmxvYXRlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy91eC9mbG9hdGVyLmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuY29uc3QgIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbmNvbnN0IGV2ZW50cyA9IHJlcXVpcmUoJ3BnbWZlL2V2ZW50cycpO1xuY29uc3QgYWRzID0gcmVxdWlyZSgncGdtZmUvYWRzJyk7XG5cbmxldCAkZG9jdW1lbnQ7XG5sZXQgcGFnZUxpZ2h0Ym94O1xuXG5jb25zdCBMaWdodGJveENvbnRlbnQgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIHR5cGU6ICcnLFxuICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgdHJhY2tpbmdMYWJlbDogJ01haW4gSW1hZ2UnXG4gICAgfVxufSk7XG5cbmNvbnN0IERlZmF1bHRDb250ZW50VmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBhZFRlbXBsYXRlOiB3aW5kb3cuUEdNLkpTVFsnYWRzL3Nsb3QnXSxcbiAgICB0YWdOYW1lOiAnYXJ0aWNsZScsXG4gICAgY2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdsaWdodGJveC1jb250ZW50IGxpZ2h0Ym94LWNvbnRlbnQtLScgKyB0aGlzLm1vZGVsLmdldCgndHlwZScpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLm1vZGVsLmdldCgnY29udGVudCcpKTtcblxuICAgICAgICB0aGlzLm9uUmVuZGVyKCk7IC8vIGV4dGVuc2libGUhXG5cbiAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2NvbnRlbnRMb2FkZWQnLCB0aGlzLiRlbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb25SZW5kZXI6IF8ubm9vcFxufSk7XG5cbmNvbnN0IENvbnRlbnRWaWV3cyA9IHt9O1xuQ29udGVudFZpZXdzLmdhbGxlcnkgPSBEZWZhdWx0Q29udGVudFZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy50cmFjayh7XG4gICAgICAgICAgICBhY3Rpb246ICdFeHBhbmQnLFxuICAgICAgICAgICAgbGFiZWw6IHRoaXMubW9kZWwuZ2V0KCd0cmFja2luZ0xhYmVsJylcbiAgICAgICAgfSk7XG5cbiAgICB9LFxuICAgIG9uUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZWwuYXBwZW5kKHRoaXMuYWRUZW1wbGF0ZSh7IHNsb3Q6IHdpbmRvdy5QR00uYWRzLmRhdGEuc2xvdHMubGlnaHRib3ggfSkpO1xuICAgICAgICB0aGlzLnNsaWRlciA9IHRoaXMuJCgnLmpzLXNsaWRlcicpLmJ4U2xpZGVyKHtcbiAgICAgICAgICAgIHBhZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgIGluZmluaXRlTG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIHNsaWRlTWFyZ2luOiA0MCxcbiAgICAgICAgICAgIG5leHRUZXh0OiAnJyxcbiAgICAgICAgICAgIHByZXZUZXh0OiAnJyxcbiAgICAgICAgICAgIG9uU2xpZGVCZWZvcmU6IF8uYmluZCh0aGlzLnNsaWRlQmVmb3JlSGFuZGxlciwgdGhpcylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGRvY3VtZW50Lm9uKCdrZXl1cC4nICsgdGhpcy5jaWQsIF8uYmluZCh0aGlzLmtleXVwSGFuZGxlciwgdGhpcykpO1xuXG4gICAgICAgIF8uZGVmZXIoXy5iaW5kKGZ1bmN0aW9uKCkgeyB0aGlzLnNsaWRlci5yZWRyYXdTbGlkZXIoKTsgfSwgdGhpcykpO1xuICAgIH0sXG4gICAgc2xpZGVCZWZvcmVIYW5kbGVyOiBmdW5jdGlvbigkc2xpZGUsIG9sZEluZGV4LCBuZXdJbmRleCkge1xuICAgICAgICB0aGlzLiQoJy5qcy1zbGlkZS1jb3VudCcpLnRleHQobmV3SW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy4kKCcuanMtc2xpZGUtdGl0bGUnKS50ZXh0KCRzbGlkZS5kYXRhKCd0aXRsZScpKTtcbiAgICAgICAgdGhpcy4kKCcuanMtc2xpZGUtZGVzY3JpcHRpb24nKS50ZXh0KCRzbGlkZS5kYXRhKCdkZXNjcmlwdGlvbicpKTtcbiAgICAgICAgdGhpcy4kKCcuanMtc2xpZGUtY3JlZGl0JykudGV4dCgkc2xpZGUuZGF0YSgnY3JlZGl0JykpO1xuICAgICAgICBpZiAoKyt0aGlzLmNvdW50ZXIgJSAzID09PSAwKSB7XG4gICAgICAgICAgICBhZHMucmVmcmVzaCh0aGlzLiQoJy5kZnAtYWQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjayh7XG4gICAgICAgICAgICBhY3Rpb246ICdJdGVtJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ2xpY2snXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAga2V5dXBIYW5kbGVyOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDM5OiAvLyByaWdodFxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVyLmdvVG9OZXh0U2xpZGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzc6IC8vIGxlZnRcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlci5nb1RvUHJldlNsaWRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRyYWNrOiBmdW5jdGlvbihvcHRzKSB7XG4gICAgICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50JywgXy5leHRlbmQoe1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdHYWxsZXJ5J1xuICAgICAgICB9LCBvcHRzKSk7XG4gICAgfSxcbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5qcy1nYWxsZXJ5LW1ldGEtdG9nZ2xlJzogJ3RvZ2dsZU1ldGEnXG4gICAgfSxcbiAgICB0b2dnbGVNZXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kKCcuanMtZ2FsbGVyeS1tZXRhJykudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcpO1xuICAgICAgICB0aGlzLiQoJy5qcy1nYWxsZXJ5LW1ldGEtdG9nZ2xlJykudG9nZ2xlQ2xhc3MoJ2dhbGxlcnktc2xpZGVfX21ldGEtdG9nZ2xlLS1leHBhbmQgZmEgZmEtYW5nbGUtZG93bicpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2xpZGVyICYmIHRoaXMuc2xpZGVyLmRlc3Ryb3lTbGlkZXIpIHRoaXMuc2xpZGVyLmRlc3Ryb3lTbGlkZXIoKTtcbiAgICAgICAgdGhpcy5zbGlkZXIgPSBudWxsO1xuICAgICAgICAkZG9jdW1lbnQub2ZmKCcuJyArIHRoaXMuY2lkKTtcbiAgICAgICAgdGhpcy50cmFjayh7IGFjdGlvbjogJ0Nsb3NlJyB9KTtcbiAgICAgICAgQmFja2JvbmUuVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgfVxufSk7XG5cbmNvbnN0IExpZ2h0Ym94ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGNsYXNzTmFtZTogJ2xpZ2h0Ym94IGxpZ2h0Ym94LS1sb2FkaW5nJyxcbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5qcy1saWdodGJveC1jbG9zZSc6ICdyZW1vdmUnXG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkZG9jdW1lbnQub24oJ2tleXVwLicgKyB0aGlzLmNpZCwgXy5iaW5kKHRoaXMua2V5dXBIYW5kbGVyLCB0aGlzKSk7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZWwgJiYgIXRoaXMuY29udGVudFZpZXcpIHRoaXMubG9hZENvbnRlbnQodGhpcy5tb2RlbCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBsb2FkQ29udGVudDogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgdmFyIENvbnRlbnRWaWV3ID0gQ29udGVudFZpZXdzW21vZGVsLmdldCgndHlwZScpXSB8fCBEZWZhdWx0Q29udGVudFZpZXc7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcblxuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnbGlnaHRib3gtLWxvYWRpbmcnKTtcbiAgICAgICAgdGhpcy5jb250ZW50VmlldyA9IChuZXcgQ29udGVudFZpZXcoeyBtb2RlbDogbW9kZWwgfSkpLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNvbnRlbnRWaWV3LiRlbC5hcHBlbmRUbyh0aGlzLmVsKTtcbiAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2NvbnRlbnREaXNwbGF5ZWQnLCAnbGlnaHRib3gtJyArIG1vZGVsLmdldCgndHlwZScpLCB0aGlzLmNvbnRlbnRWaWV3LiRlbCk7XG4gICAgfSxcbiAgICBrZXl1cEhhbmRsZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHRoaXMucmVtb3ZlKCk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50VmlldykgdGhpcy5jb250ZW50Vmlldy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5jb250ZW50VmlldyA9IG51bGw7XG4gICAgICAgIHBhZ2VMaWdodGJveCA9IG51bGw7XG4gICAgICAgICRkb2N1bWVudC5vZmYoJy4nICsgdGhpcy5jaWQpO1xuICAgICAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcblxuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnW2RhdGEtbGlnaHRib3gtY29udGVudC1wYXRoXScsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdHJhY2tpbmdMYWJlbCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWxpZ2h0Ym94LXRyYWNraW5nLWxhYmVsJyk7XG4gICAgICAgIHZhciBnYWxsZXJ5UGF0aCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWxpZ2h0Ym94LWNvbnRlbnQtcGF0aCcpO1xuICAgICAgICBpZiAoIWdhbGxlcnlQYXRoLnN0YXJ0c1dpdGgoJy8nKSkgZ2FsbGVyeVBhdGggPSAnLycgKyBnYWxsZXJ5UGF0aDtcblxuICAgICAgICBpZiAocGFnZUxpZ2h0Ym94KSBwYWdlTGlnaHRib3gucmVtb3ZlKCk7XG4gICAgICAgIHBhZ2VMaWdodGJveCA9IG5ldyBMaWdodGJveCgpO1xuICAgICAgICBwYWdlTGlnaHRib3gucmVuZGVyKCkuJGVsLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvZmVfZGF0YS9saWdodGJveCcgKyBnYWxsZXJ5UGF0aCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcGFnZUxpZ2h0Ym94LmxvYWRDb250ZW50KG5ldyBMaWdodGJveENvbnRlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ2FsbGVyeScsIC8vIEB0b2RvIG1ha2UgbW9yZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0xhYmVsOiB0cmFja2luZ0xhYmVsLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXNwb25zZVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcGFnZUxpZ2h0Ym94LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvdXgvbGlnaHRib3guanMiLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdwZ21mZS90b29scy9kZWJ1ZycpKCd2aWRlbycpO1xuY29uc3QgZXZlbnRzID0gcmVxdWlyZSgncGdtZmUvZXZlbnRzJyk7XG5cbmxldCBmaXJzdFRpbWUgPSB0cnVlO1xuY29uc3Qgc2V0VXBOZXdQbGF5ZXJzID0gZnVuY3Rpb24gc2V0VXBOZXdQbGF5ZXJzKCkge1xuICAgIGlmKCB0eXBlb2Ygd2luZG93LnZpZGVvanMgIT09ICdmdW5jdGlvbicgKSB7XG4gICAgICAgIGRlYnVnKCdubyB2aWRlb2pzLCB0cnkgYWdhaW4gb25jZS4nKTtcbiAgICAgICAgaWYoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoc2V0VXBOZXdQbGF5ZXJzLCAyMDAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgXy5lYWNoKCB3aW5kb3cudmlkZW9qcy5nZXRQbGF5ZXJzKCksIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAvLyBvbiBwYWdlLXJlcGxhY2VtZW50IHBhZ2VzIGxpa2UgdmlkZW8gcGFnZXNcbiAgICAgICAgLy8gd2luZG93LnZpZGVvanMuZ2V0UGxheWVycygpIGNhbiByZXR1cm4gYSBwbGF5ZXIgdGhhdCBpcyBudWxsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhhdCBwbGF5ZXIgd2FzIHRha2VuIG9mZiB0aGUgcGFnZS5cbiAgICAgICAgaWYoIHBsYXllciA9PT0gbnVsbCB8fCB0eXBlb2YgcGxheWVyID09PSAndW5kZWZpbmVkJyApIHJldHVybjtcbiAgICAgICAgaWYoIHR5cGVvZiBwbGF5ZXIucGdtID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgICAgIGRlYnVnKCdzZXR0aW5nIHVwIG5ldyBwbGF5ZXIgJywgcGxheWVyLmlkKCkgKTtcbiAgICAgICAgICAgIHBsYXllci5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFsncGxheScsICdhZHMtcGxheSddLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcE90aGVyUGxheWVycyhwbGF5ZXIpO1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBnbSA9IHt9O1xuXG4gICAgICAgICAgICAgICAgLy8gZG8gYSBvbmUtdGltZSBjaGVja1xuICAgICAgICAgICAgICAgIGlmKCAhIHRoaXMucGF1c2VkKCkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3BPdGhlclBsYXllcnModGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmNvbnN0IHN0b3BPdGhlclBsYXllcnMgPSBmdW5jdGlvbihwbGF5aW5nKSB7XG4gICAgZGVidWcoJ3N0b3BwaW5nIHBsYXllcnMgYmVzaWRlcycsIHBsYXlpbmcuaWQoKSApO1xuICAgIF8uZWFjaCggd2luZG93LnZpZGVvanMuZ2V0UGxheWVycygpLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgaWYoIHBsYXllci5pZCgpID09PSBwbGF5aW5nLmlkKCkgKSByZXR1cm47XG4gICAgICAgIHBsYXllci5wYXVzZSgpO1xuICAgICAgICBpZiggcGxheWVyLmltYTMgJiYgcGxheWVyLmltYTMuYWRzTWFuYWdlciAmJiB0eXBlb2YgcGxheWVyLmltYTMuYWRzTWFuYWdlci5wYXVzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGxheWVyLmltYTMuYWRzTWFuYWdlci5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiggJChwbGF5aW5nLmVsKCkpLnBhcmVudHMoJy5qcy1mbG9hdGVyLW1lZGlhLmZsb2F0aW5nJykubGVuZ3RoID09PSAwICkge1xuICAgICAgICAvLyB3ZSBhcmUgbm90IGEgZmxvYXRlciwgc28gdGVsbCB0aGUgZmxvYXRlciB0byBjbG9zZSAoaWYgaXQgZXhpc3RzKVxuICAgICAgICB3aW5kb3cuUEdNLmRlYnVnKCdmbG9hdGVyJywgJ2Nsb3NpbmcgZHVlIHRvIG90aGVyIHZpZGVvIHBsYXlpbmcnKTtcbiAgICAgICAgJCgnLmpzLWZsb2F0ZXItY2xvc2UnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgIH1cbn07XG5cbi8vIHdoZW4gbmV3IGNvbnRlbnQgY29tZXMgaW4sIGVuc3VyZSB0aGV5IGFyZSBhbGwgc2V0IHVwXG5ldmVudHMub24oJ2FzeW5jQ29udGVudExvYWRlZCcsIHNldFVwTmV3UGxheWVycyk7XG5cbi8vIHdoZW4gYSBwbGF5ZXIgaXMgY2xpY2tlZCBvbiwgZW5zdXJlIHRoZXkgYXJlIGFsbCBzZXQgdXBcbiQoJ2JvZHknKS5vbignY2xpY2snLCAnLnZpZGVvLWpzJywgc2V0VXBOZXdQbGF5ZXJzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRVcE5ld1BsYXllcnM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvdmlkZW8vc3RvcC1vdGhlcnMuanMiLCJjb25zdCBub1BsYWNlbWVudHMgPSB7IGhvbWVwYWdlOiBbXSwgcm9zOiBbXSB9O1xuXG5jb25zdCBwbGFjZW1lbnRJZHMgPSB7XG4gICAgJzMwMHgyNTAnOiB7XG4gICAgICAgIG1vYmlsZTogbm9QbGFjZW1lbnRzLFxuICAgICAgICBkZXNrdG9wOiB7XG4gICAgICAgICAgICBob21lcGFnZTogWyc0MzI2MDY3JywgJzQzMjYwNjInXSxcbiAgICAgICAgICAgIHJvczogWyc0MzI2MDkyJywgJzQzMjYwOTEnXVxuICAgICAgICB9XG4gICAgfSxcbiAgICAnMzAweDYwMCc6IHtcbiAgICAgICAgbW9iaWxlOiBub1BsYWNlbWVudHMsXG4gICAgICAgIGRlc2t0b3A6IHtcbiAgICAgICAgICAgIGhvbWVwYWdlOiBbJzQzMjYwNjYnLCAnNDMyNjA2MyddLCAvLyBub3RoaW5nXG4gICAgICAgICAgICByb3M6IFsnNDMyNjA5OCcsICc0MzI2MTAwJ11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgJzcyOHg5MCc6IHtcbiAgICAgICAgbW9iaWxlOiBub1BsYWNlbWVudHMsXG4gICAgICAgIGRlc2t0b3A6IHtcbiAgICAgICAgICAgIGhvbWVwYWdlOiBbJzQzMjYwNjknLCAnNDMyNjA2NCddLFxuICAgICAgICAgICAgcm9zOiBbJzQzMjYwOTcnLCAnNDMyNjA5NCddXG4gICAgICAgIH1cbiAgICB9LFxuICAgICc5NzB4MjUwJzoge1xuICAgICAgICBtb2JpbGU6IG5vUGxhY2VtZW50cyxcbiAgICAgICAgZGVza3RvcDoge1xuICAgICAgICAgICAgaG9tZXBhZ2U6IFsnNDMyNjA2NSddLFxuICAgICAgICAgICAgcm9zOiBbJzQzMjYwOTYnLCAnNDMyNjA5OSddXG4gICAgICAgIH1cbiAgICB9LFxuICAgICc5NzB4OTAnOiB7XG4gICAgICAgIG1vYmlsZTogbm9QbGFjZW1lbnRzLFxuICAgICAgICBkZXNrdG9wOiB7XG4gICAgICAgICAgICBob21lcGFnZTogWyc0MzI2MDYxJywgJzQzMjYwNjgnXSxcbiAgICAgICAgICAgIHJvczogWyc0MzI2MDkzJywgJzQzMjYwOTUnXVxuICAgICAgICB9XG4gICAgfSxcbiAgICAnMzAweDUwJzoge1xuICAgICAgICBkZXNrdG9wOiBub1BsYWNlbWVudHMsXG4gICAgICAgIG1vYmlsZToge1xuICAgICAgICAgICAgaG9tZXBhZ2U6IFsnNDMyNjA4NScsICc0MzI2MDg3J10sXG4gICAgICAgICAgICByb3M6IFsnNDMyNjExNicsICc0MzI2MTE0JywgJzQzMjYxMTcnXSxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgJzMyMHg1MCc6IHtcbiAgICAgICAgZGVza3RvcDogbm9QbGFjZW1lbnRzLFxuICAgICAgICBtb2JpbGU6IHtcbiAgICAgICAgICAgIGhvbWVwYWdlOiBbJzQzMjYwODYnLCAnNDMyNjA4OCddLFxuICAgICAgICAgICAgcm9zOiBbJzQzMjYxMTUnLCAnNDMyNjExMicsICc0MzI2MTEzJ10sXG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLy8gdGVsbCB1cyBpZiB3ZSdyZSBtb2JpbGUgb3IgZGVza3RvcFxuZnVuY3Rpb24gZ2V0Vmlld3BvcnRTaXplKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCA3NjcgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJztcbn1cbi8vIHRlbGwgdXMgaWYgd2UncmUgb24gdGhlIGhvbWVwYWdlIG9yIG5vdFxuZnVuY3Rpb24gZ2V0U2VjdGlvbigpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUuaW5kZXhPZignaG9tZXBhZ2UnKSAhPT0gLTEgPyAnaG9tZXBhZ2UnIDogJ3Jvcyc7XG59XG5cbmZ1bmN0aW9uIGdldElkKGlkcykge1xuICAgIHJldHVybiAoaWRzLmxlbmd0aCA+IDEpID8gaWRzLnNoaWZ0KCkgOiBpZHNbMF07XG59XG5cbi8vIGNyZWF0ZSBhIGJpZGRlciB0aGF0IHJldHVybnMgb25lIG9mIGEgbGlzdCBvZiBJRHMgZm9yIGEgZ2l2ZW4gcGxhY2VtZW50IHNpemVcbmZ1bmN0aW9uIG1ha2VCaWRkZXIoc2l6ZSwgYmlkRGF0YSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEJpZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBkZXNpcmVkIHNpemUsIGRvbid0IHJldHVybiBhIGJpZFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2l6ZXMubWFwKHMgPT4gcy5qb2luKCd4JykpLmluZGV4T2Yoc2l6ZSkgPT09IC0xKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50SWQgPSBnZXRJZChiaWREYXRhW2dldFZpZXdwb3J0U2l6ZSgpXVtnZXRTZWN0aW9uKCldKTtcbiAgICAgICAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHBsYWNlbWVudElkKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiaWRkZXI6ICdhb2wnLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiAnMTAxODkuMScsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8gcmV0dXJuIGFuIGFycmF5IG9mIGJpZGRlcnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMocGxhY2VtZW50SWRzKS5tYXAoIHNpemUgPT4gbWFrZUJpZGRlcihzaXplLCBwbGFjZW1lbnRJZHNbc2l6ZV0pKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21vZHVsZXMvYWRzL2JpZGRlcnMvYW9sLmpzIiwiY29uc3QgcGxhY2VtZW50SWRzID0ge1xuICAgIGRlc2t0b3A6IHtcbiAgICAgICAgaG9tZXBhZ2U6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODMnLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1Njg0J1xuICAgICAgICB9LFxuICAgICAgICByb3M6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODUnLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1Njg2J1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtb2JpbGU6IHtcbiAgICAgICAgaG9tZXBhZ2U6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODcnLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1Njg4J1xuICAgICAgICB9LFxuICAgICAgICByb3M6IHtcbiAgICAgICAgICAgIGhpZ2hWaWV3YWJpbGl0eTogJzk5ODU2ODknLFxuICAgICAgICAgICAgb3RoZXI6ICc5OTg1NjkwJ1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgdmFsaWRTaXplcyA9IHtcbiAgICBkZXNrdG9wOiBbJzcyOHg5MCcsICc5NzB4MjUwJywgJzk3MHg5MCcsICczMDB4MjUwJywgJzMwMHg2MDAnXSxcbiAgICBtb2JpbGU6IFsnMzAweDI1MCcsICczMjB4NTAnLCAnMzAweDUwJ11cbn07XG5cbi8vIHRlbGwgdXMgaWYgd2UncmUgbW9iaWxlIG9yIGRlc2t0b3BcbmZ1bmN0aW9uIGdldFZpZXdwb3J0U2l6ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDwgNzY3ID8gJ21vYmlsZScgOiAnZGVza3RvcCc7XG59XG5cbi8vIHRlbGwgdXMgaWYgd2UncmUgb24gdGhlIGhvbWVwYWdlIG9yIG5vdFxuZnVuY3Rpb24gZ2V0U2VjdGlvbigpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUuaW5kZXhPZignaG9tZXBhZ2UnKSAhPT0gLTEgPyAnaG9tZXBhZ2UnIDogJ3Jvcyc7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdhYmlsaXR5KHBvc1RhcmdldGluZykge1xuICAgIHJldHVybiBwb3NUYXJnZXRpbmcgPT09ICdtMScgfHwgcG9zVGFyZ2V0aW5nID09PSAndCcgPyAnaGlnaFZpZXdhYmlsaXR5JyA6ICdvdGhlcic7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRTaXplKHNsb3RTaXplcykge1xuICAgIGNvbnN0IHNpemVzRm9yVmlld3BvcnQgPSB2YWxpZFNpemVzW2dldFZpZXdwb3J0U2l6ZSgpXTtcbiAgICBjb25zdCBsID0gc2xvdFNpemVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoLTEgIT09IHNpemVzRm9yVmlld3BvcnQuaW5kZXhPZihzbG90U2l6ZXNbaV0pKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYW4gYXJyYXkgb2YgYmlkZGVyc1xubW9kdWxlLmV4cG9ydHMgPSBbe1xuICAgIGdldEJpZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhQXJyYXkuaXNBcnJheShvcHRpb25zLnRhcmdldGluZy5wb3MpIHx8IC8vIHNhZmV0eVxuICAgICAgICAgICAgIWlzVmFsaWRTaXplKG9wdGlvbnMuc2l6ZXMubWFwKHMgPT4gcy5qb2luKCd4JykpKVxuICAgICAgICApIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiaWRkZXI6ICdhcHBuZXh1cycsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnRJZDogcGxhY2VtZW50SWRzW2dldFZpZXdwb3J0U2l6ZSgpXVtnZXRTZWN0aW9uKCldW2dldFZpZXdhYmlsaXR5KG9wdGlvbnMudGFyZ2V0aW5nLnBvc1swXSldXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufV07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL2Fkcy9iaWRkZXJzL2FwcG5leHVzLmpzIiwiY29uc3Qgc2l6ZUlkcyA9IHtcbiAgICAnNzI4eDkwJzogIDIsXG4gICAgJzE2MHg2MDAnOiA5LFxuICAgICczMDB4NjAwJzogMTAsXG4gICAgJzMwMHgyNTAnOiAxNSxcbiAgICAnMzIweDUwJzogIDQzLFxuICAgICczMDB4NTAnOiAgNDQsXG4gICAgJzk3MHgyNTAnOiA1Nyxcbn07XG5cbmZ1bmN0aW9uIGdldFpvbmVJZCgpIHtcbiAgICBzd2l0Y2ggKGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdkYXRhLXRyYWNrY2F0ZWdvcnknKSkge1xuICAgIGNhc2UgJ0FydGljbGUnOlxuICAgIGNhc2UgJ2xvbmdmb3JtJzpcbiAgICAgICAgcmV0dXJuICcxNzcwNDQnO1xuICAgIGNhc2UgJ1Bob3Rvcyc6XG4gICAgICAgIHJldHVybiAnMTc3MDQ2JztcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoJ2NoYXJ0LXBhZ2UnKSAhPT0gLTEgfHxcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUuaW5kZXhPZigneWUtY2hhcnRzLXBhZ2UnKSAhPT0gLTFcbiAgICApIHJldHVybiAnMTc3MDQyJztcblxuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5pbmRleE9mKCdob21lcGFnZScpICE9PSAtMSkgcmV0dXJuICcxNzcwNDAnO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbmZ1bmN0aW9uIGdldEJpZChvcHRpb25zKSB7XG4gICAgY29uc3QgYmlkID0ge1xuICAgICAgICBiaWRkZXI6ICdydWJpY29uJyxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBhY2NvdW50SWQ6ICcxMTg3MicsXG4gICAgICAgICAgICBzaXRlSWQ6ICc0MTQwMCcsXG4gICAgICAgICAgICB6b25lSWQ6IGdldFpvbmVJZCgpIHx8ICcxNzcwMzgnLFxuICAgICAgICAgICAgc2l6ZXM6IG9wdGlvbnMuc2l6ZXMubWFwKHNpemUgPT4gc2l6ZUlkc1tzaXplLmpvaW4oJ3gnKV0pLmZpbHRlcihpZCA9PiAhIWlkKSxcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoXG4gICAgICAgIEFycmF5LmlzQXJyYXkob3B0aW9ucy50YXJnZXRpbmcucG9zKSAmJlxuICAgICAgICAob3B0aW9ucy50YXJnZXRpbmcucG9zWzBdID09PSAnbTEnIHx8IG9wdGlvbnMudGFyZ2V0aW5nLnBvc1swXSA9PT0gJ3QnKVxuICAgICkge1xuICAgICAgICBiaWQucGFyYW1zLnpvbmVJZCA9ICcxNzcwMzgnO1xuICAgICAgICBiaWQucGFyYW1zLnBvc2l0aW9uID0gJ2F0Zic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJpZC5wYXJhbXMuc2l6ZXMubGVuZ3RoID09PSAwID8gbnVsbCA6IGJpZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYmlkZGVyU2V0dGluZ3M6IHtcbiAgICAgICAgcnViaWNvbjoge1xuICAgICAgICAgICAgYmlkQ3BtQWRqdXN0bWVudDogY3BtID0+IGNwbSAqIDAuODVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QmlkOiBnZXRCaWRcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL2Fkcy9iaWRkZXJzL3J1Ymljb24uanMiLCJjb25zdCBjb250ZW50ID0gcmVxdWlyZSgncGdtZmUvY29udGVudCcpO1xuXG5jb25zdCBFbWJlZHNCYXNlTW9kZWwgPSByZXF1aXJlKCcuL2VtYmVkcy1iYXNlLW1vZGVsJyk7XG5cbmNvbnN0IHllQ2hhcnQgPSByZXF1aXJlKCcuL3R5cGVzL3llLWNoYXJ0Jyk7XG5cbmNvbnRlbnQuZW1iZWRzLnNldEJhc2VNb2RlbChFbWJlZHNCYXNlTW9kZWwpO1xuXG5jb250ZW50LnR5cGVzLnJlZ2lzdGVyKCd5ZWFyRW5kQ2hhcnQnLCB5ZUNoYXJ0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbW9kdWxlcy9jb250ZW50L2luZGV4LmpzIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbmNvbnN0IG1kNSA9IHJlcXVpcmUoJ21kNScpO1xucmVxdWlyZSgnanF1ZXJ5LmNvb2tpZScpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdwZ21mZS90b29scy9kZWJ1ZycpKCd2b3RlJyk7XG5cbmNvbnN0IHZvdGVUeXBlcyA9IFsnb25lJywgJ3VwJywgJ2Rvd24nXTtcblxuLy8gdG9kbyBmaXggaW50byBiYWNrYm9uZSB2aWV3XG52YXIgJGNoYXJ0ID0gJCgnLnllLWNoYXJ0X19oZWFkZXInKTtcbnZhciBjaGFydENvZGUgPSAkY2hhcnQuZGF0YSgnY2hhcnQtY29kZScpO1xudmFyIGNoYXJ0RGF0ZSA9ICRjaGFydC5kYXRhKCdjaGFydC1kYXRlJyk7XG52YXIgY29va2llTmFtZSA9IGNoYXJ0Q29kZSArICdfXycgKyBjaGFydERhdGU7XG5cbnZhciB1bmlxdWVJbmZvID0gJyc7XG52YXIgZ2FjID0gJC5jb29raWUoJ19nYScpO1xuaWYoIHR5cGVvZiBnYWMgIT09ICd1bmRlZmluZWQnICkge1xuICAgIHZhciBwYXJ0cyA9IGdhYy5zcGxpdCgnLicpO1xuICAgIGlmKCBwYXJ0cy5sZW5ndGggPiAzICkge1xuICAgICAgICB1bmlxdWVJbmZvID0gbWQ1KHBhcnRzWzJdKTtcbiAgICB9XG59XG5cbnZhciBnZXRWb3RlcyA9ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgJC5hamF4KCcvZmVfZGF0YS9jaGFydHMvZ2V0Vm90ZXMvJyArIGNoYXJ0Q29kZSArICcvJyArIGNoYXJ0RGF0ZSwge1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHZvdGVUeXBlcy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZvdGVUb3RhbCA9ICt2YWx1ZVt2b3RlVHlwZXNbaV1dOyAvLyB0eXBlIGNvZXJjaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRlYnVnLmdldERhdGEoKSA+IDAgKSB7IC8vIGFsbG93IGZvciB2b3RlIHN0dWZmaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvdGVUb3RhbCArPSArZGVidWcuZ2V0RGF0YSgpOyAvLyB0eXBlIGNvZXJjaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodm90ZVRvdGFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvdGVUb3RhbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodm90ZVRvdGFsID4gMTAwMCAmJiB2b3RlVG90YWwgPCAxMDAwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvdGVUb3RhbCA9IE1hdGgucm91bmQodm90ZVRvdGFsLzEwMCkvMTAgKyAnSyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodm90ZVRvdGFsID49IDEwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm90ZVRvdGFsID0gTWF0aC5yb3VuZCh2b3RlVG90YWwvMTAwMDAwKS8xMCArICdNJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi55ZS1jaGFydF9faXRlbVtkYXRhLXJhbms9XCIgKyBpbmRleCArIFwiXSAueWUtY2hhcnRfX3ZvdGUtbGFiZWwtLVwiICsgdm90ZVR5cGVzW2ldKS50ZXh0KHZvdGVUb3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdUcm91YmxlIHJldHJpZXZpbmcgdm90ZSBjb3VudCA6KCcpO1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8vIGNvb2tpZSB2YWx1ZSBpcyB0aGUgcmVzdWx0IG9mIGpvaW4naW5nIHdpdGggLFxuLy8gMCwxLC0xLC0xLDJcbi8vIHJhbmsgMSA9IHZvdGUgb24gZmlyc3QgaXRlbSAoMC1pbmRleGVkKVxuLy8gcmFuayAyID0gdm90ZSBvbiBzZWNvbmQgaXRlbVxuLy8gcmFuayAzIGFuZCA0ID0gbm8gdm90ZVxuLy8gcmFuayA1ID0gdm90ZSBvbiAzcmQgaXRlbVxuLy9cbi8vIHVucGFja2VkIHZlcnNpb24gaXMgdGhlIHJlc3VsdCBvZiBzcGxpdCdpbmcgd2l0aCAsXG5cbnZhciB1bnBhY2tWb3RlcyA9IGNvb2tpZVZhbHVlID0+IHtcbiAgICBpZiggdHlwZW9mIGNvb2tpZVZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBjb29raWVWYWx1ZSA9PT0gbnVsbCB8fCAhIGNvb2tpZVZhbHVlLm1hdGNoKC9eWy0wMTIsXSskLykgKSB7XG4gICAgICAgIGNvb2tpZVZhbHVlID0gbnVsbDsgLy8ga2lsbCBvZmYgb2xkLXN0eWxlIGNvb2tpZXNcbiAgICB9XG4gICAgdmFyIHVzZXJWb3RlcyA9IG5ldyBBcnJheSggJCgnLnllLWNoYXJ0X19pdGVtJykubGVuZ3RoICkuZmlsbCgtMSk7XG4gICAgaWYoIGNvb2tpZVZhbHVlID09PSBudWxsIHx8IHR5cGVvZiBjb29raWVWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgIHJldHVybiB1c2VyVm90ZXM7XG4gICAgfVxuICAgIHZhciByb3dWb3RlcyA9IGNvb2tpZVZhbHVlLnNwbGl0KCcsJyk7XG4gICAgcm93Vm90ZXMgPSBfLm1hcChyb3dWb3RlcywgXy5wYXJ0aWFsKHBhcnNlSW50LCBfLCAxMCkpOyAvLyBjb252ZXJ0IHRvIGludHNcbiAgICB2YXIgbWF4TGVuZ3RoID0gTWF0aC5tYXgocm93Vm90ZXMubGVuZ3RoLCB1c2VyVm90ZXMubGVuZ3RoKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbWF4TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJvd1ZvdGUgPSByb3dWb3Rlc1tpXTtcbiAgICAgICAgaWYoIHJvd1ZvdGUgPCAwIHx8IHJvd1ZvdGUgPj0gdm90ZVR5cGVzLmxlbmd0aCkgY29udGludWU7XG4gICAgICAgIHVzZXJWb3Rlc1tpXSA9IHJvd1ZvdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVzZXJWb3Rlcztcbn07XG5cbnZhciBwb3B1bGF0ZUV4aXN0aW5nVm90ZXMgPSB1c2VyVm90ZXMgPT4ge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB1c2VyVm90ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYoIHR5cGVvZiB1c2VyVm90ZXNbaV0gPT09ICd1bmRlZmluZWQnICkgY29udGludWU7XG4gICAgICAgIGlmKCB1c2VyVm90ZXNbaV0gPj0gMCApIHtcbiAgICAgICAgICAgICQoXCIueWUtY2hhcnRfX2l0ZW1bZGF0YS1yYW5rPSdcIiArIChpKzEpICtcIiddIGlucHV0W3ZhbHVlPSdcIiArIHZvdGVUeXBlc1sgdXNlclZvdGVzW2ldIF0gKyBcIiddXCIpLmF0dHIoXCJjaGVja2VkXCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIHNldHVwVm90ZUFjdGlvbnMgPSB1c2VyVm90ZXMgPT4ge1xuICAgICQoJ2lucHV0LnllLWNoYXJ0X192b3RlLWlucHV0W3R5cGU9cmFkaW9dJykuY2hhbmdlKCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRjaGFydEl0ZW0gPSAkKHRoaXMpO1xuICAgICAgICB2YXIgdm90ZVR5cGUgPSB0aGlzLnZhbHVlO1xuICAgICAgICB2YXIgcmFuayA9ICskY2hhcnRJdGVtLmNsb3Nlc3QoJy55ZS1jaGFydF9faXRlbScpLmRhdGEoJ3JhbmsnKTsgLy8gY29udmVydCB0byBpbnRcblxuICAgICAgICB2YXIgaW5kZXhSYW5rID0gcmFuayAtIDE7XG4gICAgICAgIGlmKCB1c2VyVm90ZXNbaW5kZXhSYW5rXSA+PSAwICkge1xuICAgICAgICAgICAgdmFyIHVzZXJWb3RlVHlwZSA9IHZvdGVUeXBlc1sgdXNlclZvdGVzW2luZGV4UmFua10gXTtcbiAgICAgICAgICAgIC8vIHVzZXIgaGFzIGFscmVhZHkgdm90ZWQgb24gdGhpcyByb3dcblxuICAgICAgICAgICAgLy8gZmlyc3QsIHNob3cgdGhlIHVzZXIgcy9oZSBoYXMgdW52b3RlZFxuICAgICAgICAgICAgdmFyICRwcmV2Vm90ZSA9ICQoXCIueWUtY2hhcnRfX2l0ZW1bZGF0YS1yYW5rPVwiICsgcmFuayArIFwiXSAueWUtY2hhcnRfX3ZvdGUtbGFiZWwtLVwiICsgdXNlclZvdGVUeXBlKTtcbiAgICAgICAgICAgIHZhciBwcmV2Vm90ZUNvdW50ID0gKyRwcmV2Vm90ZS50ZXh0KCk7IC8vIHR5cGUgY29udmVyc2lvblxuICAgICAgICAgICAgaWYoIHByZXZWb3RlQ291bnQgLSAxID49IDAgKSB7XG4gICAgICAgICAgICAgICAgJHByZXZWb3RlLnRleHQocHJldlZvdGVDb3VudCAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGVuIHRlbGwgdGhlIHN5c3RlbVxuICAgICAgICAgICAgbGV0IHVybCA9IFtcbiAgICAgICAgICAgICAgICAnL2ZlX2RhdGEvY2hhcnRzL3ZvdGUnLFxuICAgICAgICAgICAgICAgIHVuaXF1ZUluZm8sXG4gICAgICAgICAgICAgICAgY2hhcnRDb2RlLFxuICAgICAgICAgICAgICAgIGNoYXJ0RGF0ZSxcbiAgICAgICAgICAgICAgICByYW5rLFxuICAgICAgICAgICAgICAgIHVzZXJWb3RlVHlwZSAsXG4gICAgICAgICAgICAgICAgJ2Rvd24nXG4gICAgICAgICAgICBdLmpvaW4oJy8nKTtcblxuICAgICAgICAgICAgJC5hamF4KHVybCwge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyggJ3ZvdGUgZGVjcmVtZW50ZWQnLCB1cmwgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoICd0cm91YmxlIGRlY3JlbWVudGluZyB2b3RlJywgdXJsICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXh0IHRlbGwgdGhlIHVzZXIgcy9oZSBoYXMgdm90ZWRcbiAgICAgICAgdmFyICRuZXdWb3RlID0gJChcIi55ZS1jaGFydF9faXRlbVtkYXRhLXJhbms9XCIgKyByYW5rICsgXCJdIC55ZS1jaGFydF9fdm90ZS1sYWJlbC0tXCIgKyB2b3RlVHlwZSk7XG4gICAgICAgIHZhciBuZXdWb3RlQ291bnQgPSArJG5ld1ZvdGUudGV4dCgpOyAvLyB0eXBlIGNvbnZlcnNpb25cbiAgICAgICAgaWYoIG5ld1ZvdGVDb3VudCArIDEgPiAwICkge1xuICAgICAgICAgICAgJG5ld1ZvdGUudGV4dChuZXdWb3RlQ291bnQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5leHQgdGVsbCB0aGUgdXNlcidzIGJyb3dzZXIgcy9oZSBoYXMgdm90ZWQgaGVyZVxuICAgICAgICB1c2VyVm90ZXNbIGluZGV4UmFuayBdID0gdm90ZVR5cGVzLmluZGV4T2Yodm90ZVR5cGUpO1xuICAgICAgICAkLmNvb2tpZShjb29raWVOYW1lLCB1c2VyVm90ZXMuam9pbignLCcpKTtcblxuICAgICAgICAvLyBmaW5hbGx5IHRlbGwgdGhlIHN5c3RlbSBhYm91dCB0aGUgdm90ZVxuICAgICAgICBsZXQgdXJsID0gW1xuICAgICAgICAgICAgJy9mZV9kYXRhL2NoYXJ0cy92b3RlJyxcbiAgICAgICAgICAgIHVuaXF1ZUluZm8sXG4gICAgICAgICAgICBjaGFydENvZGUsXG4gICAgICAgICAgICBjaGFydERhdGUsXG4gICAgICAgICAgICByYW5rLFxuICAgICAgICAgICAgdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICd1cCdcbiAgICAgICAgXS5qb2luKCcvJyk7XG4gICAgICAgICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCAndm90ZSBpbmNyZW1lbnRlZCcsIHVybCApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyggJ3Ryb3VibGUgaW5jcmVtZW50aW5nIHZvdGUnLCB1cmwgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG52YXIgc2V0dXAgPSAoKSA9PiB7XG4gICAgdmFyIHVzZXJWb3RlcyA9IHVucGFja1ZvdGVzKCAkLmNvb2tpZShjb29raWVOYW1lKSApO1xuICAgIHBvcHVsYXRlRXhpc3RpbmdWb3RlcyggdXNlclZvdGVzICk7XG4gICAgc2V0dXBWb3RlQWN0aW9ucyggdXNlclZvdGVzICk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzZXR1cDogc2V0dXAsXG4gICAgZ2V0Vm90ZXM6IGdldFZvdGVzXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbW9kdWxlcy92b3RpbmcvaW5kZXguanMiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9lczYvcHJvbWlzZS5qc1xuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZmlsbCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuQXJyYXkuZmlsbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9mbi9hcnJheS9maWxsLmpzXG4vLyBtb2R1bGUgaWQgPSA2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyAyMS4xLjMuMTggU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKHNlYXJjaFN0cmluZyBbLCBwb3NpdGlvbiBdKVxuJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgY29udGV4dCAgICAgPSByZXF1aXJlKCcuL19zdHJpbmctY29udGV4dCcpXG4gICwgU1RBUlRTX1dJVEggPSAnc3RhcnRzV2l0aCdcbiAgLCAkc3RhcnRzV2l0aCA9ICcnW1NUQVJUU19XSVRIXTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiByZXF1aXJlKCcuL19mYWlscy1pcy1yZWdleHAnKShTVEFSVFNfV0lUSCksICdTdHJpbmcnLCB7XG4gIHN0YXJ0c1dpdGg6IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc2VhcmNoU3RyaW5nIC8qLCBwb3NpdGlvbiA9IDAgKi8pe1xuICAgIHZhciB0aGF0ICAgPSBjb250ZXh0KHRoaXMsIHNlYXJjaFN0cmluZywgU1RBUlRTX1dJVEgpXG4gICAgICAsIGluZGV4ICA9IHRvTGVuZ3RoKE1hdGgubWluKGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCB0aGF0Lmxlbmd0aCkpXG4gICAgICAsIHNlYXJjaCA9IFN0cmluZyhzZWFyY2hTdHJpbmcpO1xuICAgIHJldHVybiAkc3RhcnRzV2l0aFxuICAgICAgPyAkc3RhcnRzV2l0aC5jYWxsKHRoYXQsIHNlYXJjaCwgaW5kZXgpXG4gICAgICA6IHRoYXQuc2xpY2UoaW5kZXgsIGluZGV4ICsgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbiAgfVxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnN0YXJ0cy13aXRoLmpzXG4vLyBtb2R1bGUgaWQgPSA2NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBAc2VlIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0hlcmF5LzI3N2Q0MjFiZGEyYjgyN2Y0M2RhXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJykoJ2RmcCcpO1xuXG4vLyByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHRha2VzIHBianMgYW5kIHJldHVybnMgYSBiaWRkZXIgYWRhcHRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYWtlQTlBZGFwdGVyKHBianMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gQTlBZGFwdGVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbEJpZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbXpuYWRzLmdldEFkc0NhbGxiYWNrKCczMTI1JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYmpzLmJpZHNBdmFpbGFibGVGb3JhZGFwdGVyKCdhbWF6b24nKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdmYWlsZWQgYXNraW5nIGFtYXpvbiBpZiBpdCB3YW50cyB0aGUgdXNlcicsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9hZHMvYmlkZGVycy9hbWF6b24uanMiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuXG5jb25zdCBzbG90cyA9IHJlcXVpcmUoJ3BnbWZlL2Fkcy9zbG90cycpO1xuXG5jb25zdCBiaWRkZXJzID0gW107XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyQmlkZGVyKG5ld0JpZGRlcnMpIHtcbiAgICAoQXJyYXkuaXNBcnJheShuZXdCaWRkZXJzKSA/IG5ld0JpZGRlcnMgOiBbbmV3QmlkZGVyc10pLmZvckVhY2goYmlkZGVyID0+IGJpZGRlcnMucHVzaChiaWRkZXIpKTtcbn1cblxuLy8gcmV0dXJuIGFuIGFycmF5IG9mIHNpemVzIGZvciB0aGUgY3VycmVudCB2aWV3cG9ydFxuZnVuY3Rpb24gZ2V0U2l6ZXNGb3JWaWV3cG9ydChpZCkge1xuICAgIHJldHVybiBzbG90cy5nZXRTbG90U2l6ZXMoaWQpW18uZmluZChcbiAgICAgICAgT2JqZWN0LmtleXMoc2xvdHMuZ2V0U2xvdFNpemVzKGlkKSkuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBwYXJzZUludChiLCAxMCkgLSBwYXJzZUludChhLCAxMCk7IH0pLFxuICAgICAgICBmdW5jdGlvbihzaXplKSB7IHJldHVybiBzaXplIDwgd2luZG93LmlubmVyV2lkdGg7fVxuICAgICldO1xufVxuXG5jb25zdCBjcmVhdGVCaWRzQXJyYXkgPSBpZHMgPT4gaWRzLmZpbHRlcihpZCA9PiBpZCAhPT0gJ2RmcC1hZC1vMScpLm1hcChpZCA9PiB7XG4gICAgY29uc3Qgdmlld3BvcnRTaXplcyA9IGdldFNpemVzRm9yVmlld3BvcnQoaWQpO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZpZXdwb3J0U2l6ZXMpID8ge1xuICAgICAgICBjb2RlOiBpZCxcbiAgICAgICAgc2l6ZXM6IHZpZXdwb3J0U2l6ZXMsXG4gICAgICAgIGJpZHM6IGJpZGRlcnMubWFwKGJpZGRlciA9PiBiaWRkZXIuZ2V0QmlkKHtcbiAgICAgICAgICAgIHNpemVzOiB2aWV3cG9ydFNpemVzLFxuICAgICAgICAgICAgdGFyZ2V0aW5nOiBzbG90cy5nZXRTbG90VGFyZ2V0aW5nKGlkKVxuICAgICAgICB9KSkuZmlsdGVyKGJpZCA9PiAhIWJpZClcbiAgICB9IDoge1xuICAgICAgICBiaWRzOiBbXSAgLy8gZW1wdHkgb2JqZWN0IGlmIHRoZXJlIGFyZSBubyB2aWV3cG9ydCBzaXplc1xuICAgIH07XG59KS5maWx0ZXIoYmlkID0+IGJpZC5iaWRzLmxlbmd0aCA+IDApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICByZWdpc3RlckJpZGRlcjogcmVnaXN0ZXJCaWRkZXIsXG4gICAgY3JlYXRlQmlkc0FycmF5OiBjcmVhdGVCaWRzQXJyYXlcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvYWRzL2JpZGRlcnMvaW5kZXguanMiLCJmdW5jdGlvbiBjb250ZW50QWRzKCRjb250ZW50KSB7XG4gICAgcmV0dXJuICRjb250ZW50LmZpbmQoJy5kZnAtYWQnKTtcbn1cblxuZnVuY3Rpb24gc3RhbmRhcmRGdW5jdGlvbigkY29udGVudCkge1xuICAgIHJldHVybiBjb250ZW50QWRzKCRjb250ZW50KS5hZGQoJy5kZnAtYWQtbzEnKS5hZGQoJGNvbnRlbnQuYXR0cignZGF0YS1yZWZyZXNoLWFkcycpIHx8ICcnKTtcbn1cblxuZnVuY3Rpb24gYXJ0aWNsZSgkY29udGVudCkge1xuICAgIHJldHVybiBzdGFuZGFyZEZ1bmN0aW9uKCRjb250ZW50KS5hZGQoJy5kZnAtYWQtbTEnKTtcbn1cblxuY29uc3QgdHlwZXMgPSB7XG4gICAgYXJ0aWNsZTogYXJ0aWNsZSxcbiAgICAnbGlnaHRib3gtZ2FsbGVyeSc6IGNvbnRlbnRBZHNcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29udGVudFR5cGUpIHtcbiAgICByZXR1cm4gdHlwZXNbY29udGVudFR5cGVdIHx8IHN0YW5kYXJkRnVuY3Rpb247XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9jb250ZW50LWFkcy5qcyIsImNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbmNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbmNvbnN0IGdsb2JhbERlYnVnID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZGVidWcnKTtcbmNvbnN0IGRlYnVnID0gZ2xvYmFsRGVidWcoJ2RmcCcpO1xuY29uc3QgZGVidWdEZnBBdXRvID0gZ2xvYmFsRGVidWcoJ2RmcGF1dG8nKTtcbmNvbnN0IGRpc2FibGVEZnAgPSBnbG9iYWxEZWJ1Zy5pc0VuYWJsZWQoJ2Zha2VhZHMnKTtcblxuY29uc3Qgc2xvdHMgPSByZXF1aXJlKCcuL3Nsb3RzJyk7XG5cbi8vIHdlIGFzc3VtZSBzbG90IElEIGlzIGFscmVhZHkgdW5pcXVlXG5mdW5jdGlvbiBkZWZpbmVEZnBTbG90KGlkLCBzbG90SW5zdGFuY2VEYXRhLCBzbG90RWxlbWVudCkge1xuICAgIHZhciBzbG90RGF0YSA9IHNsb3RJbnN0YW5jZURhdGEuc2xvdDtcbiAgICB2YXIgYWRTaXplcztcblxuICAgIHZhciBub25SZXNwb25zaXZlU2l6ZSA9IHNsb3REYXRhLnNpemVNYXBwaW5nW18ubWF4KE9iamVjdC5rZXlzKHNsb3REYXRhLnNpemVNYXBwaW5nKSwgZnVuY3Rpb24oeCkgeyByZXR1cm4gcGFyc2VJbnQoeCwgMTApOyB9KV07XG5cbiAgICBfLmV4dGVuZChzbG90RGF0YS50YXJnZXRpbmdQYXJhbWV0ZXJzLCBzbG90SW5zdGFuY2VEYXRhLmV4dHJhVGFyZ2V0aW5nKTtcblxuICAgIGlmIChkaXNhYmxlRGZwKSB7XG4gICAgICAgIGFkU2l6ZXMgPSBzbG90RGF0YS5zaXplTWFwcGluZ1tfLmZpbmQoXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzbG90RGF0YS5zaXplTWFwcGluZykuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBwYXJzZUludChiLCAxMCkgLSBwYXJzZUludChhLCAxMCk7IH0pLFxuICAgICAgICAgICAgZnVuY3Rpb24oc2l6ZSkgeyByZXR1cm4gc2l6ZSA8IHdpbmRvdy5pbm5lcldpZHRoO31cbiAgICAgICAgKV07XG4gICAgICAgIGlmIChhZFNpemVzID09PSBudWxsIHx8IHR5cGVvZiBhZFNpemVzLmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcgfHwgYWRTaXplcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICAkKHNsb3RFbGVtZW50KS5kYXRhKHtcbiAgICAgICAgICAgICdhZC13aWR0aCc6IGFkU2l6ZXNbMF1bMF0sXG4gICAgICAgICAgICAnYWQtaGVpZ2h0JzogYWRTaXplc1swXVsxXSxcbiAgICAgICAgICAgICdhZC1zbG90JzogKHNsb3REYXRhLnRhcmdldGluZ1BhcmFtZXRlcnMgJiYgc2xvdERhdGEudGFyZ2V0aW5nUGFyYW1ldGVycy5wb3MgJiYgc2xvdERhdGEudGFyZ2V0aW5nUGFyYW1ldGVycy5wb3NbMF0pIHx8IHNsb3REYXRhLnNsb3ROYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdsb2JhbERlYnVnKCdmYWtlYWRzJywgJ2RlZmluZWQgZmFrZSBhZCAnICsgaWQsIHNsb3REYXRhLnNsb3ROYW1lLCBhZFNpemVzWzBdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvdy5nb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB3aW5kb3cuZ29vZ2xldGFnLmRlZmluZVNsb3QoXG4gICAgICAgICAgICB3aW5kb3cuUEdNLmFkcy5hZFVuaXQsXG4gICAgICAgICAgICBub25SZXNwb25zaXZlU2l6ZSxcbiAgICAgICAgICAgIGlkXG4gICAgICAgICkuYWRkU2VydmljZSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpKTtcblxuICAgICAgICBfLmVhY2goc2xvdERhdGEudGFyZ2V0aW5nUGFyYW1ldGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgc2xvdC5zZXRUYXJnZXRpbmcoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzbG90RGF0YS5yZXNwb25zaXZlKSB7XG4gICAgICAgICAgICBjb25zdCBtYXBwaW5nID0gd2luZG93Lmdvb2dsZXRhZy5zaXplTWFwcGluZygpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzbG90RGF0YS5zaXplTWFwcGluZykuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGIsIDEwKSAtIHBhcnNlSW50KGEsIDEwKTtcbiAgICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgbWFwcGluZy5hZGRTaXplKFtwYXJzZUludChrZXksIDEwKSwwXSwgc2xvdERhdGEuc2l6ZU1hcHBpbmdba2V5XSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2xvdC5kZWZpbmVTaXplTWFwcGluZyhtYXBwaW5nLmJ1aWxkKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyBkb2Vzbid0IGFjdHVhbGx5IHNob3cgdGhlIHNsb3RcbiAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5kaXNwbGF5KGlkKTtcblxuICAgICAgICBzbG90cy5hZGQoaWQsIHNsb3QsIHNsb3REYXRhLnNpemVNYXBwaW5nKTtcbiAgICAgICAgZGVidWcoJ2RlZmluZWQgJyArIGlkLCBzbG90LmdldFRhcmdldGluZygncG9zJylbMF0sIHNsb3REYXRhLnNpemVNYXBwaW5nLCBzbG90RGF0YS50YXJnZXRpbmdQYXJhbWV0ZXJzKTtcbiAgICAgICAgZGVidWdEZnBBdXRvKHNsb3QuZ2V0VGFyZ2V0aW5nKCdwb3MnKVswXSwgc2xvdERhdGEuc2l6ZU1hcHBpbmcsIHNsb3REYXRhLnRhcmdldGluZ1BhcmFtZXRlcnMpO1xuICAgIH0pO1xufVxuXG5jb25zdCByZWZyZXNoRGZwU2xvdCA9IGZ1bmN0aW9uIChzbG90SWRzKSB7XG4gICAgdmFyIGZha2VBZENvbG9yO1xuXG4gICAgaWYgKGdsb2JhbERlYnVnLmlzRW5hYmxlZCgnZGZwd2h5JykpIHtcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgIH1cblxuICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHNsb3RJZHMpIHJldHVybjtcbiAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBzbG90SWRzKSBzbG90SWRzID0gW3Nsb3RJZHNdO1xuXG4gICAgaWYgKGRpc2FibGVEZnApIHtcbiAgICAgICAgZmFrZUFkQ29sb3IgPSBbTWF0aC5mbG9vcigyNTYqTWF0aC5yYW5kb20oKSksIE1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpLCBNYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKV07XG5cbiAgICAgICAgXy5lYWNoKCBzbG90SWRzLCBmdW5jdGlvbihzbG90SWQpIHtcbiAgICAgICAgICAgIGdsb2JhbERlYnVnKCdmYWtlYWRzJywgXCJkaXNwbGF5aW5nIGNvbG9yZWQgYm94IGFkIGZvclwiLCBzbG90SWQgKTtcbiAgICAgICAgICAgIHZhciAkYWRTbG90ID0gJCgnIycgKyBzbG90SWQpO1xuICAgICAgICAgICAgaWYoICRhZFNsb3QubGVuZ3RoICE9PSAxICkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdmYWtlYWRzJywgXCJjb3VsZCBub3QgZmluZCBzbG90XCIsIHNsb3RJZCApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHdpZHRoID0gJGFkU2xvdC5kYXRhKCdhZC13aWR0aCcpO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9ICRhZFNsb3QuZGF0YSgnYWQtaGVpZ2h0Jyk7XG5cbiAgICAgICAgICAgIGlmKCB0eXBlb2Ygd2lkdGggPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBoZWlnaHQgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgICAgICAgIGdsb2JhbERlYnVnKCdmYWtlYWRzJywgXCJjb3VsZCBub3QgZmluZCB3aWR0aCBvciBoZWlnaHRcIiwgc2xvdElkLCB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkYWRTbG90Lmh0bWwoJzxkaXYgY2xhc3M9XCJmYWtlLWFkXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOnJnYignICsgZmFrZUFkQ29sb3Iuam9pbignLCcpICsgJyk7d2lkdGg6JyArIHdpZHRoICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O21hcmdpbjphdXRvXCI+PGgxIHN0eWxlPVwiYmFja2dyb3VuZDpibGFjaztjb2xvcjp3aGl0ZTt3aWR0aDo1MHB4O21hcmdpbjphdXRvXCI+JyArICRhZFNsb3QuZGF0YSgnYWQtc2xvdCcpICsgJzwvaDE+PC9kaXY+Jyk7XG5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aW5kb3cuZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLnJlZnJlc2goc2xvdElkcy5tYXAoc2xvdHMuZ2V0KSk7XG4gICAgICAgIGRlYnVnKCdyZWZyZXNoaW5nICcgKyBzbG90SWRzLmpvaW4oJywgJyksIHNsb3RJZHMubWFwKHNsb3RzLmdldCkpO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZGVmaW5lOiBkZWZpbmVEZnBTbG90LFxuICAgIHJlZnJlc2g6IHJlZnJlc2hEZnBTbG90XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9kZnAuanMiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuXG5jb25zdCBnbG9iYWxEZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJyk7XG5jb25zdCBkZWJ1ZyA9IGdsb2JhbERlYnVnKCdkZnAnKTtcbmNvbnN0IHBianMgPSByZXF1aXJlKCdpbXBvcnRzP3RoaXM9PndpbmRvdyFleHBvcnRzP3dpbmRvdy5wYmpzIXN0YXRpY2pzL3ByZWJpZCcpO1xuXG5jb25zdCBiaWRkZXJzID0gcmVxdWlyZSgnLi9iaWRkZXJzJyk7XG5jb25zdCBtYWtlQTlBZGFwdGVyID0gcmVxdWlyZSgnLi9iaWRkZXJzL2FtYXpvbicpO1xuY29uc3QgUFJFQklEX1RJTUVPVVQgPSBnbG9iYWxEZWJ1ZygncHJlYmlkJykuZ2V0RGF0YSgpIHx8IDUwMDtcblxucGJqcy5yZWdpc3RlckJpZEFkYXB0ZXIobWFrZUE5QWRhcHRlcihwYmpzKSwgJ2FtYXpvbicpO1xucGJqcy5iaWRkZXJUaW1lb3V0ID0gUFJFQklEX1RJTUVPVVQ7XG5cbnBianMucXVlLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgaWYoIHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlLm1hcmsgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKCdhZHNfcmVxdWVzdGVkJyk7XG4gICAgfVxuICAgIHBianMuZW5hYmxlU2VuZEFsbEJpZHMoKTtcbn0pO1xuXG5mdW5jdGlvbiBhdWN0aW9uKGlkcykge1xuICAgIGNvbnN0IHJlZnJlc2hTbG90cyA9IGJpZGRlcnMuY3JlYXRlQmlkc0FycmF5KGlkcykuY29uY2F0KHtcbiAgICAgICAgY29kZTogJ2Zha2VTbG90Rm9yQW1hem9uJyxcbiAgICAgICAgc2l6ZXM6IFtbMzAwLDI1MF1dLFxuICAgICAgICBiaWRzOiBbeyBiaWRkZXI6ICdhbWF6b24nIH1dXG4gICAgfSk7XG5cbiAgICBkZWJ1Zygnc2V0dGluZyB1cCBwcmViaWQgZm9yJywgcmVmcmVzaFNsb3RzLCAnd2l0aCBhIHRpbWVvdXQgb2YgJywgUFJFQklEX1RJTUVPVVQpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHBianMucXVlLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwYmpzLmFkZEFkVW5pdHMocmVmcmVzaFNsb3RzKTtcbiAgICAgICAgICAgIHBianMucmVxdWVzdEJpZHMoe1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFBSRUJJRF9USU1FT1VULFxuICAgICAgICAgICAgICAgIGJpZHNCYWNrSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdyZWNlaXZlZCBiaWRzIGJhY2snLCBwYmpzLmdldEJpZFJlc3BvbnNlcygpKTtcblxuICAgICAgICAgICAgICAgICAgICBwYmpzLnNldFRhcmdldGluZ0ZvckdQVEFzeW5jKCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYW16bmFkcy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYygnYW16bnNsb3RzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge31cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBmYWtlQXVjdGlvbigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckJpZGRlcihuZXdCaWRkZXJzKSB7XG4gICAgaWYgKCFuZXdCaWRkZXJzKSByZXR1cm47XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG5ld0JpZGRlcnMpKSBuZXdCaWRkZXJzID0gW25ld0JpZGRlcnNdO1xuXG4gICAgYmlkZGVycy5yZWdpc3RlckJpZGRlcihuZXdCaWRkZXJzKTtcbiAgICBuZXdCaWRkZXJzLmZvckVhY2goZnVuY3Rpb24oYmlkZGVyKSB7XG4gICAgICAgIF8uZXh0ZW5kKHBianMuYmlkZGVyU2V0dGluZ3MsIGJpZGRlci5iaWRkZXJTZXR0aW5ncyk7IC8vIG5vIHByb2JsZW0gaWYgaXQncyB1bmRlZmluZWRcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXVjdGlvbjogZ2xvYmFsRGVidWcuaXNFbmFibGVkKCdmYWtlYWRzJykgPyBmYWtlQXVjdGlvbiA6IGF1Y3Rpb24sXG4gICAgcmVnaXN0ZXJCaWRkZXI6IHJlZ2lzdGVyQmlkZGVyXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9wcmViaWQuanMiLCJjb25zdCBlbnF1aXJlID0gcmVxdWlyZSgnZW5xdWlyZS5qcycpO1xuXG52YXIgaW5pdGlhbExvYWQ7XG5cbmZ1bmN0aW9uIHJlZnJlc2hBZHMoKSB7XG4gICAgaWYgKGluaXRpYWxMb2FkKSByZXR1cm4gKGluaXRpYWxMb2FkID0gZmFsc2UpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5yZXBsYWNlKCdmdWxsLXBhZ2UtYWQnLCAnJyk7XG4gICAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5yZWZyZXNoKCk7XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBxdWVyeSkgcmV0dXJuO1xuICAgIGluaXRpYWxMb2FkID0gd2luZG93Lm1hdGNoTWVkaWEocXVlcnkpLm1hdGNoZXM7XG4gICAgZW5xdWlyZS5yZWdpc3RlcihxdWVyeSwge1xuICAgICAgICBtYXRjaDogcmVmcmVzaEFkcyxcbiAgICAgICAgdW5tYXRjaDogcmVmcmVzaEFkc1xuICAgIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9hZHMvcmVzcG9uc2l2ZS5qcyIsImNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbmNvbnN0IGdsb2JhbERlYnVnID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZGVidWcnKTtcbmNvbnN0IGRlYnVnID0gZ2xvYmFsRGVidWcoJ2RmcCcpO1xuXG5mdW5jdGlvbiByZXRhcmdldFBhZ2UoJGNvbnRlbnQpIHtcbiAgICB3aW5kb3cuZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCAkc2NyaXB0ID0gJGNvbnRlbnQuZmluZCgnLmpzLWFkLXBhZ2VUYXJnZXRpbmcgc2NyaXB0Jyk7XG5cbiAgICAgICAgaWYgKCEkc2NyaXB0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZGVidWcoJ0Nhbm5vdCByZXRhcnRnZXQgcGFnZTsgbm8gdHJhY2tpbmcgc2NyaXB0IGZvdW5kIGluICcsICRjb250ZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfLmVhY2goSlNPTi5wYXJzZSgkc2NyaXB0LnRleHQoKSksIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLnNldFRhcmdldGluZyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBnbG9iYWxEZWJ1ZygnZGZwYXV0bycsICdQQUdFJywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBkZWJ1ZygnRXJyb3IgcGFyc2luZyBwYWdlIHRhcmdldGluZyBzY3JpcHQgZGF0YS4nLCAkc2NyaXB0LCBlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJldGFyZ2V0UGFnZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9hZHMvcmV0YXJnZXQtcGFnZS5qcyIsImNvbnN0IGV2ZW50cyA9IHJlcXVpcmUoJ3BnbWZlL2V2ZW50cycpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdwZ21mZS90b29scy9kZWJ1ZycpKCdkZnAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuc2xvdC5nZXRTbG90RWxlbWVudElkKCkpO1xuICAgIGxldCBwcmVwZW5kO1xuXG4gICAgaWYgKGVsZW0pIHtcbiAgICAgICAgaWYgKGVsZW0uaWQgPT09ICdkZnAtYWQtbzEnKSB7XG4gICAgICAgICAgICBpZiAoZS5pc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5yZXBsYWNlKCcgZnVsbC1wYWdlLWFkJywgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgtMSA9PT0gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUuaW5kZXhPZignZnVsbC1wYWdlLWFkJykpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSArPSAnIGZ1bGwtcGFnZS1hZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoLTEgPT09IGVsZW0uY2xhc3NOYW1lLmluZGV4T2YoJ2lzLWRmcC1yZXR1cm5lZCcpKSBlbGVtLmNsYXNzTmFtZSArPSAnIGlzLWRmcC1yZXR1cm5lZCc7XG5cbiAgICAgICAgcHJlcGVuZCA9IGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXByZXBlbmQnKTtcbiAgICAgICAgaWYgKHByZXBlbmQpIHtcbiAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGVwcmVwZW5kJywgcHJlcGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZS5pc0VtcHR5KSB7XG4gICAgICAgIGRlYnVnKCdkZnAnLCAnQWQgdW5pdCAnICsgZWxlbS5pZCArICcgaXMgZW1wdHkuJyk7XG4gICAgfVxuXG4gICAgZXZlbnRzLnRyaWdnZXIoJ2FkczpzbG90UmVuZGVyRW5kZWQnLCB7IGVsOiBlbGVtLCBzbG90OiBlLnNsb3QgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2Fkcy9zbG90LXJlbmRlci1lbmRlZC5qcyIsImNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbmNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbmNvbnN0IHN1cHBvcnQgPSByZXF1aXJlKCdwZ21mZS9zdXBwb3J0Jyk7XG5jb25zdCBnbG9iYWxEZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJyk7XG5jb25zdCBkZWJ1ZyA9IGdsb2JhbERlYnVnKCdkZnAnKTtcblxuLy8gdGhpcyBpcyBjYWxsZWQgYWZ0ZXIgZG9jdW1lbnQgcmVhZHlcbmZ1bmN0aW9uIG1ha2VMZWFkZXJib2FyZFN0aWNreShvcHRzKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9ICQuZXh0ZW5kKHtcbiAgICAgICAgcG9zaXRpb246ICd0JyxcbiAgICAgICAgY2xhc3NOYW1lOiAnbGVhZGVyYm9hcmQtLXRvcCcsXG4gICAgICAgIC8vIGFsbG93IHByb2R1Y3QgdG8gc2V0IGEgY3VzdG9tIHN0aWNreSBsZWFkZXJib2FyZCB0aW1lXG4gICAgICAgIHN0aWNreVRpbWU6IDUwMDAsXG4gICAgICAgIGF2b2lkQ29sbGlzaW9uOiBmYWxzZSxcbiAgICAgICAgbWluOiAxMCxcbiAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgIG9mZnNldDogZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9XG4gICAgfSwgb3B0cyk7XG5cbiAgICAvLyBvdmVycmlkZSBzb21lIHRoaW5ncyBpZiBuZWNlc3NhcnlcbiAgICBpZiAoZ2xvYmFsRGVidWcuZ2V0RGF0YSgnc3RpY2t5dCcpKSBvcHRpb25zLnN0aWNreVRpbWUgPSBnbG9iYWxEZWJ1Zy5nZXREYXRhKCdzdGlja3l0JykgKiAxMDAwO1xuICAgIGlmICgnZnVuY3Rpb24nICE9PSB0eXBlb2Ygb3B0aW9ucy5vZmZzZXQpIG9wdGlvbnMub2Zmc2V0ID0gKGZ1bmN0aW9uKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiBvZmZzZXQ7IH07XG4gICAgfSkocGFyc2VJbnQob3B0aW9ucy5vZmZzZXQsIDEwKSk7XG5cbiAgICAvLyB0aGlzIG9ubHkgaGFwcGVucyBvbmNlIHBlciBzbG90XG4gICAgbGV0IHN0aWNreUNvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAvLyB3cmFwIHRoZSBsZWFkZXJib2FyZCBpbiBhIHBsYWNlaG9sZGVyIChkb25lIGltbWVkYWl0ZWx5IG9uIGFkczpkZWZpbmVkLFxuICAgIC8vIGJlY2F1c2UgZG9pbmcgaXQgbGF0ZXIgd291bGQgaW50ZXJmZXJlIHdpdGggREZQJ3MgZXZlbnQgYmluZGluZylcbiAgICBjb25zdCAkbGVhZGVyYm9hcmRUb3AgPSAkKChvcHRpb25zLmNsYXNzTmFtZS5pbmRleE9mKCcuJykgPT09IDAgPyAnJyA6ICcuJykgKyBvcHRpb25zLmNsYXNzTmFtZSk7XG4gICAgY29uc3QgJHBsYWNlaG9sZGVyID0gJGxlYWRlcmJvYXJkVG9wLndyYXAoJzxkaXY+JykucGFyZW50KCk7XG4gICAgY29uc3QgJGF2b2lkQ29sbGlzaW9uID0gJ3N0cmluZycgPT09IHR5cGVvZiBvcHRpb25zLmF2b2lkQ29sbGlzaW9uID8gJCgob3B0aW9ucy5hdm9pZENvbGxpc2lvbi5pbmRleE9mKCcuJykgPT09IDAgPyAnJyA6ICcuJykgKyBvcHRpb25zLmF2b2lkQ29sbGlzaW9uKSA6ICQoKTtcblxuICAgIGNvbnN0IHByZWZpeCA9IG9wdGlvbnMuY2xhc3NOYW1lLnJlcGxhY2UoL15cXC4vLCAnJykuc3BsaXQoJy0tJylbMF07XG4gICAgY29uc3Qgc3RpY2t5Q2xhc3MgID0gcHJlZml4ICsgJy0taXMtc3RpY2t5JztcbiAgICBjb25zdCBzbGlkaW5nQ2xhc3MgPSBwcmVmaXggKyAnLS1pcy1zbGlkaW5nLXVwJztcblxuICAgIGNvbnN0IHJlbW92ZUxlYWRlcmJvYXJkRnJvbVZpZXcgPSBfLm9uY2UoZnVuY3Rpb24gcmVtb3ZlTGVhZGVyYm9hcmRGcm9tVmlldygpIHtcbiAgICAgICAgZGVidWcoJ3JlbW92aW5nIHN0aWNreSBsZWFkZXJib2FyZCcpO1xuICAgICAgICBzdGlja3lDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICRsZWFkZXJib2FyZFRvcC5hZGRDbGFzcyhzbGlkaW5nQ2xhc3MpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIHJlc2V0TGVhZGVyYmFvcmQoKSB7XG4gICAgICAgICAgICAkbGVhZGVyYm9hcmRUb3AucmVtb3ZlQ2xhc3Moc3RpY2t5Q2xhc3MpLnJlbW92ZUNsYXNzKHNsaWRpbmdDbGFzcyk7XG4gICAgICAgICAgICAkcGxhY2Vob2xkZXIuY3NzKCdoZWlnaHQnLCAnYXV0bycpO1xuICAgICAgICAgICAgZGVidWcoJ3N0aWNreSBsZWFkZXJib2FyZCByZW1vdmVkJyk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBzZXR1cFN0aWNreUxlYWRlcmJvYXJkKCkge1xuICAgICAgICAkcGxhY2Vob2xkZXIud2F5cG9pbnQoZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoc3RpY2t5Q29tcGxldGUpIHJldHVybjsgLy8gd2UncmUgZG9uZSBiZWluZyBzdGlja3lcblxuICAgICAgICAgICAgZGVidWcoJ3N0aWNreSBsZWFkZXJib2FyZCBpcyAnICsgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gJycgOiAndW4nKSArICdzdGlja2luZycpO1xuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnZG93bicpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Zygnc3RpY2t5IGxlYWRlcmJvYXJkIGlzIHN0aWNraW5nJyk7XG4gICAgICAgICAgICAgICAgJHBsYWNlaG9sZGVyLmNzcygnaGVpZ2h0JywgJGxlYWRlcmJvYXJkVG9wLm91dGVySGVpZ2h0KHRydWUpKTtcbiAgICAgICAgICAgICAgICAkbGVhZGVyYm9hcmRUb3AuYWRkQ2xhc3Moc3RpY2t5Q2xhc3MpLmNzcygndG9wJywgb3B0aW9ucy5vZmZzZXQoKSArICdweCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgd2UncmUgbm90IGdvaW5nIGRvd24sIHdlJ3JlIGdvaW5nIHVwXG4gICAgICAgICAgICAkbGVhZGVyYm9hcmRUb3AucmVtb3ZlQ2xhc3Moc3RpY2t5Q2xhc3MpLmNzcygndG9wJywgJ2F1dG8nKTtcbiAgICAgICAgICAgICRwbGFjZWhvbGRlci5jc3MoJ2hlaWdodCcsICdhdXRvJyk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucy5vZmZzZXRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYWRzIHNob3VsZG4ndCBvdmVybGFwIHdpdGggJGF2b2lkQ29sbGlzaW9uIGVsZW1lbnRzXG4gICAgICAgICRhdm9pZENvbGxpc2lvbi53YXlwb2ludChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzdGlja3lDb21wbGV0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgZGVidWcoJ3N0aWNreSBsZWFkZXJib2FyZCBtb3Zpbmcgb3V0IG9mIHRoZSB3YXkgb2YgJyArIG9wdGlvbnMuYXZvaWRDb2xsaXNpb24pO1xuICAgICAgICAgICAgcmVtb3ZlTGVhZGVyYm9hcmRGcm9tVmlldygpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9ICRsZWFkZXJib2FyZFRvcC5vdXRlckhlaWdodCh0cnVlKSArIG9wdGlvbnMub2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTmFOKGRpc3RhbmNlKSA/IDAgOiBkaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgJC53YXlwb2ludHMoJ3JlZnJlc2gnKTsgfSwgMjUwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW1wcmVzc2lvblZpZXdhYmxlQ2FsbGJhY2soZSkge1xuICAgICAgICBpZiAoZS5zbG90LmdldFRhcmdldGluZygncG9zJykuaW5kZXhPZihvcHRpb25zLnBvc2l0aW9uKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGRlYnVnKCdsZWFkZXJib2FyZCAocG9zOiAnICsgb3B0aW9ucy5wb3NpdGlvbiArICcpIGlzIHZpc2libGUgYXQgJyArIERhdGUubm93KCkpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnbGVhZGVyYm9hcmQgKHBvczogJyArIG9wdGlvbnMucG9zaXRpb24gKyAnKSBoYXMgYmVlbiB2aXNpYmxlIGZvciBhdCBsZWFzdCAnICsgb3B0aW9ucy5zdGlja3lUaW1lICsgJ21zJyk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTGVhZGVyYm9hcmRGcm9tVmlldygpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucy5zdGlja3lUaW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNsb3RSZW5kZXJFbmRlZENhbGxiYWNrKGUpIHtcbiAgICAgICAgaWYgKGUuc2xvdC5nZXRUYXJnZXRpbmcoJ3BvcycpLmluZGV4T2Yob3B0aW9ucy5wb3NpdGlvbikgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiggZS5zaXplWzFdID49IG9wdGlvbnMubWluICYmIGUuc2l6ZVsxXSA8PSBvcHRpb25zLm1heCkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdsZWFkZXJib2FyZCAocG9zOiAnICsgb3B0aW9ucy5wb3NpdGlvbiArICcpIHNob3VsZCBiZSBzdGlja3knKTtcbiAgICAgICAgICAgICAgICBzZXR1cFN0aWNreUxlYWRlcmJvYXJkKCk7XG4gICAgICAgICAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5hZGRFdmVudExpc3RlbmVyKCdpbXByZXNzaW9uVmlld2FibGUnLCBpbXByZXNzaW9uVmlld2FibGVDYWxsYmFjayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdsZWFkZXJib2FyZCBzaG91bGQgbm90IGJlIHN0aWNreSAocG9zOiAnICsgb3B0aW9ucy5wb3NpdGlvbiArICcsIHNpemU6ICcgKyBlLnNpemUuam9pbigneCcpICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5nb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuYWRkRXZlbnRMaXN0ZW5lcignc2xvdFJlbmRlckVuZGVkJywgc2xvdFJlbmRlckVuZGVkQ2FsbGJhY2spO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN1cHBvcnQudG91Y2ggPyAkLm5vb3AgOiBtYWtlTGVhZGVyYm9hcmRTdGlja3k7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvYWRzL3N0aWNreS1sZWFkZXJib2FyZC5qcyIsImNvbnN0IEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vblJlbmRlcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uUmVuZGVyOiBmdW5jdGlvbigpIHt9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2Jhc2Utdmlldy5qcyIsImNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbmNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbmNvbnN0IGV2ZW50cyA9IHJlcXVpcmUoJ3BnbWZlL2V2ZW50cycpO1xuXG5jb25zdCByZW1vdmVGb290ZXIgPSBfLm9uY2UoZnVuY3Rpb24oKSB7XG4gICAgJCgnLnNpdGUtZm9vdGVyJylcbiAgICAgICAgLmFkZENsYXNzKCdwZXJtYS1oaWRkZW4nKVxuICAgICAgICAud2F5cG9pbnQoJ2Rlc3Ryb3knKVxuICAgIDtcbiAgICAkLndheXBvaW50cygncmVmcmVzaCcpO1xufSk7XG5cbmZ1bmN0aW9uIHNldFVwQXV0b0xvYWQoKSB7XG5cbiAgICB2YXIgJGF1dG9sb2FkID0gJCgnLmF1dG9sb2FkLWRpcmVjdC1yZW5kZXInKTtcbiAgICBpZiggJGF1dG9sb2FkLmxlbmd0aCA9PT0gMCApIHtcbiAgICAgICAgaWYgKCQoJy5qcy1hdXRvbG9hZFN0b3AnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICQoJy5zaXRlLWZvb3RlcicpLnJlbW92ZUNsYXNzKCdwZXJtYS1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVtb3ZlRm9vdGVyKCk7XG5cbiAgICAkYXV0b2xvYWQuZmlsdGVyKCc6bm90KC5wcm9jZXNzZWQtYnktYXV0b2xvYWRlciknKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpOyAvLyBmb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgdmFyIHVybFByZWZpeCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXVybC1wcmVmaXgnKSB8fCAnJztcbiAgICAgICAgdmFyIHVybCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXVybCcpO1xuICAgICAgICB2YXIgcXVlcnkgPSBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggfHwgJyc7XG5cbiAgICAgICAgLy8gc2FuaXR5IGNoZWNrXG4gICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgICAgICR0aGlzLndheXBvaW50KHtcbiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhdXRvbG9hZC1zcGlubmVyJyk7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxQcmVmaXggKyB1cmwgKyBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlcGxhY2VXaXRoKCByZXNwb25zZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2FzeW5jQ29udGVudFJlYWR5Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZzZXQ6ICcxNTAlJyxcbiAgICAgICAgICAgIHRyaWdnZXJPbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0pLmFkZENsYXNzKCdwcm9jZXNzZWQtYnktYXV0b2xvYWRlcicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFVwQXV0b0xvYWQ7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9kaXJlY3QtcmVuZGVyLmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuY29uc3QgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJykoJ2luaXQnKTtcblxudmFyIEJhc2VNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgLy8gYnkgZGVmYXVsdCB3ZSBvdmVycmlkZSB0aGUgZmV0Y2ggbWV0aG9kLCBiZWNhdXNlIGluIHRoZVxuICAgIC8vIGxhcmdlIG1ham9yaXR5IG9mIGNhc2VzIHdlJ3JlIG5vdCBnb2luZyB0byBoYXZlIHRvIGZldGNoXG4gICAgLy8gZGF0YSBmcm9tIHRoZSBzZXJ2ZXJcbiAgICBmZXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfSxcblxuICAgIC8vIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBwYXRoc1xuICAgIC8vIEB0b2RvIHRoaXMgc3Vja3NcbiAgICBzbGFzaGlmeTogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICBwYXRoID0gcGF0aCB8fCAnJztcbiAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnaHR0cCcpKSByZXR1cm4gcGF0aDtcbiAgICAgICAgcmV0dXJuIChwYXRoLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogJy8nKSArIHBhdGg7XG4gICAgfSxcbiAgICBtYWtlSW1hZ2VTcmM6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IHRoaXMuc2xhc2hpZnkocGF0aCk7XG4gICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJ2h0dHAnKSkgcmV0dXJuIHBhdGg7XG5cbiAgICAgICAgLy8gQHRvZG8gdGhpcyBzdWNrc1xuICAgICAgICByZXR1cm4gd2luZG93LlRIUiAmJiB3aW5kb3cuVEhSLmNvbmZpZyAmJiB3aW5kb3cuVEhSLmNvbmZpZy5nZXRNZWRpYUhvc3QgP1xuICAgICAgICAgICAgd2luZG93LlRIUi5jb25maWcuZ2V0TWVkaWFIb3N0KHBhdGgpIDpcbiAgICAgICAgICAgICh3aW5kb3cuQkIgJiYgd2luZG93LkJCLmNvbmZpZyAmJiB3aW5kb3cuQkIuY29uZmlnLm1lZGlhSG9zdCA/XG4gICAgICAgICAgICAgICAgd2luZG93LkJCLmNvbmZpZy5tZWRpYUhvc3QgKyBwYXRoIDpcbiAgICAgICAgICAgICAgICBwYXRoXG4gICAgICAgICAgICApXG4gICAgICAgIDtcbiAgICB9LFxuICAgIG1ha2VJbWFnZWNhY2hlU3JjOiBmdW5jdGlvbihtZWRpYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYWtlSW1hZ2VTcmMobWVkaWEucGF0aCk7XG4gICAgfVxufSk7XG5cbnZhciBCYXNlVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgIH0sXG4gICAgdGVtcGxhdGU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gJyc7IH0sXG4gICAgc2VyaWFsaXplRGF0YTogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLm1vZGVsLnRvSlNPTigpOyB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGV4dGVuc2libGUhXG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLnNlcmlhbGl6ZURhdGEoKSkpO1xuICAgICAgICB0aGlzLm9uUmVuZGVyKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge31cbn0pO1xuXG52YXIgdHlwZXMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2V0QmFzZVZpZXc6IGZ1bmN0aW9uKFZpZXcpIHtcbiAgICAgICAgLy8gQHRvZG8gdmFsaWRhdGlvblxuICAgICAgICBCYXNlVmlldyA9IFZpZXc7XG4gICAgfSxcbiAgICBnZXRCYXNlVmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCYXNlVmlldztcbiAgICB9LFxuICAgIHNldEJhc2VNb2RlbDogZnVuY3Rpb24oTW9kZWwpIHtcbiAgICAgICAgLy8gQHRvZG8gdmFsaWRhdGlvblxuICAgICAgICBCYXNlTW9kZWwgPSBNb2RlbDtcbiAgICB9LFxuICAgIGdldEJhc2VNb2RlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCYXNlTW9kZWw7XG4gICAgfSxcbiAgICByZWdpc3RlcjogZnVuY3Rpb24odGVtcGxhdGUsIG1vZGVsRGF0YSwgdmlld0RhdGEpIHtcbiAgICAgICAgLy8gQHRvZG8gdmFsaWRhdGlvblxuICAgICAgICB0eXBlc1t0ZW1wbGF0ZV0gPSB7XG4gICAgICAgICAgICBtb2RlbERhdGE6IG1vZGVsRGF0YSB8fCB7fSxcbiAgICAgICAgICAgIHZpZXdEYXRhOiB2aWV3RGF0YSB8fCB7fVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXR0YWNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRwcm9jZXNzZWRDb250ZW50ID0gJCgpO1xuXG4gICAgICAgICQoJy5lbWJlZGRlZC1jb250ZW50W2RhdGEtdGVtcGxhdGVdOm5vdCguaXMtZW1iZWQtaW5pdGlhbGl6ZWQpJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJyk7XG4gICAgICAgICAgICB2YXIgZGF0YSwgTW9kZWwsIG1vZGVsLCBWaWV3LCB2aWV3O1xuXG4gICAgICAgICAgICBpZiAodGVtcGxhdGUgJiYgdHlwZXNbdGVtcGxhdGVdKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoJCh0aGlzKS5maW5kKCdzY3JpcHRbdHlwZT1cImFwcGxpY2F0aW9uL2pzb25cIl0nKS5odG1sKCkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnQ291bGQgbm90IGZpbmQgZW1iZWQgZGF0YSBpbicsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGJhaWwgaWYgSlNPTi5wYXJzZSgpIGRvZXNuJ3Qgd29ya1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFwiaW5zdGFuY2VvZlwiIHdvbid0IHdvcmsgaGVyZSwgc2luY2UgaXQgd29uJ3QgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICAvLyB1bnRpbCB0aGUgY2xhc3MgaXMgaW5zdGFudGlhdGVkLiBTbywgYXMgYSBwcm94eSwgd2UgdGVzdFxuICAgICAgICAgICAgICAgIC8vIGZvciB0aGUgXCJleHRlbmRcIiBtZXRob2QuXG4gICAgICAgICAgICAgICAgIE1vZGVsID0gdHlwZW9mIHR5cGVzW3RlbXBsYXRlXS5tb2RlbERhdGEuZXh0ZW5kID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICAgICAgdHlwZXNbdGVtcGxhdGVdLm1vZGVsRGF0YSA6XG4gICAgICAgICAgICAgICAgICAgIEJhc2VNb2RlbC5leHRlbmQodHlwZXNbdGVtcGxhdGVdLm1vZGVsRGF0YSlcbiAgICAgICAgICAgICAgICA7XG5cbiAgICAgICAgICAgICAgICAgVmlldyA9IHR5cGVvZiB0eXBlc1t0ZW1wbGF0ZV0udmlld0RhdGEuZXh0ZW5kID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICAgICAgdHlwZXNbdGVtcGxhdGVdLnZpZXdEYXRhIDpcbiAgICAgICAgICAgICAgICAgICAgQmFzZVZpZXcuZXh0ZW5kKHR5cGVzW3RlbXBsYXRlXS52aWV3RGF0YSlcbiAgICAgICAgICAgICAgICA7XG5cbiAgICAgICAgICAgICAgICBtb2RlbCA9IG5ldyBNb2RlbChkYXRhLCB7cGFyc2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgICB2aWV3ID0gbmV3IFZpZXcoe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIGVsOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2aWV3LiRlbC5hZGRDbGFzcygnZW1iZWRkZWQtY29udGVudC0tJyArIHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgJ2VtYmVkTW9kZWwnLCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdlbWJlZFZpZXcnLCB2aWV3KTtcbiAgICAgICAgICAgICAgICBtb2RlbC5mZXRjaCgpOyAvLyB0cmlnZ2VyIFwiY2hhbmdlXCJcblxuICAgICAgICAgICAgICAgICRwcm9jZXNzZWRDb250ZW50ID0gJHByb2Nlc3NlZENvbnRlbnQuYWRkKHZpZXcuJGVsKTtcblxuICAgICAgICAgICAgICAgIGRlYnVnKCdJbml0aWFsaXppbmcgRW1iZWQnLCB0ZW1wbGF0ZSwgJ29uJywgdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdDb3VsZCBOb3QgSW5pdGlhbGl6ZSBFbWJlZCcsIHRlbXBsYXRlLCAnb24nLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuYWRkQ2xhc3MoJ2lzLWVtYmVkLWluaXRpYWxpemVkJyk7XG5cbiAgICAgICAgcmV0dXJuICRwcm9jZXNzZWRDb250ZW50O1xuICAgIH0sXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvZW1iZWRzLmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxuY29uc3QgJHdpbmRvdyA9ICQod2luZG93KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgTW9kZWw6IHtcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICQuZWFjaChkYXRhLml0ZW1zLCBmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5pdGVtc1tpXS5wYXRoID0gd2luZG93LlBHTS5jb25maWcuY29udGVudEhvc3QgKyBzZWxmLnNsYXNoaWZ5KGRhdGEuaXRlbXNbaV0ucGF0aCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pdGVtc1tpXS5pbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW1zW2ldLm1lZGlhID0gZGF0YS5pdGVtc1tpXS5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGEuaXRlbXNbaV0uaW1hZ2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbXNbaV0ubWVkaWEuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtc1tpXS5tZWRpYSA9IGRhdGEuaXRlbXNbaV0ubWVkaWEuaW1hZ2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbXNbaV0ubWVkaWEgJiYgZGF0YS5pdGVtc1tpXS5tZWRpYS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaXRlbXNbaV0ubWVkaWEucGF0aCA9IHNlbGYubWFrZUltYWdlU3JjKGRhdGEuaXRlbXNbaV0ubWVkaWEucGF0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLml0ZW1zW2ldLm1lZGlhICYmIGRhdGEuaXRlbXNbaV0ubWVkaWEuY3JvcCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLml0ZW1zW2ldLm1lZGlhLnBhdGggPSBkYXRhLml0ZW1zW2ldLm1lZGlhLmNyb3BbJzc2OHg0MzMnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBWaWV3OiB7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgICAgICAgICAgJHdpbmRvdy5vbigncmVzaXplJywgXy5kZWJvdW5jZShfLmJpbmQodGhpcy5yZW5kZXIsIHRoaXMpLCAxNTApKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6IHdpbmRvdy5QR00uSlNUWydsb25nZm9ybS9wcm9tbyddLFxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2luZ2xlID0gdGhpcy5tb2RlbC5nZXQoJ2l0ZW1zJykubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2xvbmdmb3JtLXJhaWwtcHJvbW8gbG9uZ2Zvcm0tcmFpbC1wcm9tby0tJyArIChzaW5nbGUgPyAnc2luZ2xlJyA6ICdtdWx0aXBsZScpKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9lbWJlZHMvY29udGVudC1wcm9tby5qcyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIE1vZGVsOiB7XG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5pbWFnZSkge1xuICAgICAgICAgICAgICAgIGRhdGEubWVkaWEgPSBkYXRhLmltYWdlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmltYWdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnBhdGggPSBkYXRhWydyZWxhdGl2ZS1wYXRoJ10gfHwgZGF0YS5yZWxhdGl2ZV9wYXRoOyAvLyBpbmNvbnN0ZW50IFRIUi9CQlxuICAgICAgICAgICAgZGF0YS5tZWRpYS5zcmMgPSB0aGlzLm1ha2VJbWFnZVNyYyhkYXRhLm1lZGlhLnBhdGgpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgVmlldzoge1xuICAgICAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2VtYmVkcy9nYWxsZXJ5J11cbiAgICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvZW1iZWRzL2dhbGxlcnkuanMiLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG5jb25zdCBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcbmNvbnN0IGdsb2JhbERlYnVnID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZGVidWcnKTtcbmNvbnN0IGRlYnVnID0gZ2xvYmFsRGVidWcoJ2h5YnJpZFBsYXllcicpO1xuY29uc3QgY3JlYXRlU2NyaXB0ID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvY3JlYXRlLXNjcmlwdCcpO1xuXG5jb25zdCBndWFyYW50ZWVZb3VUdWJlQXBpID0gXy5vbmNlKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHdpbmRvdy5vbllvdVR1YmVJZnJhbWVBUElSZWFkeSA9IHJlc29sdmU7XG4gICAgICAgIGNyZWF0ZVNjcmlwdC5jcmVhdGVTY3JpcHRUYWcoJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGknKTtcbiAgICB9KTtcbn0pO1xuXG5jb25zdCBWaWRlbyA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCgpO1xuY29uc3QgUGxheWVyTW9kZWwgPSB7IC8vIGV4dGVuZGVkIGJ5IHRoZSBlbWJlZHMgc3lzdGVtXG4gICAgdG9KU09OOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGpzb24gPSBCYWNrYm9uZS5Nb2RlbC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7XG4gICAgICAgIGpzb24uaXRlbXMgPSB0aGlzLmdldCgnaXRlbXMnKS50b0pTT04oKTtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICByZXR1cm4gXy5leHRlbmQoZGF0YSwge1xuICAgICAgICAgICAgaXRlbXM6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKGRhdGEuaXRlbXMsIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdicmlnaHRjb3ZlJyA9PT0gYXR0cnMudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5leHRlbmQoYXR0cnMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiBkYXRhLnBsYXllcklkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFZpZGVvKGF0dHJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleDogMFxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgc2V0SW5kZXg6IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5nZXQoJ2l0ZW1zJykuc2l6ZSgpKSB0aHJvdyB7XG4gICAgICAgICAgICBuYW1lOiAnSW52YWxpZCBJbmRleCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnWW91IHRyaWVkIHRvIHNldCBhIGJhZCB2aWRlbyBpbmRleCdcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXQoJ2N1cnJlbnRJbmRleCcsIGkpO1xuICAgIH0sXG5cbiAgICBnZXRDdXJyZW50VmlkZW86IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2l0ZW1zJykuYXQodGhpcy5nZXQoJ2N1cnJlbnRJbmRleCcpKTtcbiAgICB9XG59O1xuXG5jb25zdCBWaWRlb1BsYXllciA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5UbyhldmVudHMsICdoeWJyaWRQbGF5ZXI6dmlkZW9TdGFydCcsIHRoaXMuc3RvcCk7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0aGlzLmdldFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMub25Jbml0aWFsaXplKCk7XG4gICAgfSxcblxuICAgIG9uSW5pdGlhbGl6ZTogXy5ub29wLFxuXG4gICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LlBHTS5KU1RbJ2h5YnJpZF9wbGF5ZXIvcGxheWVyJ107XG4gICAgfSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLmh5YnJpZC1wbGF5ZXItdmlkZW9fX2NvbnRhaW5lcic6ICdwbGF5J1xuICAgIH0sXG5cbiAgICBjbGFzc05hbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2h5YnJpZC1wbGF5ZXItdmlkZW8gaHlicmlkLXBsYXllci12aWRlby0tJyArIHRoaXMubW9kZWwuZ2V0KCd0eXBlJyk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBwbGF5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGVsLmlzKCcuaXMtdmlkZW8tcGxheWluZycpKSByZXR1cm47XG4gICAgICAgIGV2ZW50cy50cmlnZ2VyKCdoeWJyaWRQbGF5ZXI6dmlkZW9TdGFydCcpO1xuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaXMtdmlkZW8tcGxheWluZycpO1xuICAgICAgICB0aGlzLnRyYWNrUGxheUV2ZW50KCk7XG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGVQbGF5ZXIoKTtcbiAgICB9LFxuXG4gICAgdHJhY2tQbGF5RXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBldmVudHMudHJpZ2dlcigndHJhY2tFdmVudCcsIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnVmlkZW8gLSBVc2VySW5pdGlhdGVkIC0gQkIgV2F0Y2gnLFxuICAgICAgICAgICAgYWN0aW9uOiAnUGxheScsXG4gICAgICAgICAgICBsYWJlbDogW3RoaXMubW9kZWwuZ2V0KCd0aXRsZScpLCB0aGlzLm1vZGVsLmdldCgnaWQnKV0uam9pbignIC0gJylcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGVsLmlzKCcuaXMtdmlkZW8tcGxheWluZycpKSByZXR1cm47XG4gICAgICAgIHRoaXMuZGVzdHJveVBsYXllckluc3RhbmNlKCk7XG4gICAgICAgIHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXItdmlkZW9fX2NvbnRhaW5lcicpLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdpcy12aWRlby1wbGF5aW5nJyk7XG4gICAgfSxcblxuICAgIGluc3RhbnRpYXRlUGxheWVyOiBmdW5jdGlvbigpIHsgZGVidWcoJ0NhbGxlZCBpbnN0YW50aWF0ZVBsYXllciBvbiB0aGUgYmFzZSBjbGFzcy4nKTsgfSxcbiAgICBkZXN0cm95UGxheWVySW5zdGFuY2U6IGZ1bmN0aW9uKCkgeyBkZWJ1ZygnQ2FsbGVkIGRlc3Ryb3lQbGF5ZXJJbnN0YW5jZSBvbiB0aGUgYmFzZSBjbGFzcy4nKTsgfSxcblxuICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcbiAgICB9XG59KTtcblxuLy8gY2hpbGQgY2xhc3NlcyBpbXBsZW1lbnQgaW5zdGFudGlhdGVQbGF5ZXIgYW5kIGRlc3Ryb3lQbGF5ZXJJbnN0YW5jZVxuY29uc3QgWW91VHViZVBsYXllciA9IFZpZGVvUGxheWVyLmV4dGVuZCh7XG4gICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LlBHTS5KU1RbJ2h5YnJpZF9wbGF5ZXIvcGxheWVyLXlvdXR1YmUnXTtcbiAgICB9LFxuXG4gICAgLy8gXCJwbGF5XCIgZ2V0cyBjYWxsZWQgb25jZSBieSB0aGUgbWFpbiBoeWJyaWQgcGxheWVyIHZpZXdcbiAgICAvLyB3aGVuIHRoZSB2aWV3IGlzIGluc2VydGVkXG4gICAgb25Jbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5iaW5kQWxsKHRoaXMsICdvblBsYXllclN0YXRlQ2hhbmdlJywgJ3BsYXknLCAndHJhY2tQbGF5RXZlbnQnLCAnY3JlYXRlWW91VHViZUFwaVBsYXllcicpO1xuICAgICAgICB0aGlzLnRyYWNrUGxheUV2ZW50ID0gXy5vbmNlKHRoaXMudHJhY2tQbGF5RXZlbnQpO1xuICAgICAgICB0aGlzLnBsYXkgPSBfLmFmdGVyKDEsIHRoaXMucGxheSk7XG4gICAgfSxcblxuICAgIGV2ZW50czoge30sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBWaWRlb1BsYXllci5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXItdmlkZW9fX3BsYXllci1pbnN0YW5jZScpXG4gICAgICAgICAgICAuYXBwZW5kKCc8ZGl2IGlkPVwiJyArIHRoaXMuY2lkICsgJ1wiPjwvZGl2PicpXG4gICAgICAgIDtcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0ZVBsYXllcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcGxheTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLiRlbC5pcygnLmlzLXZpZGVvLXBsYXlpbmcnKSkgcmV0dXJuO1xuICAgICAgICBldmVudHMudHJpZ2dlcignaHlicmlkUGxheWVyOnZpZGVvU3RhcnQnLCB0aGlzLmNpZCk7XG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdpcy12aWRlby1wbGF5aW5nJyk7XG4gICAgICAgIHRoaXMudHJhY2tQbGF5RXZlbnQoKTtcbiAgICB9LFxuXG4gICAgLy8gdGhpcyBpcyBzdG9wIFwibGl0ZVwiLCBzaW5jZSB3ZSdyZSBub3QgcmVtb3ZpbmcgdGhlIHBsYXllclxuICAgIC8vIEFuZCB3ZSBoYXZlIHRvIGNoZWNrIHdoZXRoZXIgdGhpcyB2aWV3IHRyaWdnZXJlZCB0aGUgc3RvcFxuICAgIC8vIGJlY2F1c2UgdGhlIHBsYXllciBpcyBhbHJlYWR5IGluIHByb2dyZXNzIHdoZW4gdGhpcyBpcyBjYWxsZWRcbiAgICBzdG9wOiBmdW5jdGlvbihjaWQpIHtcbiAgICAgICAgaWYgKGNpZCAhPT0gdGhpcy5jaWQpIHRoaXMucGxheWVyLnBhdXNlVmlkZW8oKTtcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2lzLXZpZGVvLXBsYXlpbmcnKTtcbiAgICB9LFxuXG4gICAgb25QbGF5ZXJTdGF0ZUNoYW5nZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBub3QgZGVzdHJveWluZyB0aGUgcGxheWVyIHdoZW4gdGhlIHZpZGVvIGlzIGVuZGVkXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGUuZGF0YSA9PT0gd2luZG93LllULlBsYXllclN0YXRlLkVOREVEIHx8XG4gICAgICAgICAgICBlLmRhdGEgPT09IHdpbmRvdy5ZVC5QbGF5ZXJTdGF0ZS5QQVVTRURcbiAgICAgICAgKSB0aGlzLnN0b3AoKTtcbiAgICAgICAgaWYgKGUuZGF0YSA9PT0gd2luZG93LllULlBsYXllclN0YXRlLlBMQVlJTkcpIHRoaXMucGxheSgpO1xuICAgIH0sXG5cbiAgICBpbnN0YW50aWF0ZVBsYXllcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGd1YXJhbnRlZVlvdVR1YmVBcGkoKS50aGVuKHRoaXMuY3JlYXRlWW91VHViZUFwaVBsYXllcik7XG4gICAgfSxcblxuICAgIGNyZWF0ZVlvdVR1YmVBcGlQbGF5ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXItdmlkZW9fX2NvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyB3aW5kb3cuWVQuUGxheWVyKHRoaXMuY2lkLCB7XG4gICAgICAgICAgICBoZWlnaHQ6ICRjb250YWluZXIub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgIHdpZHRoOiAkY29udGFpbmVyLm91dGVyV2lkdGgoKSxcbiAgICAgICAgICAgIHZpZGVvSWQ6IHRoaXMubW9kZWwuZ2V0KCd2aWRlb0lkJyksXG4gICAgICAgICAgICBwbGF5ZXJWYXJzOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgYXV0b2hpZGU6IDEsXG4gICAgICAgICAgICAgICAgbW9kZXN0YnJhbmRpbmc6IDEsXG4gICAgICAgICAgICAgICAgc2hvd2luZm86IDAsXG4gICAgICAgICAgICAgICAgcmVsOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgb25TdGF0ZUNoYW5nZTogXy5iaW5kKHRoaXMub25QbGF5ZXJTdGF0ZUNoYW5nZSwgdGhpcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGRlc3Ryb3lQbGF5ZXJJbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcikgdGhpcy5wbGF5ZXIuZGVzdHJveSgpO1xuICAgIH0sXG5cbiAgICAvLyBkb2Vzbid0IHVzZSBcInN0b3BcIlxuICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveVBsYXllckluc3RhbmNlKCk7XG4gICAgICAgIEJhY2tib25lLlZpZXcucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpO1xuICAgIH1cbn0pO1xuXG5jb25zdCBCcmlnaHRjb3ZlUGxheWVyID0gVmlkZW9QbGF5ZXIuZXh0ZW5kKHtcbiAgICBpbnN0YW50aWF0ZVBsYXllcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkY29udGFpbmVyID0gdGhpcy4kKCcuaHlicmlkLXBsYXllci12aWRlb19fY29udGFpbmVyJyk7XG4gICAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHMuc3JjID0gXCIvL3BsYXllcnMuYnJpZ2h0Y292ZS5uZXQvXCIgKyB0aGlzLm1vZGVsLmdldCgnYWNjb3VudElkJykgKyBcIi9cIiArIHRoaXMubW9kZWwuZ2V0KCdwbGF5ZXJJZCcpICsgXCJfZGVmYXVsdC9pbmRleC5taW4uanNcIjtcbiAgICAgICAgcy5vbmxvYWQgPSBfLmJpbmQodGhpcy5nZXRQbGF5ZXJPYmplY3QsIHRoaXMpO1xuXG4gICAgICAgICQoJzx2aWRlbz4nKS5hdHRyKHtcbiAgICAgICAgICAgIGNsYXNzOiAndmlkZW8tanMnLFxuICAgICAgICAgICAgaWQ6ICd2aWRlby1qcy0nICsgdGhpcy5tb2RlbC5nZXQoJ3ZpZGVvSWQnKSxcbiAgICAgICAgICAgICdkYXRhLXZpZGVvLWlkJzogdGhpcy5tb2RlbC5nZXQoJ3ZpZGVvSWQnKSxcbiAgICAgICAgICAgICdkYXRhLWFjY291bnQnOiB0aGlzLm1vZGVsLmdldCgnYWNjb3VudElkJyksXG4gICAgICAgICAgICAnZGF0YS1wbGF5ZXInOiBnbG9iYWxEZWJ1Zy5nZXREYXRhKCdwbGF5ZXInKSB8fCB0aGlzLm1vZGVsLmdldCgncGxheWVySWQnKSxcbiAgICAgICAgICAgICdkYXRhLWVtYmVkJzogICdkZWZhdWx0JyxcbiAgICAgICAgICAgIHdpZHRoOiAkY29udGFpbmVyLm91dGVyV2lkdGgoKSxcbiAgICAgICAgICAgIGhlaWdodDogJGNvbnRhaW5lci5vdXRlckhlaWdodCgpLFxuICAgICAgICAgICAgYXV0b3BsYXk6ICd0cnVlJyxcbiAgICAgICAgICAgIGNvbnRyb2xzOiAnY29udHJvbHMnXG4gICAgICAgIH0pLndyYXAoJzxkaXYgY2xhc3M9XCJoeWJyaWQtcGxheWVyLXZpZGVvX19wbGF5ZXItaW5zdGFuY2VcIj48L2Rpdj4nKVxuICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChzKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkY29udGFpbmVyKVxuICAgICAgICA7XG4gICAgfSxcblxuICAgIGdldFBsYXllck9iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucGxheWVyID0gd2luZG93LnZpZGVvanMoJ3ZpZGVvLWpzLScgKyB0aGlzLm1vZGVsLmdldCgndmlkZW9JZCcpKTtcbiAgICB9LFxuXG4gICAgZGVzdHJveVBsYXllckluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyKSB0aGlzLnBsYXllci5yZW1vdmUoKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gUGxheWVyRmFjdG9yeSh2aWRlb01vZGVsKSB7XG4gICAgbGV0IFZpZXcgPSBWaWRlb1BsYXllcjsgLy8gZGVmYXVsdCBjYXNlXG5cbiAgICBzd2l0Y2ggKHZpZGVvTW9kZWwuZ2V0KCd0eXBlJykpIHtcbiAgICAgICAgY2FzZSAneW91dHViZSc6XG4gICAgICAgICAgICBWaWV3ID0gWW91VHViZVBsYXllcjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2JyaWdodGNvdmUnOlxuICAgICAgICAgICAgVmlldyA9IEJyaWdodGNvdmVQbGF5ZXI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZpZXcoe1xuICAgICAgICBtb2RlbDogdmlkZW9Nb2RlbFxuICAgIH0pO1xufVxuXG5jb25zdCBQbGF5bGlzdFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgJ2NoYW5nZTpjdXJyZW50SW5kZXgnLCB0aGlzLnNldEN1cnJlbnRWaWRlbyk7XG4gICAgICAgIF8uYmluZEFsbCh0aGlzLCAnc2V0dXBQbGF5bGlzdFNjcm9sbEJlaGF2aW9yJywgJ2NhbGN1bGF0ZU5hdkJ1dHRvblN0YXRlcycpO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gd2luZG93LlBHTS5KU1RbJ2h5YnJpZF9wbGF5ZXIvcGxheWxpc3QnXTtcbiAgICB9LFxuXG4gICAgdGFnTmFtZTogJ25hdicsXG4gICAgY2xhc3NOYW1lOiAnaHlicmlkLXBsYXllci1wbGF5bGlzdCcsXG5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtJzogJ3NlbGVjdE5ld1ZpZGVvJ1xuICAgIH0sXG5cbiAgICBkZWZlcnJlZEV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLmh5YnJpZC1wbGF5ZXItcGxheWxpc3RfX25hdic6ICdzY3JvbGxQbGF5bGlzdCcsXG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZpZGVvKCk7XG4gICAgICAgIF8uZGVmZXIodGhpcy5zZXR1cFBsYXlsaXN0U2Nyb2xsQmVoYXZpb3IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2VsZWN0TmV3VmlkZW86IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIG5ld1ZpZGVvSW5kZXggPSB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtJykuaW5kZXgoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgaWYgKG5ld1ZpZGVvSW5kZXggPT09IHRoaXMubW9kZWwuZ2V0KCdjdXJyZW50SW5kZXgnKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLm1vZGVsLnNldCgnY3VycmVudEluZGV4JywgbmV3VmlkZW9JbmRleCk7XG4gICAgfSxcblxuICAgIHNldEN1cnJlbnRWaWRlbzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXItcGxheWxpc3RfX2l0ZW0nKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50LXZpZGVvJylcbiAgICAgICAgICAgIC5lcSh0aGlzLm1vZGVsLmdldCgnY3VycmVudEluZGV4JykpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdpcy1jdXJyZW50LXZpZGVvJylcbiAgICAgICAgO1xuICAgIH0sXG5cbiAgICBzZXR1cFBsYXlsaXN0U2Nyb2xsQmVoYXZpb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19pdGVtJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdpZHRoICs9ICQodGhpcykub3V0ZXJXaWR0aCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJCgnLmh5YnJpZC1wbGF5ZXItcGxheWxpc3RfX2l0ZW1zJykud2lkdGgod2lkdGgpO1xuICAgICAgICB0aGlzLml0ZW1zV2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvLyBjYWNoZSBvYmplY3RzIHdlIHdpbGwgdXNlIGEgbG90XG4gICAgICAgIHRoaXMuJHByZXYgPSB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19uYXYtLXByZXZpb3VzJyk7XG4gICAgICAgIHRoaXMuJG5leHQgPSB0aGlzLiQoJy5oeWJyaWQtcGxheWVyLXBsYXlsaXN0X19uYXYtLW5leHQnKTtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gdGhpcy4kKCcuaHlicmlkLXBsYXllci1wbGF5bGlzdF9fY29udGFpbmVyJyk7XG5cbiAgICAgICAgLy8gYWRkIGRlZmVycmVkIGV2ZW50cyB0byB0aGUgZXZlbnRzIGhhc2ggYW5kIHJlLWJpbmRcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZUV2ZW50cyhfLmV4dGVuZCh0aGlzLmV2ZW50cywgdGhpcy5kZWZlcnJlZEV2ZW50cykpO1xuICAgICAgICAvLyBzY3JvbGwgZG9lc24ndCBidWJibGUsIHNvIGl0IHdvbid0IHdvcmsgd2l0aFxuICAgICAgICAvLyBiYWNrYm9uZSdzIHdheSBvZiBiaW5kaW5nIGV2ZW50cyB0byB0aGUgdmlld1xuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ3Njcm9sbCcsIF8uZGVib3VuY2UodGhpcy5jYWxjdWxhdGVOYXZCdXR0b25TdGF0ZXMsIDEwMCkpO1xuICAgIH0sXG5cbiAgICBzY3JvbGxQbGF5bGlzdDpmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBuZXh0ID0gKC0xICE9PSBlLmN1cnJlbnRUYXJnZXQuY2xhc3NOYW1lLnNlYXJjaCgvbmV4dC8pKTtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLnNjcm9sbExlZnQodGhpcy4kY29udGFpbmVyLnNjcm9sbExlZnQoKSArIChuZXh0ID8gMjQ1IDogLTI0NSkpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZU5hdkJ1dHRvblN0YXRlcygpO1xuICAgIH0sXG5cbiAgICBjYWxjdWxhdGVOYXZCdXR0b25TdGF0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IHRoaXMuJGNvbnRhaW5lci5zY3JvbGxMZWZ0KCk7XG4gICAgICAgIGlmIChzY3JvbGxMZWZ0ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLiRwcmV2LmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRwcmV2LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjcm9sbExlZnQgPj0gdGhpcy5pdGVtc1dpZHRoIC0gdGhpcy4kY29udGFpbmVyLndpZHRoKCkpIHtcbiAgICAgICAgICAgIHRoaXMuJG5leHQuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJG5leHQucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jb25zdCBIeWJyaWRQbGF5ZXJNYWluVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5tb2RlbC5nZXQoJ2l0ZW1zJykuc2l6ZSgpID4gMSkge1xuICAgICAgICAgICAgdGhpcy5wbGF5bGlzdCA9IG5ldyBQbGF5bGlzdFZpZXcoe1xuICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlblRvT25jZSh0aGlzLm1vZGVsLCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2U6Y3VycmVudEluZGV4JywgdGhpcy5pbnNlcnRQbGF5ZXJBbmRBdXRvcGxheSk7XG5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHdpbmRvdy5QR00uSlNUWydoeWJyaWRfcGxheWVyL21haW5WaWV3J107XG4gICAgICAgIHRoaXMuYWRUZW1wbGF0ZSA9IHdpbmRvdy5QR00uSlNUWydhZHMvc2xvdCddO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgICAgICB2YXIgYWRTbG90ID0gd2luZG93LlBHTS5hZHMuZGF0YS5zbG90c1sgdGhpcy5tb2RlbC5nZXQoJ2FkU2xvdCcpIF07XG4gICAgICAgIGlmIChhZFNsb3QpIHtcbiAgICAgICAgICAgICQodGhpcy5hZFRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICBzbG90OiBhZFNsb3QsXG4gICAgICAgICAgICAgICAgcHJlcGVuZDogJ1ByZXNlbnRlZCBieTonXG4gICAgICAgICAgICB9KSkuYXBwZW5kVG8odGhpcy4kKCcuaHlicmlkLXBsYXllcl9faGVhZGVyJykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0UGxheWVyKCk7XG4gICAgICAgIGlmICh0aGlzLnBsYXlsaXN0KSB0aGlzLnBsYXlsaXN0LnJlbmRlcigpLiRlbC5hcHBlbmRUbyh0aGlzLiRlbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBpbnNlcnRQbGF5ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIpIHRoaXMucGxheWVyLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnBsYXllciA9IFBsYXllckZhY3RvcnkodGhpcy5tb2RlbC5nZXRDdXJyZW50VmlkZW8oKSk7XG4gICAgICAgIHRoaXMucGxheWVyLiRlbC5pbnNlcnRBZnRlcih0aGlzLiQoJy5oeWJyaWQtcGxheWVyX19oZWFkZXInKSk7XG4gICAgICAgIHRoaXMucGxheWVyLnJlbmRlcigpO1xuICAgIH0sXG5cbiAgICBpbnNlcnRQbGF5ZXJBbmRBdXRvcGxheTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0UGxheWVyKCk7XG4gICAgICAgIHRoaXMucGxheWVyLnBsYXkoKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyKSB0aGlzLnBsYXllci5yZW1vdmUoKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWxpc3QpIHRoaXMucGxheWxpc3QucmVtb3ZlKCk7XG4gICAgICAgIEJhY2tib25lLlZpZXcucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNb2RlbDogUGxheWVyTW9kZWwsXG4gICAgVmlldzogSHlicmlkUGxheWVyTWFpblZpZXdcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9lbWJlZHMvaHlicmlkLXBsYXllci5qcyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIE1vZGVsOiB7XG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBkYXRhLnBhdGggPSB0aGlzLm1ha2VJbWFnZVNyYyhkYXRhLnBhdGgpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFZpZXc6IHtcbiAgICAgICAgdGVtcGxhdGU6IHdpbmRvdy5QR00uSlNUWydlbWJlZHMvaW1hZ2UnXVxuICAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9lbWJlZHMvaW1hZ2UuanMiLCJjb25zdCB2ZXJicyA9IHtcbiAgICBnYWxsZXJ5OiAnU2VlJyxcbiAgICB2aWRlbzogJ1dhdGNoJyxcbiAgICBkZWZhdWx0OiAnUmVhZCdcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIE1vZGVsOiB7XG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBkYXRhLnZlcmIgPSB2ZXJic1tkYXRhLnR5cGVdIHx8IHZlcmJzLmRlZmF1bHQ7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5tZWRpYSA9IGRhdGEuaW1hZ2U7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRhdGEuaW1hZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm1lZGlhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWVkaWEuaW1hZ2UpIGRhdGEubWVkaWEgPSBkYXRhLm1lZGlhLmltYWdlO1xuICAgICAgICAgICAgICAgIGRhdGEubWVkaWEudXJsID0gdGhpcy5tYWtlSW1hZ2VjYWNoZVNyYyhkYXRhLm1lZGlhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFZpZXc6IHtcbiAgICAgICAgdGVtcGxhdGU6IHdpbmRvdy5QR00uSlNUWydlbWJlZHMvcmVhZG1vcmUnXVxuICAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9lbWJlZHMvcmVhZG1vcmUuanMiLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuXG5jb25zdCBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZGVidWcnKSgnaW5pdCcpO1xuY29uc3Qgcm91dGVyID0gcmVxdWlyZSgncGdtZmUvcm91dGVyJyk7XG5cbmxldCAkcGFnZUNvbnRlbnQsIGNvbnRlbnRUeXBlO1xuXG5mdW5jdGlvbiBjbGlja0hhbmRsZXIoZXZlbnQpIHtcbiAgICAvLyB3ZSBuZWVkIGFuIGhyZWYgYnV0IHdlIGRvbid0IHdhbnQgdG8gZ28gdGhlcmVcbiAgICBpZiAodHlwZW9mIHRoaXMuaHJlZiA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJCgnaHRtbCwgYm9keScpLnN0b3AodHJ1ZSkuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCBcInNsb3dcIik7XG5cbiAgICAvLyB1c2UgYSByZWxhdGl2ZSBVUkwgZXZlbiBpZiBhIGhvc3QgaXMgc3BlY2lmaWVkXG4gICAgdmFyIGhyZWYgPSB0aGlzLmhyZWYucmVwbGFjZSgvXmh0dHA6XFwvXFwvW15cXC9dKi8sICcnKTtcblxuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogXCIvZmVfZGF0YVwiICsgaHJlZixcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIExldCBpbnRlcmVzdGVkIGZ1bmN0aW9ucyBob29rIGluIHRvIGFsdGVyIHRoZSBhamF4IHJlc3BvbnNlIGJ5XG4gICAgICAgICAgICAvLyB0cmlnZ2VyaW5nIGFuIGV2ZW50IHVuaXF1ZSB0byB0aGlzIHNwZWNpZmljIGNvbnRlbnQgbG9hZC5cbiAgICAgICAgICAgIC8vIFNhbXBsZSBjbGllbnQgY29kZTpcbiAgICAgICAgICAgIC8vIGBgYFxuICAgICAgICAgICAgLy8gUEdNLmV2ZW50cy5vbignbG9hZEluUGFnZVJlc3BvbnNlUmVjZWl2ZWQnLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgLy8gICAgIGlmIChvcHRpb25zLmNvbnRlbnRUeXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIFBHTS5ldmVudHMudHJpZ2dlcihvcHRpb25zLnVpZCwgbWFuaXB1bGF0ZVJlc3BvbnNlU3RyaW5nKG9wdGlvbnMucmVzcG9uc2UpKTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgIC8vIGBgYFxuICAgICAgICAgICAgY29uc3QgdWlkID0gXy51bmlxdWVJZCgnYWx0ZXJSZXNwb25zZTonKTtcbiAgICAgICAgICAgIGV2ZW50cy5vbih1aWQsIGZ1bmN0aW9uIChyKSB7IHJlc3BvbnNlID0gcjsgfSk7XG4gICAgICAgICAgICBldmVudHMudHJpZ2dlcignbG9hZEluUGFnZVJlc3BvbnNlUmVjZWl2ZWQnLCB7XG4gICAgICAgICAgICAgICAgdWlkOiB1aWQsXG4gICAgICAgICAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50cy5vZmYodWlkKTtcblxuICAgICAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2FzeW5jQ29udGVudFVubG9hZGVkJywgY29udGVudFR5cGUsICRwYWdlQ29udGVudCk7XG4gICAgICAgICAgICAkcGFnZUNvbnRlbnQuaHRtbCggcmVzcG9uc2UgKTtcbiAgICAgICAgICAgIGV2ZW50cy50cmlnZ2VyKCdhc3luY0NvbnRlbnRSZWFkeScsIGNvbnRlbnRUeXBlLCByZXNwb25zZSk7XG5cbiAgICAgICAgICAgIGNvbnN0ICRtYWluQ29udGVudCA9ICRwYWdlQ29udGVudC5maW5kKCcuanMtbWFpbkNvbnRlbnQnKTtcbiAgICAgICAgICAgIGlmKCAkbWFpbkNvbnRlbnQubGVuZ3RoID09PSAwICkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBOLkIuIGlmIHlvdSByZW1vdmUgdGhlIHJlcGxhY2U6dHJ1ZSwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIGRldGVjdGluZyBhIGJyb3dzZXIgYmFjayBhbmQgcmVmcmVzaGluZyB0byB0aGUgbmV3IHVybFxuICAgICAgICAgICAgcm91dGVyLmNoYW5nZVVybCggaHJlZiwgY29udGVudFR5cGUsICRtYWluQ29udGVudCwgXCJkb3duXCIsIHtyZXBsYWNlOnRydWV9ICk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgICRwYWdlQ29udGVudCA9ICQoJy5qcy1wYWdlQ29udGVudCcpO1xuICAgIGlmICgkcGFnZUNvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlYnVnKCdOb3Qgc2V0dGluZyB1cCBpbi1wYWdlIGxvYWRpbmc6IG5vIGAuanMtcGFnZUNvbnRlbnRgIGVsZW1lbnQgcHJlc2VudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEB0b2RvIGNvbnRlbnRUeXBlIHNob3VsZCBiZSBkZWZpbmVkIG9uIHRoZSBpbmNvbWluZyBjb250ZW50LFxuICAgIC8vICAgICAgIG5vdCBvbiB0aGUgcGFnZSBnbG9iYWxseSwgc28gdGhhdCBjYW4gZXZlbnR1YWxseVxuICAgIC8vICAgICAgIGxvYWQgbXVsdGlwbGUga2luZHMgb2YgY29udGVudCBpbnRvIHRoZSBwYWdlXG4gICAgY29udGVudFR5cGUgPSAkcGFnZUNvbnRlbnQuYXR0cignZGF0YS1jb250ZW50LXR5cGUnKTtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnRUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWJ1ZygnQWJvcnRpbmcgaW4tcGFnZSBsb2FkaW5nIHNldHVwLiBObyBjb250ZW50IHR5cGUgcHJlc2VudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRlYnVnKCdTZXR0aW5nIHVwIGluLXBhZ2UgbG9hZGluZyBmb3IgJyArIGNvbnRlbnRUeXBlICsgJyBvbicsICRwYWdlQ29udGVudCk7XG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuanMtbG9hZEluUGFnZScsIGNsaWNrSGFuZGxlcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGluaXQ6IGluaXRcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9pbi1wYWdlLWxvYWRpbmcuanMiLCJjb25zdCBNYXJpb25ldHRlID0gcmVxdWlyZSgnYmFja2JvbmUubWFyaW9uZXR0ZScpO1xuXG5jb25zdCBhcHAgPSBuZXcgTWFyaW9uZXR0ZS5BcHBsaWNhdGlvbigpO1xuXG5hcHAuTW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJyk7XG5hcHAuVmlldyA9IHJlcXVpcmUoJy4vdmlldycpO1xuYXBwLlZpZXdNb2RlbCA9IHtcbiAgICBCZWhhdmlvcjogcmVxdWlyZSgnLi9iZWhhdmlvcicpKGFwcCkgLy8gYXZvaWQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L2xlZnQtcmFpbC9hcHAuanMiLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG5jb25zdCBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZGVidWcnKSgnbGVmdFJhaWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcHApIHtcbiAgICByZXR1cm4gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiggbW9kZWxzLCBkYXRhICkge1xuICAgICAgICAgICAgdGhpcy5sZWZ0UmFpbE1vZGVsID0gZGF0YS5sZWZ0UmFpbE1vZGVsO1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyggdGhpcy5sZWZ0UmFpbE1vZGVsLmdldCgnbWFpbkxpc3QnKSwgJ3VwZGF0ZScsIHRoaXMucmVmcmVzaCApO1xuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMTtcbiAgICAgICAgICAgIGlmKCB0aGlzLmxlZnRSYWlsTW9kZWwuZ2V0KCdvcHRpb25zJykgJiYgdGhpcy5sZWZ0UmFpbE1vZGVsLmdldCgnb3B0aW9ucycpLnNob3dBY3RpdmVJdGVtICkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXhJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXg7XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYWREaXYgPSAkKCcuanMtbGVmdFJhaWwtc2xvdC1tMScpOyAvLyB0b2RvIFNQTCB3ZSBjYW4gbGlrZWx5IGluaXRpYWxpemUgYmV0dGVyLi4uXG4gICAgICAgICAgICBkZWJ1ZygnZmlyc3QgYWREaXYgaXMnLCB0aGlzLmFkRGl2KTtcbiAgICAgICAgICAgIHRoaXMubGFzdEFkRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy50YWJvb2xhID0gdGhpcy5nZW5lcmF0ZVJhaWxUYWJvb2xhKCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuXG4gICAgICAgICAgICB0aGlzLmxhc3RBZERpdiA9IHRoaXMuYWREaXY7XG5cbiAgICAgICAgICAgIGV2ZW50cy5vbigndXJsQ2hhbmdlOnByZScsIF8uYmluZCggZnVuY3Rpb24oY29udGVudFR5cGUsICRjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUlkID0gJGNvbnRlbnQuZGF0YSgnaWQnKTtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlTW9kZWwgPSB0aGlzLmxlZnRSYWlsTW9kZWwuZ2V0KCdtYWluTGlzdCcpLmdldChhY3RpdmVJZCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0luZGV4O1xuICAgICAgICAgICAgICAgIGlmKCBhY3RpdmVNb2RlbCApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2tpcCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLmxlZnRSYWlsTW9kZWwuZ2V0KCdvcHRpb25zJykgJiYgdGhpcy5sZWZ0UmFpbE1vZGVsLmdldCgnb3B0aW9ucycpLnNob3dBY3RpdmVJdGVtICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ21haW5MaXN0JykuaW5kZXhPZihhY3RpdmVNb2RlbCkgKyBza2lwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdub3QgY2hhbmdpbmcgYWN0aXZlIGluZGV4LCBjb3VsZCBub3QgZmluZCBpZCcsICRjb250ZW50LCBhY3RpdmVJZCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gbmV3SW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhJbmRleCA9IE1hdGgubWF4KCB0aGlzLm1heEluZGV4LCB0aGlzLmFjdGl2ZUluZGV4ICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkRGl2ID0gJGNvbnRlbnQuZmluZCgnLmpzLWxlZnRSYWlsLXNsb3QtbTEnKTtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnbmV4dCBhZERpdiBpcycsIHRoaXMuYWREaXYpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RBZERpdiA9IHRoaXMuYWREaXY7XG4gICAgICAgICAgICB9LCB0aGlzICkgKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZWZyZXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBtYWluTGlzdCA9IHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ21haW5MaXN0Jyk7XG4gICAgICAgICAgICB2YXIgdG9waWNCbG9jayA9IHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ3RvcGljQmxvY2snKTtcblxuICAgICAgICAgICAgdmFyIG9uZSA9IHRoaXMuYWN0aXZlSW5kZXg7XG4gICAgICAgICAgICBpZiggdGhpcy5sZWZ0UmFpbE1vZGVsLmdldCgnb3B0aW9ucycpICYmIHRoaXMubGVmdFJhaWxNb2RlbC5nZXQoJ29wdGlvbnMnKS5sZWZ0UmFpbEhpZ2h3YXRlciApIHtcbiAgICAgICAgICAgICAgICBvbmUgPSB0aGlzLm1heEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVidWcoJ3JlZnJlc2hpbmcgdG8gaW5kZXggJywgb25lICk7XG5cbiAgICAgICAgICAgIHZhciB0d28gPSBvbmUgKyAxO1xuICAgICAgICAgICAgdmFyIG1vZGVscyA9IG1haW5MaXN0LnNsaWNlKCBvbmUsIHR3byApO1xuXG4gICAgICAgICAgICB2YXIgYWQgPSB0aGlzLmdlbmVyYXRlUmFpbEFkKCk7XG4gICAgICAgICAgICBpZiggYWQgIT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxzID0gbW9kZWxzLmNvbmNhdCggYWQgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIHRoaXMudGFib29sYSAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICBtb2RlbHMgPSBtb2RlbHMuY29uY2F0KCB0aGlzLnRhYm9vbGEgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25lID0gdHdvO1xuICAgICAgICAgICAgdHdvID0gb25lICsgMjtcbiAgICAgICAgICAgIG1vZGVscyA9IG1vZGVscy5jb25jYXQoIG1haW5MaXN0LnNsaWNlKCBvbmUsIHR3byApICk7XG5cbiAgICAgICAgICAgIGlmKCB0b3BpY0Jsb2NrICkge1xuICAgICAgICAgICAgICAgIG1vZGVscyA9IG1vZGVscy5jb25jYXQoIHRvcGljQmxvY2sgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25lID0gdHdvO1xuICAgICAgICAgICAgdmFyIHRoZVJlc3QgPSBtYWluTGlzdC5zbGljZSggb25lICk7XG4gICAgICAgICAgICBtb2RlbHMgPSBtb2RlbHMuY29uY2F0KCB0aGVSZXN0ICk7XG5cbiAgICAgICAgICAgIGRlYnVnKCdzZXR0aW5nIG1vZGVscycpO1xuICAgICAgICAgICAgdGhpcy5zZXQoIG1vZGVscyApO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdlbmVyYXRlUmFpbEFkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgaWYoIHRoaXMuYWREaXYgPT09IHRoaXMubGFzdEFkRGl2ICYmIHRoaXMuY3VycmVudEFkICE9PSBudWxsICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRBZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICRzY3JpcHQgPSB0aGlzLmFkRGl2LmZpbmQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgaWYoICRzY3JpcHQubGVuZ3RoID09PSAxICkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZERhdGEgPSBKU09OLnBhcnNlKCRzY3JpcHQudGV4dCgpKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBZCA9IG5ldyBhcHAuTW9kZWwuQWQoIHtzbG90OiBhZERhdGEsIGV4dHJhQ2xhc3M6ICdpcy1kZnAtZGVmZXJyZWQnfSApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50QWQ7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdFcnJvciBwYXJzaW5nIGxlZnQgcmFpbCBhZCBkYXRhLicsIHRoaXMuYWREaXYsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdubyBhZCBkYXRhIGZvdW5kLicsIHRoaXMuYWREaXYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICBnZW5lcmF0ZVJhaWxUYWJvb2xhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMudGFib29sYSA9IG5ldyBhcHAuTW9kZWwuVGFib29sYSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFib29sYTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvY29udGVudC9sZWZ0LXJhaWwvYmVoYXZpb3IuanMiLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCBNYXJpb25ldHRlID0gcmVxdWlyZSgnYmFja2JvbmUubWFyaW9uZXR0ZScpO1xuXG5jb25zdCBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcblxuY29uc3QgTW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJyk7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJyk7XG5cbmNvbnN0IHZpZXcgPSB7fTtcblxudmlldy5MZWZ0UmFpbEl0ZW0gPSBNYXJpb25ldHRlLkl0ZW1WaWV3LmV4dGVuZCh7XG4gICAgdGFnTmFtZTogXCJhcnRpY2xlXCIsXG4gICAgY2xhc3NOYW1lOiAncmFpbC1pdGVtJyxcbiAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2xlZnRfcmFpbC9yYWlsX2l0ZW0nXSxcbiAgICBhdHRyaWJ1dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdkYXRhLWlkJzogdGhpcy5tb2RlbC5nZXQoJ2lkJylcbiAgICAgICAgfTtcbiAgICB9XG59KTtcblxudmlldy5Ub3BpY0Jsb2NrID0gTWFyaW9uZXR0ZS5JdGVtVmlldy5leHRlbmQoe1xuICAgIHRhZ05hbWU6IFwiZGl2XCIsXG4gICAgY2xhc3NOYW1lOiAncmFpbC10b3BpYy1ibG9jaycsXG4gICAgdGVtcGxhdGU6IHdpbmRvdy5QR00uSlNUWydsZWZ0X3JhaWwvdG9waWNfYmxvY2snXVxufSk7XG5cbnZpZXcuQWQgPSBNYXJpb25ldHRlLkl0ZW1WaWV3LmV4dGVuZCh7XG4gICAgY2xhc3NOYW1lOiAncmFpbC1hZCcsXG4gICAgdGVtcGxhdGU6IHdpbmRvdy5QR00uSlNUWydhZHMvc2xvdCddLFxuICAgIG9uU2hvdzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50cy50cmlnZ2VyKCdhZFRlbXBsYXRlc0luc2VydGVkJywgdGhpcy4kZWwpOyAvLyB0byBkZWZpbmUgYWRzXG4gICAgfSxcbn0pO1xuXG52aWV3LlRhYm9vbGEgPSBNYXJpb25ldHRlLkl0ZW1WaWV3LmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubW9kZWwuc2V0KCdicmVhZGNydW1iJywgJycpO1xuICAgIH0sXG5cbiAgICB0ZW1wbGF0ZTogZnVuY3Rpb24oKSB7IHJldHVybiAnJzsgfSxcblxuICAgIGNsYXNzTmFtZTogJ3RhYm9vbGEtbGVmdC1yYWlsLXdyYXBwZXInLFxuXG4gICAgb25TaG93OiBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgYnJlYWRjcnVtYiA9ICQoJy5hcnRpY2xlX19jb250ZW50LXdlbGwuaXMtYWN0aXZlJykuZGF0YSgndXJsLWJyZWFkY3J1bWInKTtcblxuICAgICAgICAvLyBiYWlsIGlmIHRoZSBicmVhZGNydW1iIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgIGlmICghYnJlYWRjcnVtYiB8fCBicmVhZGNydW1iID09PSB0aGlzLm1vZGVsLmdldCgnYnJlYWRjcnVtYicpKSB7XG5cbiAgICAgICAgICAgIGRlYnVnKCd0YWJvb2xhJywgJ25vdCByZWZyZXNoaW5nJywgYnJlYWRjcnVtYiwgdGhpcy5tb2RlbC5nZXQoJ2JyZWFkY3J1bWInKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWJ1ZygndGFib29sYScsICdyZWZyZXNoaW5nJywgYnJlYWRjcnVtYiwgdGhpcy5tb2RlbC5nZXQoJ2JyZWFkY3J1bWInKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vZGVsLnNldCgnYnJlYWRjcnVtYicsIGJyZWFkY3J1bWIpO1xuXG4gICAgICAgIHZhciB1cmwgPSBbXG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wsXG4gICAgICAgICAgICB3aW5kb3cuUEdNLmNvbmZpZy5jb250ZW50SG9zdCxcbiAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KCdicmVhZGNydW1iJylcbiAgICAgICAgXS5qb2luKCcnKTtcblxuICAgICAgICB0aGlzLiRlbC5lbXB0eSgpO1xuICAgICAgICB3aW5kb3cuUEdNLnRhYm9vbGEuY3JlYXRlV2lkZ2V0KHRoaXMuZWwsIHtcbiAgICAgICAgICAgIG1vZGU6ICd0aHVtYm5haWxzLXJyJyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJ3RhYm9vbGEtbGVmdC1yYWlsLXRodW1ibmFpbHMnLFxuICAgICAgICAgICAgcGxhY2VtZW50OiAnTGVmdCBSYWlsIFRodW1ibmFpbHMnXG4gICAgICAgIH0sIHVybCk7XG4gICAgfVxufSk7XG5cbnZpZXcuTGVmdFJhaWwgPSBNYXJpb25ldHRlLkNvbXBvc2l0ZVZpZXcuZXh0ZW5kKHtcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgICB0aGlzLm1vZGVsID0gZGF0YS5sZWZ0UmFpbE1vZGVsO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgZGF0YS5iZWhhdmlvciggbnVsbCwgZGF0YSApO1xuICAgIH0sXG5cbiAgICBjaGlsZFZpZXc6IHZpZXcuTGVmdFJhaWxJdGVtLFxuICAgIHRlbXBsYXRlOiB3aW5kb3cuUEdNLkpTVFsnbGVmdF9yYWlsL2xlZnRfcmFpbCddLFxuXG4gICAgY2hpbGRWaWV3Q29udGFpbmVyOiAnLmpzLXJhaWwtaXRlbXMnLFxuICAgIGdldENoaWxkVmlldzogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIE1vZGVsLkFkKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5BZDtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtIGluc3RhbmNlb2YgTW9kZWwuVGFib29sYSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuVGFib29sYTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtIGluc3RhbmNlb2YgTW9kZWwuVG9waWNCbG9jaykge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuVG9waWNCbG9jaztcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtIGluc3RhbmNlb2YgTW9kZWwuTGVmdFJhaWxJdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5MZWZ0UmFpbEl0ZW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWJ1ZygnbGVmdFJhaWwnLCAndW5rbm93biBjaGlsZCB2aWV3IGZvciAnLCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52aWV3LkxheW91dCA9IE1hcmlvbmV0dGUuTGF5b3V0Vmlldy5leHRlbmQoe1xuICAgIGVsOiAnLmFydGljbGUtcGFnZScsXG4gICAgcmVnaW9uczoge1xuICAgICAgICBcImxlZnRSYWlsXCI6IFwiLmpzLWxlZnRSYWlsXCJcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSB2aWV3O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL2NvbnRlbnQvbGVmdC1yYWlsL3ZpZXcuanMiLCJjb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJykoJzNwJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYoIHdpbmRvdy5pbnN0Z3JtICYmIHdpbmRvdy5pbnN0Z3JtLkVtYmVkcyAmJiB0eXBlb2Ygd2luZG93Lmluc3Rncm0uRW1iZWRzLnByb2Nlc3MgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICAgIGRlYnVnKCdyZWZyZXNoaW5nIGluc3RhZ3JhbScpO1xuICAgICAgICB3aW5kb3cuaW5zdGdybS5FbWJlZHMucHJvY2VzcygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVidWcoJ25vdCByZWZyZXNoaW5nIGluc3RhZ3JhbScpO1xuICAgIH1cblxuICAgIGlmKCB3aW5kb3cuRkIgJiYgd2luZG93LkZCLlhGQk1MICYmIHR5cGVvZiB3aW5kb3cuRkIuWEZCTUwucGFyc2UgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICAgIGRlYnVnKCdyZWZyZXNoaW5nIGZhY2Vib29rJyk7XG4gICAgICAgIHdpbmRvdy5GQi5YRkJNTC5wYXJzZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVidWcoJ25vdCByZWZyZXNoaW5nIGZhY2Vib29rJyk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3RoaXJkLXBhcnR5LmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJykoJ2luaXQnKTtcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgnLi9iYXNlLXZpZXcnKTtcblxudmFyIHR5cGVzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNldEJhc2VWaWV3OiBmdW5jdGlvbihWaWV3KSB7XG4gICAgICAgIC8vIEB0b2RvIHZhbGlkYXRpb25cbiAgICAgICAgQmFzZVZpZXcgPSBWaWV3O1xuICAgIH0sXG4gICAgZ2V0QmFzZVZpZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gQmFzZVZpZXc7XG4gICAgfSxcbiAgICByZWdpc3RlcjogZnVuY3Rpb24oY29udGVudFR5cGUsIFZpZXdPck9wdGlvbnMpIHtcbiAgICAgICAgLy8gXCJpbnN0YW5jZW9mXCIgd29uJ3Qgd29yayBoZXJlLCBzaW5jZSBpdCB3b24ndCByZXR1cm4gdHJ1ZVxuICAgICAgICAvLyB1bnRpbCB0aGUgY2xhc3MgaXMgaW5zdGFudGlhdGVkLiBTbywgYXMgYSBwcm94eSwgd2UgdGVzdFxuICAgICAgICAvLyBmb3IgdGhlIFwiZXh0ZW5kXCIgbWV0aG9kLlxuICAgICAgICAvLyBAdG9kbyB2YWxpZGF0aW9uXG4gICAgICAgIHR5cGVzW2NvbnRlbnRUeXBlXSA9IHR5cGVvZiBWaWV3T3JPcHRpb25zLmV4dGVuZCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBWaWV3T3JPcHRpb25zIDpcbiAgICAgICAgICAgIEJhc2VWaWV3LmV4dGVuZChWaWV3T3JPcHRpb25zKVxuICAgICAgICA7XG4gICAgfSxcbiAgICBhdHRhY2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHByb2Nlc3NlZENvbnRlbnQgPSAkKCk7XG5cbiAgICAgICAgJCgnW2RhdGEtY29udGVudC10eXBlXTpub3QoLmF1dG9sb2FkLWRpcmVjdC1yZW5kZXIpOm5vdCguaXMtY29udGVudC1pbml0aWFsaXplZCknKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRUeXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29udGVudC10eXBlJyk7XG4gICAgICAgICAgICB2YXIgdmlldztcblxuICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIHR5cGVzW2NvbnRlbnRUeXBlXSkge1xuICAgICAgICAgICAgICAgIHZpZXcgPSBuZXcgdHlwZXNbY29udGVudFR5cGVdKHsgZWw6IHRoaXN9KTtcbiAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgJ2NvbnRlbnRWaWV3Jywgdmlldy5yZW5kZXIoKSk7XG4gICAgICAgICAgICAgICAgJHByb2Nlc3NlZENvbnRlbnQgPSAkcHJvY2Vzc2VkQ29udGVudC5hZGQodmlldy4kZWwpO1xuICAgICAgICAgICAgICAgIGRlYnVnKCdJbml0aWFsaXppbmcgQ29udGVudCBUeXBlJywgY29udGVudFR5cGUsICdvbicsIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnQ291bGQgTm90IEluaXRpYWxpemUgQ29udGVudCBUeXBlJywgY29udGVudFR5cGUsICdvbicsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5hZGRDbGFzcygnaXMtY29udGVudC1pbml0aWFsaXplZCcpO1xuXG4gICAgICAgIHJldHVybiAkcHJvY2Vzc2VkQ29udGVudDtcbiAgICB9LFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3R5cGVzLmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxuY29uc3QgZXZlbnRzID0gcmVxdWlyZSgncGdtZmUvZXZlbnRzJyk7XG5jb25zdCBnbG9iYWxEZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJyk7XG5jb25zdCBkZWJ1ZyA9IGdsb2JhbERlYnVnKCdsaXN0Jyk7XG5jb25zdCBhZHMgPSByZXF1aXJlKCdwZ21mZS9hZHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0dXBMaXN0SXRlbVJlZnJlc2ggPSBfLm9uY2UodGhpcy5zZXR1cExpc3RJdGVtUmVmcmVzaCk7XG4gICAgfSxcbiAgICBvblJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IEpTT04ucGFyc2UoJCgnLmpzLWxlZnRSYWlsLWNvbnRhaW5lcicpLmNoaWxkcmVuKCdzY3JpcHQnKS50ZXh0KCkpLm9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLnNldHVwTGlzdEl0ZW1SZWZyZXNoKHRoaXMuJGVsLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0VGFib29sYSh0aGlzLiRlbCwgb3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2JhbERlYnVnKCdpbml0JywgJ0ZhaWxlZCB0byBwYXJzZSBkYXRhIGZvciBsZWZ0IHJhaWwgb3B0aW9ucy4nLCAkKCcuanMtbGVmdFJhaWwtY29udGFpbmVyJykuY2hpbGRyZW4oJ3NjcmlwdCcpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0dXBMaXN0SXRlbVJlZnJlc2g6IGZ1bmN0aW9uKCRlbCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAkZWwuaGFzQ2xhc3MoJ2lzLWxpc3QtaXRlbS1yZWZyZXNoLXByb2Nlc3NlZCcpIHx8XG4gICAgICAgICAgICAhb3B0aW9ucy5saXN0UGFnZXZpZXdJbnRlcnZhbCB8fFxuICAgICAgICAgICAgISQuaXNOdW1lcmljKG9wdGlvbnMubGlzdFBhZ2V2aWV3SW50ZXJ2YWwpXG4gICAgICAgICkgcmV0dXJuO1xuXG4gICAgICAgICRlbC5hZGRDbGFzcygnaXMtbGlzdC1pdGVtLXJlZnJlc2gtcHJvY2Vzc2VkJykuZmluZCgnLmpzLXJldmFydGljbGUtbGlzdEl0ZW0nKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCAkbGlzdEl0ZW0gPSAkKGVsKTtcbiAgICAgICAgICAgICRsaXN0SXRlbS53YXlwb2ludCh7XG4gICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAlIG9wdGlvbnMubGlzdFBhZ2V2aWV3SW50ZXJ2YWwgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCd0cmlnZ2VyaW5nIHBhZ2V2aWV3IGZvciBsaXN0IGl0ZW0nLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMudHJpZ2dlcigndHJhY2tQYWdldmlldycsIHsgZmlyZUdUTTogJ29uJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAlIG9wdGlvbnMubGlzdENvbXNjb3JlSW50ZXJ2YWwgPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygndHJpZ2dlcmluZyBjb21zY29yZSBmb3InLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMudHJpZ2dlcigndHJhY2tDb21zY29yZScsIGVsLCAkbGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICUgb3B0aW9ucy5saXN0SXRlbVJhaWxBZEludGVydmFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygndHJpZ2dlcmluZyBsZWZ0IHJhaWwgcmVmcmVzaCBmb3InLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHMucmVmcmVzaCgkKCcuZGZwLWFkLW0xJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IFwiNTAlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGluc2VydFRhYm9vbGE6IGZ1bmN0aW9uKCRlbCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCAkdGFib29sYVdyYXBwZXIgPSAkZWwuZmluZCgnLnRhYm9vbGEtd3JhcHBlcicpO1xuXG4gICAgICAgIC8vIHdlIG9ubHkgd29yayBvbiBjb250ZW50IHdpdGggYSB1cmwgYnJlYWRjcnVtYlxuICAgICAgICAvLyBhbmQgYW4gZW1wdHkgdGFib29sYSB3cmFwcGVyXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICEkZWwuZGF0YSgndXJsLWJyZWFkY3J1bWInKSB8fFxuICAgICAgICAgICAgISR0YWJvb2xhV3JhcHBlci5pcygnOmVtcHR5JylcbiAgICAgICAgKSByZXR1cm47XG5cbiAgICAgICAgd2luZG93LlBHTS50YWJvb2xhLmNyZWF0ZVdpZGdldCgkdGFib29sYVdyYXBwZXIuZ2V0KDApLCB7XG4gICAgICAgICAgICBtb2RlOiBvcHRpb25zLmNvbnRlbnRXZWxsVGFib29sYU1vZGUsXG4gICAgICAgICAgICBjb250YWluZXI6ICd0YWJvb2xhLWJlbG93LWFydGljbGUtdGh1bWJuYWlscycsXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdCZWxvdyBBcnRpY2xlIFRodW1ibmFpbHMnXG4gICAgICAgIH0sIGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sICsgd2luZG93LlBHTS5jb25maWcuY29udGVudEhvc3QgKyAkZWwuZGF0YSgndXJsLWJyZWFkY3J1bWInKSk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL2NwdC5qcyIsImNvbnN0ICAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCAgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxuY29uc3QgUmFpbFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgdGFnTmFtZTogJ2FzaWRlJyxcbiAgICBjbGFzc05hbWU6ICdsb25nZm9ybV9fYm9keS1zdXBwbGVtZW50YXJ5JyxcbiAgICBpbnNlcnRBZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZCh3aW5kb3cuUEdNLkpTVFsnYWRzL3Nsb3QnXSh7c2xvdDogd2luZG93LlBHTS5hZHMuZGF0YS5zbG90cy5tIH0pKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkcGFyYWdyYXBocyA9ICQoJy5sb25nZm9ybV9fYm9keS1wcmltYXJ5JykuY2hpbGRyZW4oJ3AnKTtcblxuICAgICAgICAvLyB0aGVyZSBzaG91bGRuJ3QgYmUgbW9yZSB0aGFuIG9uZVxuICAgICAgICAvLyBsb25nZm9ybSBhcnRpY2xlIG9uIHRoZSBwYWdlXG4gICAgICAgIHdpbmRvdy5QR00uSGVhZGVyLmluaXRpYWxpemVTY3JvbGxUcmFja2luZyh0aGlzLiRlbCk7XG5cbiAgICAgICAgLy8gc3RpY2sgaW4gdGhlIGxvbmdmb3JtIGFkXG4gICAgICAgICRwYXJhZ3JhcGhzLmVxKE1hdGguZmxvb3IoJHBhcmFncmFwaHMubGVuZ3RoIC8gMikpLmFmdGVyKFxuICAgICAgICAgICAgd2luZG93LlBHTS5KU1RbJ2Fkcy9zbG90J10oe1xuICAgICAgICAgICAgICAgIHNsb3Q6IHdpbmRvdy5QR00uYWRzLmRhdGEuc2xvdHMubG9uZ2Zvcm1fdDJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gdGhpcyB2aWV3IGFscmVhZHkgaGFzIEhUTUwgY29udGVudFxuICAgICAgICB0aGlzLiRib2R5RWxlbWVudHMgPSAkKCcubG9uZ2Zvcm1fX2JvZHktcHJpbWFyeScpLmNoaWxkcmVuKCkuY2xvbmUoKTtcbiAgICB9LFxuICAgIG9uUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5sYXlvdXRBcnRpY2xlKCk7XG4gICAgfSxcbiAgICBsYXlvdXRBcnRpY2xlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kKCcubG9uZ2Zvcm1fX2JvZHkgLmNvbnRhaW5lcjpub3QoOmZpcnN0LW9mLXR5cGUpJykucmVtb3ZlKCk7XG4gICAgICAgIHZhciAkY29udGFpbmVyID0gdGhpcy4kKCcubG9uZ2Zvcm1fX2JvZHkgLmNvbnRhaW5lcicpO1xuICAgICAgICB2YXIgJHN0b3J5ID0gJGNvbnRhaW5lci5maW5kKCcubG9uZ2Zvcm1fX2JvZHktcHJpbWFyeScpLmVtcHR5KCk7XG4gICAgICAgIHZhciBpc0Z1bGxXaWR0aEVsZW1lbnQgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgLy8gQHRvZG8gYWRkIG1vcmUgY29uZGl0aW9uc1xuICAgICAgICAgICAgcmV0dXJuIC0xICE9PSBlbC5jbGFzc05hbWUuaW5kZXhPZignZGZwLWFkLWxvbmdmb3JtX3QyJyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBpc0NvbnRlbnRQcm9tbyA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIC0xICE9PSBlbC5jbGFzc05hbWUuaW5kZXhPZignZW1iZWRkZWQtY29udGVudCcpICYmXG4gICAgICAgICAgICAgICAgJ3Byb21vJyA9PT0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtYWtlTmV3U2VjdGlvbiA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gXy5leHRlbmQoe1xuICAgICAgICAgICAgICAgIGluc2VydEFkOiBmYWxzZVxuICAgICAgICAgICAgfSwgb3B0cyk7XG4gICAgICAgICAgICB2YXIgcmFpbFZpZXcgPSBuZXcgUmFpbFZpZXcoKTtcblxuICAgICAgICAgICAgJHN0b3J5ID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnbG9uZ2Zvcm1fX2JvZHktcHJpbWFyeScpO1xuICAgICAgICAgICAgJGNvbnRhaW5lciA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ2NvbnRhaW5lcicpXG4gICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKCRjb250YWluZXIpIC8vIHRoaXMgcmVmZXJzIHRvIHRoZSBvbGQgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChyYWlsVmlldy5yZW5kZXIoKS4kZWwpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkc3RvcnkpXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pbnNlcnRBZCkgcmFpbFZpZXcuaW5zZXJ0QWQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldFByb21vRGF0YSA9IF8uYmluZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwcm9tb0RhdGE7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHByb21vRGF0YSA9IEpTT04ucGFyc2UodGhpcy4kKCcjZmVhdHVyZV9wcm9tb3MnKS50ZXh0KCkpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgLy8gYmFpbCBpZiBKU09OIGRvZXNuJ3QgcGFyc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9tb0RhdGEgJiYgcHJvbW9EYXRhWzBdO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdmFyIGluc2VydFByb21vID0gZnVuY3Rpb24ocHJvbW9EYXRhKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHJ1bnMgYmVmb3JlIGVtYmVkcyBhcmUgcHJvY2Vzc2VkLCBzbyBpZiB3ZSBqdXN0XG4gICAgICAgICAgICAvLyBkcm9wIGRhdGEgaW4gaXQgd2lsbCBiZSBjYXVnaHRcbiAgICAgICAgICAgICQoJzxkaXY+JykuYXR0cih7XG4gICAgICAgICAgICAgICAgY2xhc3M6ICdlbWJlZGRlZC1jb250ZW50JyxcbiAgICAgICAgICAgICAgICAnZGF0YS10ZW1wbGF0ZSc6ICdwcm9tbydcbiAgICAgICAgICAgIH0pLmFwcGVuZCgkKCc8c2NyaXB0IHR5cGU9XCJhcHBsaWNhdGlvbi9qc29uXCI+JykudGV4dChKU09OLnN0cmluZ2lmeShwcm9tb0RhdGEpKSlcbiAgICAgICAgICAgIC5wcmVwZW5kVG8oJGNvbnRhaW5lci5maW5kKCcubG9uZ2Zvcm1fX2JvZHktc3VwcGxlbWVudGFyeScpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBkbyB0aGUgYWN0dWFsIGxheW91dFxuICAgICAgICB0aGlzLiRib2R5RWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwcm9tb0RhdGE7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBib2R5IGlzIGEgZnVsbC13aWR0aCBlbGVtZW50LCBzdGFydCBhIG5ld1xuICAgICAgICAgICAgLy8gY29udGFpbmVyIGFuZCBzdGljayB0aGUgZnVsbHdpZHRoIGVsZW1lbnQgaW4gYmVmb3JlIGl0XG4gICAgICAgICAgICBpZiAoaXNGdWxsV2lkdGhFbGVtZW50KHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgcHJvbW9EYXRhID0gZ2V0UHJvbW9EYXRhKCk7XG4gICAgICAgICAgICAgICAgbWFrZU5ld1NlY3Rpb24oe2luc2VydEFkOiAhIXByb21vRGF0YSB9KTtcbiAgICAgICAgICAgICAgICBpZiAocHJvbW9EYXRhKSBpbnNlcnRQcm9tbyhwcm9tb0RhdGEpO1xuICAgICAgICAgICAgICAgICRjb250YWluZXIuYmVmb3JlKHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0NvbnRlbnRQcm9tbyh0aGlzKSkge1xuICAgICAgICAgICAgICAgIG1ha2VOZXdTZWN0aW9uKHtpbnNlcnRBZDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmxvbmdmb3JtX19ib2R5LXN1cHBsZW1lbnRhcnknKVxuICAgICAgICAgICAgICAgICAgICAucHJlcGVuZCh0aGlzKVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHN0b3J5LmFwcGVuZCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8ga2lsbCBlbXB0eSBwYXJhZ3JhcGhzXG4gICAgICAgIHRoaXMuJCgnLmxvbmdmb3JtX19ib2R5IHAnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5uZXJIVE1MLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5lbnF1aXJlLnJlZ2lzdGVyKHdpbmRvdy5QR00ubWVkaWFRdWVyaWVzLmxhcmdlLCB7XG4gICAgICAgICAgICBtYXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnLmRmcC1hZC1tLCAuZGZwLWFkLW0xJykucmFpbFNsaWRlcih7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlck9mZnNldDogJCgnI3NpdGUtaGVhZGVyJykuaGVpZ2h0KCkgKyA4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5tYXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnLmRmcC1hZC1tLCAuZGZwLWFkLW0xJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5yYWlsU2xpZGVycy5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uZGVmZXIoZnVuY3Rpb24oKSB7ICQucmFpbFNsaWRlcnMucmVjYWxjdWxhdGUoKTsgfSk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL2xvbmdmb3JtLmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdwZ21mZS90b29scy9kZWJ1ZycpKCd0b3BpYycpO1xuXG4vLyBAdG9kbzogbWF5YmUgdGhpcyBzaG91bGQgYmUgb3ZlcnJpZGFibGVcbnZhciBBSkFYX1VSSSA9ICcvZmVfZGF0YS90b3BpY19ibG9ja3MvJztcblxuLy8gdXRpbGl0eSBmdW5jdGlvbiB0byByZWNhbGN1bGF0ZSBzdGlja3kgYWRzXG5jb25zdCByZWNhbGN1bGF0ZVJhaWxTbGlkZXJzID0gXy5kZWJvdW5jZShmdW5jdGlvbigpIHtcbiAgICBpZiAoJC5yYWlsU2xpZGVycykgJC5yYWlsU2xpZGVycy5yZWNhbGN1bGF0ZSgpO1xufSwgMjAwKTtcblxuY29uc3QgUHVzaGRvd25Qcm9tbyA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7fSk7XG5cbmNvbnN0IEJsb2NrID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldCgndHlwZScpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ211bHRpcGxlJykgcmV0dXJuOyAvLyBubyBwYWdpbmF0aW9uXG4gICAgICAgIHRoaXMucGFnZUxlbmd0aCA9ICh0eXBlID09PSAndmlkZW8nIHx8IHR5cGUgPT09ICdnYWxsZXJ5JykgPyAyIDogMztcbiAgICAgICAgdGhpcy5vbignY2hhbmdlOmN1cnJlbnRJbmRleCcsIHRoaXMuc2V0Q3VycmVudFBhZ2UpO1xuICAgICAgICB0aGlzLnNldCgndG90YWxQYWdlcycsIE1hdGguY2VpbCh0aGlzLmdldCgnaXRlbXMnKS5sZW5ndGggLyB0aGlzLnBhZ2VMZW5ndGgpKTtcbiAgICAgICAgdGhpcy5zZXQoJ2N1cnJlbnRJbmRleCcsIDApO1xuICAgIH0sXG4gICAgc2V0Q3VycmVudFBhZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gdGhpcy5nZXQoJ2N1cnJlbnRJbmRleCcpO1xuXG4gICAgICAgIC8vIGN1cnJlbnRJbmRleCBpcyB6ZXJvLWluZGV4ZWRcbiAgICAgICAgdGhpcy5zZXQoJ2N1cnJlbnRQYWdlSXRlbXMnLCB0aGlzLmdldCgnaXRlbXMnKS5zbGljZSh0aGlzLnBhZ2VMZW5ndGggKiBjdXJyZW50SW5kZXgsIHRoaXMucGFnZUxlbmd0aCAqIGN1cnJlbnRJbmRleCArIHRoaXMucGFnZUxlbmd0aCkpO1xuICAgICAgICB0aGlzLnNldCgnY3VycmVudFBhZ2UnLCBjdXJyZW50SW5kZXggKyAxKTsgLy8gbGFzdCwgYmVjYXVzZSBpdCB0cmlnZ2VycyByZW5kZXJcbiAgICB9LFxuICAgIG5leHRQYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZUluZGV4ID0gdGhpcy5nZXQoJ2N1cnJlbnRJbmRleCcpICsgMTtcbiAgICAgICAgdGhpcy5zZXQoJ2N1cnJlbnRJbmRleCcsIGNhbmRpZGF0ZUluZGV4IDwgdGhpcy5nZXQoJ3RvdGFsUGFnZXMnKSA/IGNhbmRpZGF0ZUluZGV4IDogMCk7XG4gICAgfSxcbiAgICBwcmV2UGFnZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGVJbmRleCA9IHRoaXMuZ2V0KCdjdXJyZW50SW5kZXgnKSAtIDE7XG4gICAgICAgIHRoaXMuc2V0KCdjdXJyZW50SW5kZXgnLCBjYW5kaWRhdGVJbmRleCA8IDAgPyB0aGlzLmdldCgndG90YWxQYWdlcycpIC0gMSA6IGNhbmRpZGF0ZUluZGV4KTtcbiAgICB9XG59KTtcblxuY29uc3QgQmxvY2tzQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuICAgIH0sXG5cbiAgICBtb2RlbDogQmxvY2ssXG5cbiAgICBnZXRDdXJyZW50SW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SW5kZXg7XG4gICAgfSxcblxuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBkZWJ1ZygndG9waWMnLCAncmVuZGVyaW5nICcgKyB0aGlzLmN1cnJlbnRJbmRleCArICcgb2YgJyArIHRoaXMubGVuZ3RoICk7XG4gICAgICAgIHJldHVybiB0aGlzLmF0KHRoaXMuY3VycmVudEluZGV4KysgJSB0aGlzLmxlbmd0aCApO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oIHRhcmdldCApIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSB0YXJnZXQgfHwgMDtcbiAgICB9XG59KTtcblxuY29uc3QgQmxvY2tWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIHRhZ05hbWU6ICdhc2lkZScsXG4gICAgY2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdjYXBzdWxlJyxcbiAgICAgICAgICAgICdjYXBzdWxlLS0nICsgdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKSxcbiAgICAgICAgICAgICdjYXBzdWxlLS0nICsgKHRoaXMubW9kZWwuZ2V0KCd0eXBlJykgPT09ICdwdXNoZG93bicgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnKVxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9LFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMubW9kZWwuZ2V0KCd0eXBlJyk7XG4gICAgICAgIGlmICh0eXBlID09PSAndmlkZW8nIHx8IHR5cGUgPT09ICdnYWxsZXJ5Jykge1xuICAgICAgICAgICAgdHlwZSA9ICdtZWRpYSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2xpc3RfaW5kZXgnIHx8IHR5cGUgPT09ICdyZXZpZXcnKSB7XG4gICAgICAgICAgICB0eXBlID0gJ2xpc3QnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB3aW5kb3cuUEdNLkpTVFsndG9waWNfaW5kZXgvY2Fwc3VsZS0nICsgdHlwZSBdO1xuXG4gICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgJ2NoYW5nZTpjdXJyZW50UGFnZScsIHRoaXMucmVuZGVyKTtcbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLmNhcHN1bGVfX25hdi1idXR0b24tLW5leHQnOiAnbmV4dFBhZ2UnLFxuICAgICAgICAnY2xpY2sgLmNhcHN1bGVfX25hdi1idXR0b24tLXByZXYnOiAncHJldlBhZ2UnXG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgICAgICByZWNhbGN1bGF0ZVJhaWxTbGlkZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgbmV4dFBhZ2U6IGZ1bmN0aW9uKCkgeyB0aGlzLm1vZGVsLm5leHRQYWdlKCk7IH0sXG4gICAgcHJldlBhZ2U6IGZ1bmN0aW9uKCkgeyB0aGlzLm1vZGVsLnByZXZQYWdlKCk7IH1cbn0pO1xuXG5jb25zdCBCbG9ja1N3aXBlVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICB0YWdOYW1lOiAnYXNpZGUnLFxuICAgIGNsYXNzTmFtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcmllbnRhdGlvbiA9IHRoaXMubW9kZWwuZ2V0KCd0eXBlJykgPT09ICdwdXNoZG93bicgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ2NhcHN1bGUnLFxuICAgICAgICAgICAgJ2NhcHN1bGUtLXN3aXBlJyxcbiAgICAgICAgICAgICdjYXBzdWxlLS1zd2lwZS0nICsgb3JpZW50YXRpb24sXG4gICAgICAgICAgICAnY2Fwc3VsZS0tJyArIG9yaWVudGF0aW9uXG4gICAgICAgIF0uam9pbignICcpO1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKTtcbiAgICAgICAgdmFyIGFwcGVuZCA9ICcnO1xuICAgICAgICBpZiAoIHR5cGUgPT09ICdjaGFydCcgfHwgdHlwZSA9PT0gJ3B1c2hkb3duJyApIHtcbiAgICAgICAgICAgIGFwcGVuZCA9ICctJyArIHR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHdpbmRvdy5QR00uSlNUWyd0b3BpY19pbmRleC9jYXBzdWxlLXN3aXBlJyArIGFwcGVuZF07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59KTtcblxuLy8gc3Vic2VxdWVudCBjYWxscyByZXR1cm4gdGhlIHNhbWUgb2JqZWN0XG5jb25zdCBnZXRCbG9ja3NDb2xsZWN0aW9uID0gXy5vbmNlKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgQmxvY2tzQ29sbGVjdGlvbigpO1xufSk7XG5cbi8vIHN1YnNlcXVlbnQgY2FsbHMgcmV0dXJuIHRoZSBzYW1lIG9iamVjdFxuY29uc3QgZ2V0UHVzaGRvd25Qcm9tbyA9IF8ub25jZShmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFB1c2hkb3duUHJvbW8oKTtcbn0pO1xuXG5jb25zdCBmZXRjaEJsb2NrRGF0YSA9IGZ1bmN0aW9uKHNsdWcsIHB1c2hkb3duUHJvbW8sIGJsb2Nrc0NvbGxlY3Rpb24pIHtcbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IEFKQVhfVVJJICsgc2x1ZyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaWYoIHR5cGVvZiBkYXRhLnB1c2hkb3duUHJvbW8gIT09ICd1bmRlZmluZWQnICYmIGRhdGEucHVzaGRvd25Qcm9tbyAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICBwdXNoZG93blByb21vLnNldChkYXRhLnB1c2hkb3duUHJvbW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2tzQ29sbGVjdGlvbi5zZXQoZGF0YS5ibG9ja3MpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkZWJ1ZygndG9waWMnLCAnY291bGQgbm90IGZldGNoIHRvcGljIGJsb2NrcycpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ibG9ja1ZpZXdzID0gW107XG4gICAgICAgIHRoaXMucHVzaGRvd25Qcm9tbyA9IGdldFB1c2hkb3duUHJvbW8oKTtcbiAgICAgICAgdGhpcy5ibG9ja3NDb2xsZWN0aW9uID0gZ2V0QmxvY2tzQ29sbGVjdGlvbigpO1xuICAgICAgICBmZXRjaEJsb2NrRGF0YSh0aGlzLiRlbC5kYXRhKCd0b3BpY3NsdWcnKSwgdGhpcy5wdXNoZG93blByb21vLCB0aGlzLmJsb2Nrc0NvbGxlY3Rpb24pO1xuXG4gICAgICAgIHRoaXMuY29sbGVjdGlvblJlc2V0VGFyZ2V0ID0gdGhpcy5ibG9ja3NDb2xsZWN0aW9uLmdldEN1cnJlbnRJbmRleCgpO1xuXG4gICAgICAgIHRoaXMucmVzaXplU2xpZGVyc0ZvckFkcygpO1xuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoXy5iaW5kKHRoaXMucmVuZGVyLCB0aGlzKSwxNTApKTtcbiAgICB9LFxuICAgIHJlc2l6ZVNsaWRlcnNGb3JBZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcgPSB3aW5kb3cuZ29vZ2xldGFnIHx8IHt9O1xuICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLmNtZCA9IHdpbmRvdy5nb29nbGV0YWcuY21kIHx8IFtdO1xuXG4gICAgICAgIHdpbmRvdy5nb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmFkZEV2ZW50TGlzdGVuZXIoJ3Nsb3RSZW5kZXJFbmRlZCcsIF8uYmluZChzZWxmLmhhbmRsZVNsb3RSZW5kZXJFbmRlZCwgc2VsZikpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGV2ZW50czogXy5leHRlbmQoe1xuICAgICAgICAnY2xpY2sgLnRvcGljLWluZGV4X19zdW1tYXJ5LXRvZ2dsZSc6ICd0b2dnbGVTdW1tYXJ5JyxcbiAgICAgICAgJ2NsaWNrIC50b3BpYy1zaGFyZV9fdG9nZ2xlJzogJ3RvZ2dsZVNoYXJlJ1xuICAgIH0sIHdpbmRvdy5QR00udG91Y2ggPyB7XG4gICAgICAgICd0b3VjaGVuZCAudG9waWMtY2FyZF9fZmVhdHVyZWQtZmxhZyc6ICd0b2dnbGVGZWF0dXJlZEZsYWdJbmRpY2F0b3InXG4gICAgfSA6IHtcbiAgICAgICAgJ21vdXNlZW50ZXIgLnRvcGljLWNhcmRfX2ZlYXR1cmVkLWZsYWcnOiAndG9nZ2xlRmVhdHVyZWRGbGFnSW5kaWNhdG9yJyxcbiAgICAgICAgJ21vdXNlbGVhdmUgLnRvcGljLWNhcmRfX2ZlYXR1cmVkLWZsYWcnOiAndG9nZ2xlRmVhdHVyZWRGbGFnSW5kaWNhdG9yJ1xuICAgIH0pLFxuICAgIGlzRGVza3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPj0gMTAyNDtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHJhaWwgPSB0aGlzLiRyYWlsIHx8IHRoaXMuJCgnLmpzLWxlZnRSYWlsJyk7XG4gICAgICAgIHRoaXMuJHdlbGwgPSB0aGlzLiR3ZWxsIHx8IHRoaXMuJCgnLmpzLW1haW5XZWxsJyk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVCbG9ja1ZpZXdzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNEZXNrdG9wKCkpIHRoaXMuaW5zZXJ0TGVmdFJhaWxBZHMoKTtcbiAgICAgICAgaWYgKHRoaXMuYmxvY2tzQ29sbGVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0QmxvY2tWaWV3cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmJsb2Nrc0NvbGxlY3Rpb24sICdhZGQnLCB0aGlzLnJlbmRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHRvZ2dsZUZlYXR1cmVkRmxhZ0luZGljYXRvcjogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoL2lzLWV4cGFuZGVkLy50ZXN0KGUuY3VycmVudFRhcmdldC5jbGFzc05hbWUpKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NOYW1lID0gZS5jdXJyZW50VGFyZ2V0LmNsYXNzTmFtZS5yZXBsYWNlKCcgaXMtZXhwYW5kZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NOYW1lICs9ICcgaXMtZXhwYW5kZWQnO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB0b2dnbGVTdW1tYXJ5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kKCcudG9waWMtaW5kZXhfX3N1bW1hcnknKS50b2dnbGVDbGFzcygnaXMtY2xvc2VkJyk7XG4gICAgICAgIF8uZGVmZXIocmVjYWxjdWxhdGVSYWlsU2xpZGVycyk7XG4gICAgfSxcbiAgICB0b2dnbGVTaGFyZTogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoL2lzLWV4cGFuZGVkLy50ZXN0KGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5jbGFzc05hbWUgPSBlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTmFtZS5yZXBsYWNlKCcgaXMtZXhwYW5kZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTmFtZSArPSAnIGlzLWV4cGFuZGVkJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW5zZXJ0TGVmdFJhaWxBZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWRIVE1MID0gW1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0b3BpYy1pbmRleF9fc2xpZGUtY29udGFpbmVyXCI+JyxcbiAgICAgICAgICAgIHdpbmRvdy5QR00uSlNUWydhZHMvc2xvdCddKHtzbG90OiB3aW5kb3cuUEdNLmFkcy5kYXRhLnNsb3RzLnJhaWx9KSxcbiAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgIF0uam9pbignJyk7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuJHJhaWwuZmluZCgnLnRvcGljLWluZGV4X19zbGlkZS1jb250YWluZXInKS5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICB0aGlzLiRyYWlsLmFwcGVuZChhZEhUTUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyBwbHVnaW4gaXMgaWRlbXBvdGVudDsgcmVwZWF0ZWQgY2FsbHMgd29uJ3QgbWF0dGVyXG4gICAgICAgIHRoaXMuJHJhaWwuZmluZCgnLmRmcC1hZCcpLnJhaWxTbGlkZXIoe1xuICAgICAgICAgICAgY29udGV4dDogJy50b3BpYy1pbmRleF9fc2xpZGUtY29udGFpbmVyJyxcbiAgICAgICAgICAgIGhlYWRlck9mZnNldDogZnVuY3Rpb24oKSB7IHJldHVybiAkKCcjc2l0ZS1oZWFkZXInKS5vdXRlckhlaWdodCh0cnVlKSArIDI0OyB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgaW5zZXJ0QmxvY2tWaWV3czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkZWxlbWVudFRvSW5zZXJ0QWZ0ZXIgPSB0aGlzLmlzRGVza3RvcCgpID9cbiAgICAgICAgICAgIHRoaXMuJHJhaWwuZmluZCgnLnRvcGljLWluZGV4X19zbGlkZS1jb250YWluZXInKSA6XG4gICAgICAgICAgICB0aGlzLiR3ZWxsLmZpbmQoJy5kZnAtYWQnKVxuICAgICAgICA7XG4gICAgICAgIHZhciB2aWV3VG9Vc2UgPSB0aGlzLmlzRGVza3RvcCgpID8gQmxvY2tWaWV3IDogQmxvY2tTd2lwZVZpZXc7XG5cbiAgICAgICAgJGVsZW1lbnRUb0luc2VydEFmdGVyLmVhY2goXy5iaW5kKGZ1bmN0aW9uKGksIGVsKSB7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyB2aWV3VG9Vc2UoeyBtb2RlbDogdGhpcy5ibG9ja3NDb2xsZWN0aW9uLm5leHQoKSB9KTtcbiAgICAgICAgICAgIHRoaXMuYmxvY2tWaWV3cy5wdXNoKHZpZXcucmVuZGVyKCkpO1xuICAgICAgICAgICAgdmlldy4kZWwuaW5zZXJ0QWZ0ZXIoZWwpO1xuICAgICAgICB9LCB0aGlzKSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHVzaGRvd25Qcm9tby5oYXMoJ3RpdGxlJykpIHtcbiAgICAgICAgICAgIHRoaXMuJCgnLmpzLXB1c2hkb3duUHJvbW8nKS5hcHBlbmQoKG5ldyB2aWV3VG9Vc2UoeyBtb2RlbDogdGhpcy5wdXNoZG93blByb21vIH0pKS5yZW5kZXIoKS4kZWwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVCbG9ja1ZpZXdzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF8uZWFjaCh0aGlzLmJsb2NrVmlld3MsIGZ1bmN0aW9uICh2aWV3KSB7IHZpZXcucmVtb3ZlKCk7IH0pO1xuICAgICAgICB0aGlzLiQoJy5qcy1wdXNoZG93blByb21vJykuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5ibG9ja1ZpZXdzID0gW107XG4gICAgICAgIHRoaXMuYmxvY2tzQ29sbGVjdGlvbi5yZXNldCggdGhpcy5jb2xsZWN0aW9uUmVzZXRUYXJnZXQgKTtcbiAgICB9LFxuICAgIC8vIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vZG91YmxlY2xpY2stZ3B0L3JlZmVyZW5jZSNnb29nbGV0YWdldmVudHNzbG90cmVuZGVyZW5kZWRldmVudFxuICAgIGhhbmRsZVNsb3RSZW5kZXJFbmRlZDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUuaXNFbXB0eSB8fCAhdGhpcy5pc0Rlc2t0b3AoKSkgcmV0dXJuO1xuICAgICAgICB2YXIgc2xvdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLnNsb3QuZ2V0U2xvdEVsZW1lbnRJZCgpKTtcbiAgICAgICAgaWYgKCEvKGRmcC1hZC0ocmFpbHxtMSkpLy50ZXN0KHNsb3RFbGVtZW50LmNsYXNzTmFtZSkpIHJldHVybjtcbiAgICAgICAgc2xvdEVsZW1lbnQucGFyZW50Tm9kZS5zdHlsZS5taW5IZWlnaHQgPSAocGFyc2VJbnQoZS5zaXplWzFdLCAxMCkgKyAxMDAwKSArICdweCc7XG4gICAgICAgIHJlY2FsY3VsYXRlUmFpbFNsaWRlcnMoKTtcbiAgICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL3RvcGljLWluZGV4LmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uYmluZEFsbCh0aGlzLCAncmVuZGVyJyk7XG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplLicgKyB0aGlzLmNpZCwgXy5kZWJvdW5jZSh0aGlzLnJlbmRlciwgMjAwKSk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiAxMDIzICYmXG4gICAgICAgICAgICB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1iYWNrZ3JvdW5kLWRlc2t0b3AnKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0QmFja2dyb3VuZCgnZGVza3RvcCcpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoID4gNzY3ICYmXG4gICAgICAgICAgICB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1iYWNrZ3JvdW5kLXRhYmxldCcpXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRCYWNrZ3JvdW5kKCd0YWJsZXQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBsYXlvdXRCYWNrZ3JvdW5kOiBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgIHRoaXMuJGVsLmNzcyh7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWJhY2tncm91bmQtJyArIHNpemUpICsgJyknLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICogOSAvIDE2KSArICdweCcsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuJCgnLnRvcGljLXNwbGFzaF9fY29udGVudCcpLmhlaWdodCgpICsgJ3B4J1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICQod2luZG93KS5vZmYoJy4nICsgdGhpcy5jaWQpO1xuICAgICAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcbiAgICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL3RvcGljLXNwbGFzaC5qcyIsImNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbmNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbmNvbnN0IGV2ZW50cyA9IHJlcXVpcmUoJ3BnbWZlL2V2ZW50cycpO1xuY29uc3QgZ2V0Q29udGVudEluZm8gPSByZXF1aXJlKCdwZ21mZS90cmFja2luZycpLmdldENvbnRlbnRJbmZvO1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgQmFja2JvbmUuUm91dGVyKCk7IC8vIHRoaXMgZ2V0cyBydW4gb25jZVxuY29uc3Qgc3RhcnRIaXN0b3J5ID0gXy5vbmNlKGZ1bmN0aW9uKCkge1xuICAgIEJhY2tib25lLmhpc3Rvcnkuc3RhcnQoe1xuICAgICAgICBwdXNoU3RhdGU6IHRydWVcbiAgICB9KTtcbn0pO1xuXG4vLyBzYXZlIHRoZSBxdWVyeSBvbmNlXG5jb25zdCBxdWVyeSA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCB8fCAnJztcblxuZnVuY3Rpb24gc2V0VXBSb3V0ZXJOYXZpZ2F0aW9uKCkge1xuICAgICQoJy51cmwtYnJlYWRjcnVtYi5pcy11bnByb2Nlc3NlZCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgY29uc3QgJHByZXZpb3VzID0gJHRoaXMucHJldkFsbCgnLnVybC1icmVhZGNydW1iJykuZmlyc3QoKTsgLy8gcmV0dXJucyBlbGVtZW50cyBpbiByZXZlcnNlIG9yZGVyXG5cbiAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2lzLXVucHJvY2Vzc2VkJykud2F5cG9pbnQoe1xuICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0ICRuZXdBY3RpdmUgPSAkdGhpcztcblxuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIHNjcm9sbGluZyB1cCBhbmQgbG9hZGluZyBwcmV2aW91cyBjb250ZW50XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBiYWlsIGlmIHRoZXJlIGlzIG5vIHByZXZpb3VzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRwcmV2aW91cy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgJG5ld0FjdGl2ZSA9ICRwcmV2aW91cztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBiYWlsIGlmIHdlJ3JlIHNjcm9sbGluZyBpbnRvIGNvbnRlbnQgdGhhdCBpc1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgYWN0aXZlIGZvciBzb21lIHJlYXNvblxuICAgICAgICAgICAgICAgIGlmICgkbmV3QWN0aXZlLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY2hhbmdlVXJsKCRuZXdBY3RpdmUuZGF0YSgndXJsLWJyZWFkY3J1bWInKSwgKCRuZXdBY3RpdmUuZGF0YSgnY29udGVudC10eXBlJykgfHwgJ3Vua25vd24nKSwgJG5ld0FjdGl2ZSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZzZXQ6ICczMCUnXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5jb25zdCBjaGFuZ2VUaXRsZSA9IChmdW5jdGlvbih0aXRsZSwgc3VmZml4KSB7XG4gICAgLy8gZ3JhYiB0aGUgXCJ8IFNpdGUgTmFtZVwiIGZyb20gdGhlIHRpdGxlXG4gICAgY29uc3Qgc3VmZml4UG9zID0gdGl0bGUubGFzdEluZGV4T2YoJ3wnKTtcbiAgICBpZiggc3VmZml4UG9zID4gLTEgKSB7XG4gICAgICAgIHN1ZmZpeCA9ICcgJyArIHRpdGxlLnN1YnN0cihzdWZmaXhQb3MpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBjaGFuZ2VUaXRsZSggYmFzZVRpdGxlICkge1xuICAgICAgICBpZiggdHlwZW9mIGJhc2VUaXRsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgYmFzZVRpdGxlLmxlbmd0aCApIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gYmFzZVRpdGxlICsgc3VmZml4O1xuICAgICAgICB9XG4gICAgfTtcbn0pKGRvY3VtZW50LnRpdGxlLCAnJyk7XG5cbi8vIHJlY2FsY3VsYXRlIHRoZSBpcy1hY3RpdmUgY2xhc3Mgd2hlbiBuZXcgY29udGVudCBpcyBsb2FkZWRcbmZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZUZpZWxkKGNvbnRlbnRUeXBlLCAkbmV3QWN0aXZlKSB7XG4gICAgJCgnLnVybC1icmVhZGNydW1iJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICRuZXdBY3RpdmUuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VVcmwoZGVzdCwgY29udGVudFR5cGUsICRuZXdBY3RpdmUsIGRpciwgb3B0aW9ucyApIHtcbiAgICBzdGFydEhpc3RvcnkoKTtcbiAgICBldmVudHMudHJpZ2dlcigndXJsQ2hhbmdlOnByZScsIGNvbnRlbnRUeXBlLCAkbmV3QWN0aXZlKTtcbiAgICBjaGFuZ2VUaXRsZShnZXRDb250ZW50SW5mbygkbmV3QWN0aXZlKS50aXRsZSk7XG4gICAgcm91dGVyLm5hdmlnYXRlKGRlc3QgKyBxdWVyeSwgb3B0aW9ucyk7XG4gICAgd2luZG93LlBHTS5ldmVudHMudHJpZ2dlcigndXJsQ2hhbmdlOnBvc3QnLCBjb250ZW50VHlwZSwgJG5ld0FjdGl2ZSwgZGlyKTtcbn1cblxud2luZG93LlBHTS5ldmVudHMub24oJ3VybENoYW5nZTpwcmUnLCB1cGRhdGVBY3RpdmVGaWVsZCApO1xud2luZG93LlBHTS5ldmVudHMub24oJ2NvbnRlbnRMb2FkZWQnLCBzZXRVcFJvdXRlck5hdmlnYXRpb24pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjaGFuZ2VVcmw6IGNoYW5nZVVybFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9yb3V0ZXIvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB0b3VjaDogKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuRG9jdW1lbnRUb3VjaFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy9zdXBwb3J0L2luZGV4LmpzIiwiY29uc3QgZGVidWcgPSByZXF1aXJlKCdwZ21mZS90b29scy9kZWJ1ZycpKCdjaGFydGJlYXQnKTtcblxuY29uc3QgZ2V0Q29udGVudEluZm8gPSByZXF1aXJlKCcuL2NvbnRlbnQtaW5mbycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYWNrQ2hhcnRiZWF0KGNvbnRlbnRUeXBlLCAkY29udGVudCkge1xuICAgIGNvbnN0IGluZm8gPSBnZXRDb250ZW50SW5mbygkY29udGVudCk7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdy5fc2ZfYXN5bmNfY29uZmlnICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3aW5kb3cuX3NmX2FzeW5jX2NvbmZpZy5hdXRob3JzID0gaW5mby5hdXRob3JzO1xuICAgICAgICB3aW5kb3cuX3NmX2FzeW5jX2NvbmZpZy5zZWN0aW9ucyA9IGluZm8uY2hhcnRiZWF0U2VjdGlvbjtcbiAgICAgICAgd2luZG93Ll9zZl9hc3luY19jb25maWcudGl0bGUgPSBpbmZvLnRpdGxlO1xuICAgICAgICB3aW5kb3cuX3NmX2FzeW5jX2NvbmZpZy5wYXRoID0gaW5mby5jYW5vbmljYWw7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgICB0eXBlb2Ygd2luZG93LnBTVVBFUkZMWSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdy5wU1VQRVJGTFkudmlydHVhbFBhZ2UgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgICAgZGVidWcoJ0NhbGxpbmcgdmlydHVhbFBhZ2Ugb24nLCBpbmZvLmNhbm9uaWNhbCwgaW5mby50aXRsZSwgd2luZG93Ll9zZl9hc3luY19jb25maWcpO1xuICAgICAgICB3aW5kb3cucFNVUEVSRkxZLnZpcnR1YWxQYWdlKGluZm8uY2Fub25pY2FsLCBpbmZvLnRpdGxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1ZygnQ2Fubm90IGNhbGwgdmlydHVhbFBhZ2UgZHVlIHRvJywgd2luZG93LnBTVVBFUkZMWSk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy90cmFja2luZy9jaGFydGJlYXQuanMiLCIvLyBjb21zY29yZSB0cmFja2luZyBmdW5jdGlvbiBmb3IgVVJMIGNoYW5nZVxuY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJykoJ2NvbXNjb3JlJyk7XG5cbmZ1bmN0aW9uIHRyYWNrSXRlbVZpZXdDb21zY29yZSgpIHtcbiAgICBpZiAoXG4gICAgICAgIHR5cGVvZiB3aW5kb3cuQ09NU0NPUkUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiB3aW5kb3cuQ09NU0NPUkUuYmVhY29uID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHdpbmRvdy5jb21zY29yZVZhcnNcbiAgICApIHtcbiAgICAgICAgZGVidWcoJ2NhbGwgYmVhY29uJywgd2luZG93LkNPTVNDT1JFLCB3aW5kb3cuY29tc2NvcmVWYXJzKTtcbiAgICAgICAgd2luZG93LkNPTVNDT1JFLmJlYWNvbih3aW5kb3cuY29tc2NvcmVWYXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1ZygnZGlkIG5vdCBjYWxsIGJlYWNvbicsIHdpbmRvdy5DT01TQ09SRSwgd2luZG93LmNvbXNjb3JlVmFycyk7XG4gICAgfVxufVxuXG5sZXQgY291bnRlciA9IDA7IC8vIGluIGNhc2UgdGhlcmUgaXMgbm8gbnVtZXJpYyBpZCBvbiB0aGUgZWxlbWVudFxuZnVuY3Rpb24gc2VuZFRvQ29tc2NvcmUoIGNvbnRlbnRUeXBlLCAkY29udGVudCApIHtcbiAgICBpZiggdHlwZW9mICRjb250ZW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgJGNvbnRlbnQuZGF0YSAhPT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgICAgZGVidWcoJ3VuYWJsZSB0byB0cmFjayB3aXRoIGNvbnRlbnQnLCAkY29udGVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVidWcoJ3JlcXVlc3QgdG8gdHJhY2sgdmlhJywgZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XG4gICAgJC5hamF4KCcvZmVfZGF0YS9wYWdldmlld19jYW5kaWRhdGUvJyArICgkY29udGVudC5kYXRhKCdpZCcpIHx8ICsrY291bnRlciksIHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgX3BnbWlnbm9yZTogRGF0ZS5ub3coKVxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiB0cmFja0l0ZW1WaWV3Q29tc2NvcmUsXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiBjb21zY29yZUVycm9yKCkge1xuICAgICAgICAgICAgZGVidWcoJ2Vycm9yIG9uIGFqYXggcmV0dXJuJywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRUb0NvbXNjb3JlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYm93ZXJfY29tcG9uZW50cy9wZ21mZS9qcy9tb2R1bGVzL3RyYWNraW5nL2NvbXNjb3JlLmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2RlYnVnJykoJ2dhJyk7XG5cbmxldCBjYXRlZ29yeSA9IG51bGw7XG5sZXQgYWN0aW9uID0gbnVsbDtcblxubW9kdWxlLmV4cG9ydHMgPSAge1xuICAgIHNldENhdGVnb3J5OiBmdW5jdGlvbiBzZXRDYXRlZ29yeShjYXQpIHtcbiAgICAgICAgY2F0ZWdvcnkgPSBjYXQudG9TdHJpbmcoKTtcbiAgICAgICAgZGVidWcoJ3RyYWNraW5nIGNhdGVnb3J5IHNldCB0byAnICsgY2F0ZWdvcnkpO1xuICAgIH0sXG5cbiAgICBzZXRBY3Rpb246IGZ1bmN0aW9uKGFjdCkge1xuICAgICAgICBhY3Rpb24gPSBhY3QudG9TdHJpbmcoKTtcbiAgICAgICAgZGVidWcoJ3RyYWNraW5nIGFjdGlvbiBzZXQgdG8gJyArIGFjdGlvbik7XG4gICAgfSxcblxuICAgIHRyYWNrRXZlbnQ6IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9ICQuZXh0ZW5kKHtcbiAgICAgICAgICAgIGV2ZW50OiAndHJhY2tFdmVudCcsXG4gICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxhYmVsOiBudWxsLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBub25JbnRlcmFjdGlvbjogdHJ1ZVxuICAgICAgICB9LCBvcHRzKTtcblxuICAgICAgICAvLyBkZWJ1ZyB3aXRoIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbixcbiAgICAgICAgLy8gYW5kIHdpdGggdGhlIHJlc3VsdGluZyBoYXNoXG4gICAgICAgIGRlYnVnKCd0cmFja0V2ZW50Jywgb3B0cywgb3B0aW9ucyk7XG4gICAgICAgIHdpbmRvdy5fZ2FxLnB1c2goWydfdHJhY2tFdmVudCcsIG9wdGlvbnMuY2F0ZWdvcnksIG9wdGlvbnMuYWN0aW9uLCBvcHRpb25zLmxhYmVsLCBvcHRpb25zLnZhbHVlLCBvcHRpb25zLm5vbkludGVyYWN0aW9uXSk7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaChvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgdHJhY2tQYWdldmlldzogZnVuY3Rpb24ob3B0cykge1xuICAgICAgICB2YXIgb3B0aW9ucyAgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICBldmVudDogJ3Njcm9sbFBhZ2V2aWV3JyxcbiAgICAgICAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LCBvcHRzKTtcblxuICAgICAgICBvcHRpb25zLnBhdGhOYW1lID0gb3B0aW9ucy5wYXRoO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5wYXRoO1xuXG4gICAgICAgIGRlYnVnKCd0cmFja1BhZ2V2aWV3Jywgb3B0cywgb3B0aW9ucyk7XG4gICAgICAgIHdpbmRvdy5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldycsIG9wdGlvbnMucGF0aE5hbWVdKTtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKG9wdGlvbnMpO1xuICAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ib3dlcl9jb21wb25lbnRzL3BnbWZlL2pzL21vZHVsZXMvdHJhY2tpbmcvZnVuY3Rpb25zLmpzIiwiY29uc3QgZXZlbnRzID0gcmVxdWlyZSgncGdtZmUvZXZlbnRzJyk7XG5jb25zdCBnZXRDb250ZW50SW5mbyA9IHJlcXVpcmUoJy4vY29udGVudC1pbmZvJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhY2tHYShjb250ZW50VHlwZSwgJGNvbnRlbnQpIHtcbiAgICBjb25zdCBpbmZvID0gZ2V0Q29udGVudEluZm8oJGNvbnRlbnQpO1xuXG4gICAgZXZlbnRzLnRyaWdnZXIoJ3RyYWNrUGFnZXZpZXcnLCB7XG4gICAgICAgICdmaXJlR1RNJzogJ29uJyxcbiAgICAgICAgJ2NvbnRlbnRJZCc6IGluZm8uaWQsXG4gICAgICAgICdhdXRob3InOiBpbmZvLmF1dGhvcnMsXG4gICAgICAgICdwdWJsaXNoRGF0ZSc6IGluZm8ucHVibGlzaERhdGUsXG4gICAgICAgICdjYXRlZ29yeSc6IGluZm8uYW5hbHl0aWNzQ2F0ZWdvcnksXG4gICAgICAgICd0YWdzJzogaW5mby5hbmFseXRpY3NUYWdzLFxuICAgIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvcGdtZmUvanMvbW9kdWxlcy90cmFja2luZy9nYS5qcyIsImNvbnN0IGNvbnRlbnQgPSByZXF1aXJlKCdwZ21mZS9jb250ZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5lbWJlZHMuZ2V0QmFzZU1vZGVsKCkuZXh0ZW5kKHtcbiAgICBtYWtlSW1hZ2VjYWNoZVNyYzogZnVuY3Rpb24obWVkaWEpIHtcbiAgICAgICAgdmFyIGZpbGVzUGF0aCA9ICdmaWxlcyc7XG4gICAgICAgIHZhciBwcmVzZXRzID0ge1xuICAgICAgICAgICAgcG9ydHJhaXQ6ICczMjB4NDE2X2dhbGxlcnknLFxuICAgICAgICAgICAgc3F1YXJlOiAnMzIweDMyMCcsXG4gICAgICAgICAgICBkZWZhdWx0OiAnNDgweDI3MCdcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5tYWtlSW1hZ2VTcmMobWVkaWEucGF0aCkucmVwbGFjZShmaWxlc1BhdGgsIFtcbiAgICAgICAgICAgIGZpbGVzUGF0aCxcbiAgICAgICAgICAgICdzdHlsZXMnLFxuICAgICAgICAgICAgcHJlc2V0c1ttZWRpYS5vcmllbnRhdGlvbl0gfHwgcHJlc2V0cy5kZWZhdWx0LFxuICAgICAgICAgICAgJ3B1YmxpYydcbiAgICAgICAgXS5qb2luKCcvJykpO1xuICAgIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbW9kdWxlcy9jb250ZW50L2VtYmVkcy1iYXNlLW1vZGVsLmpzIiwiY29uc3QgSG93SXRXb3Jrc1ZpZXcgPSByZXF1aXJlKCcuL3llLWNoYXJ0L2hvdy1pdC13b3Jrcy12aWV3Jyk7XG5jb25zdCBUaW1lTWFjaGluZVZpZXcgPSByZXF1aXJlKCcuL3llLWNoYXJ0L3RpbWUtbWFjaGluZS12aWV3Jyk7XG5jb25zdCBSb3dWaWV3ID0gcmVxdWlyZSgnLi95ZS1jaGFydC9yb3ctdmlldycpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCAkc3BvdGlmeURhdGFTb3VyY2UgPSB0aGlzLiQoJy5qcy1oYXNTcG90aWZ5VHlwZScpO1xuICAgICAgICBjb25zdCAkYXVkaW9FbGVtZW50ID0gdGhpcy4kKCcuanMtYXVkaW8tZWxlbWVudCcpO1xuXG4gICAgICAgIC8vIGF0dGFjaCB2aWV3c1xuICAgICAgICBpZiAodGhpcy4kKCcudGltZS1tYWNoaW5lJykubGVuZ3RoID4gMCkgKG5ldyBUaW1lTWFjaGluZVZpZXcoeyBlbDogdGhpcy4kKCcudGltZS1tYWNoaW5lJykgfSkpLnJlbmRlcigpO1xuICAgICAgICBpZiAodGhpcy4kKCcueWUtY2hhcnRfX2hvdy1pdC13b3JrcycpLmxlbmd0aCA+IDApIChuZXcgSG93SXRXb3Jrc1ZpZXcoeyBlbDogdGhpcy4kKCcueWUtY2hhcnRfX2hvdy1pdC13b3JrcycpIH0pKS5yZW5kZXIoKTtcblxuICAgICAgICB0aGlzLiQoJy55ZS1jaGFydF9faXRlbScpLmVhY2goXG4gICAgICAgICAgICAoaSwgZWwpID0+IChcbiAgICAgICAgICAgICAgICBuZXcgUm93Vmlldyh7XG4gICAgICAgICAgICAgICAgICAgIGVsOiBlbCxcbiAgICAgICAgICAgICAgICAgICAgJHNwb3RpZnlEYXRhU291cmNlOiAkc3BvdGlmeURhdGFTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICRhdWRpb0VsZW1lbnQ6ICRhdWRpb0VsZW1lbnRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKS5yZW5kZXIoKVxuICAgICAgICApO1xuICAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL2NvbnRlbnQvdHlwZXMveWUtY2hhcnQuanMiLCJjb25zdCBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLmpzLXRvZ2dsZS1tb2RhbCc6ICd0b2dnbGVNb2RhbCcsXG4gICAgfSxcbiAgICB0b2dnbGVNb2RhbDogZnVuY3Rpb24oKXtcbiAgICAgICAgdGhpcy4kZWwudG9nZ2xlQ2xhc3MoJ3llLWNoYXJ0X19ob3ctaXQtd29ya3MtLXZpc2libGUnKTtcbiAgICB9LFxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL2NvbnRlbnQvdHlwZXMveWUtY2hhcnQvaG93LWl0LXdvcmtzLXZpZXcuanMiLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG5jb25zdCBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcblxuY29uc3QgVm90aW5nQmFyVmlldyA9IHJlcXVpcmUoJy4vdm90aW5nLWJhci12aWV3Jyk7XG5jb25zdCBTcG90aWZ5VmlldyA9IHJlcXVpcmUoJ2JiZmUvc3BvdGlmeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHZhciBzcG90aWZ5SWQgPSB0aGlzLiRlbC5hdHRyKCdkYXRhLXNwb3RpZnktaWQnKTtcbiAgICAgICAgdmFyIHNwb3RpZnlVcmwgPSB0aGlzLiRlbC5hdHRyKCdkYXRhLXNwb3RpZnktdXJsJyk7XG4gICAgICAgIHZhciB0aXRsZSA9IHRoaXMuJCgnLnllLWNoYXJ0X19pdGVtLXRpdGxlJykuZmlyc3QoKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICB0aGlzLnNwb3RpZnlQcmV2aWV3VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3BvdGlmeUZvb3RlclZpZXcgPSBudWxsO1xuICAgICAgICBpZiggc3BvdGlmeUlkICYmIHNwb3RpZnlJZC5sZW5ndGggPiAxICkge1xuICAgICAgICAgICAgdmFyIHZpZXdBcmdzID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICBzcG90aWZ5SWQ6IHNwb3RpZnlJZCxcbiAgICAgICAgICAgICAgICBzcG90aWZ5VXJsOiBzcG90aWZ5VXJsLFxuICAgICAgICAgICAgICAgICRkYXRhU291cmNlOiBkYXRhLiRzcG90aWZ5RGF0YVNvdXJjZSxcbiAgICAgICAgICAgICAgICAkYXVkaW9FbGVtZW50OiBkYXRhLiRhdWRpb0VsZW1lbnRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc3BvdGlmeVByZXZpZXdWaWV3ID0gbmV3IFNwb3RpZnlWaWV3KF8uZXh0ZW5kKHt9LCB2aWV3QXJncywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB3aW5kb3cuUEdNLkpTVFsnY2hhcnQvc3BvdGlmeS9wcmV2aWV3J10sXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuJCgnLmpzLXNwb3RpZnlQcmV2aWV3LXdyYXBwZXInKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy5zcG90aWZ5Rm9vdGVyVmlldyA9IG5ldyBTcG90aWZ5VmlldyhfLmV4dGVuZCh7fSwgdmlld0FyZ3MsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogd2luZG93LlBHTS5KU1RbJ2NoYXJ0L3Nwb3RpZnkvZm9vdGVyJ10sXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuJCgnLmpzLXNwb3RpZnlGb290ZXItd3JhcHBlcicpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMuc3BvdGlmeVByZXZpZXdWaWV3LCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLnNwb3RpZnlGb290ZXJWaWV3LCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlSW50KHRoaXMuJGVsLmRhdGEoJ3JhbmsnKSwgMTApICUgMTAgPT09IDAgKSB0aGlzLiRlbC53YXlwb2ludCh7XG4gICAgICAgICAgICB0cmlnZ2VyT25jZTogdHJ1ZSxcbiAgICAgICAgICAgIG9mZnNldDogJzEwMCUnLFxuICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ3RyYWNrRXZlbnQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnY2hhcnQnLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdpdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdzY3JvbGwnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMTBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgKG5ldyBWb3RpbmdCYXJWaWV3KHsgZWw6IHRoaXMuJCgnLnllLWNoYXJ0X192b3RlJykgfSkpLnJlbmRlcigpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoIHRoaXMuc3BvdGlmeVByZXZpZXdWaWV3ICE9PSBudWxsICkge1xuICAgICAgICAgICAgdGhpcy4kKCcuanMtc3BvdGlmeVByZXZpZXcnKS5odG1sKHRoaXMuc3BvdGlmeVByZXZpZXdWaWV3LnJlbmRlcigpLiRlbCk7XG4gICAgICAgICAgICB0aGlzLiQoJy5qcy1zcG90aWZ5Rm9vdGVyJykuaHRtbCh0aGlzLnNwb3RpZnlGb290ZXJWaWV3LnJlbmRlcigpLiRlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIGEueWUtY2hhcnRfX2l0ZW0tbmF2LWxpbmsnOiAnc2hvd0NoYXJ0SXRlbVN1cHBsZW1lbnRhcnknXG4gICAgfSxcbiAgICBzaG93Q2hhcnRJdGVtU3VwcGxlbWVudGFyeTogZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHJlZicpKSB7XG4gICAgICAgICAgICBldmVudHMudHJpZ2dlcigndHJhY2tFdmVudCcsIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2NoYXJ0JyxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdwbGF5LXZpZGVvJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kKCcueWUtY2hhcnRfX2l0ZW0tdGl0bGUnKS50ZXh0KCkudHJpbSgpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcGxheSB2ZXZvIHZpZGVvc1xuICAgICAgICAgICAgJC5tYWduaWZpY1BvcHVwLm9wZW4oe1xuICAgICAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHNyYzogZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2lmcmFtZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBzaG93IHRoZSBhcHByb3ByaWF0ZSBpbnRlcmZhY2VcbiAgICAgICAgICAgIHRoaXMuJCgnLnllLWNoYXJ0X19pdGVtLW5hdi1saW5rJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3llLWNoYXJ0X19pdGVtLW5hdi1saW5rLS1hY3RpdmUnKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygneWUtY2hhcnRfX2l0ZW0tbmF2LWxpbmstLWFjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy4kKCcueWUtY2hhcnRfX2l0ZW0tc3VwcGxlbWVudGFyeScpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCd5ZS1jaGFydF9faXRlbS1zdXBwbGVtZW50YXJ5LS1hY3RpdmUnKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZS5jdXJyZW50VGFyZ2V0Lmhhc2gpLmFkZENsYXNzKCd5ZS1jaGFydF9faXRlbS1zdXBwbGVtZW50YXJ5LS1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL3llLWNoYXJ0L3Jvdy12aWV3LmpzIiwiY29uc3QgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG5jb25zdCBQbGF5ZXIgPSByZXF1aXJlKCcuL3ZpZGVvLXBsYXllcicpO1xuXG4vLyBub3QgdXNpbmcgdGhpc1xuLy8gY29uc3QgJHdpbmRvdyA9ICQod2luZG93KTtcbi8vXG4vLyBmdW5jdGlvbiBoYW5kbGVEcmFnKGUsIHNsaWRlcikge1xuLy8gICAgIGNvbnN0IHN0YXJ0WCA9IGUucGFnZVg7XG4vLyAgICAgJHdpbmRvdy5vbignbW91c2Vtb3ZlLmRyYWdneUJ4JywgZSA9PiB7XG4vLyAgICAgICAgIHNsaWRlcltzdGFydFggPCBlLnBhZ2VYID8gJ2dvVG9QcmV2U2xpZGUnIDogJ2dvVG9OZXh0U2xpZGUnXSgpO1xuLy8gICAgICAgICAkd2luZG93Lm9mZignbW91c2Vtb3ZlLmRyYWdneUJ4Jyk7XG4vLyAgICAgfSk7XG4vLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgY29uc3QgJG5hdkxhYmVsID0gdGhpcy4kKCcudGltZS1tYWNoaW5lX19uYXYtbGFiZWwnKTtcbiAgICAgICAgdGhpcy5zbGlkZXIgPSB0aGlzLiQoJy50aW1lLW1hY2hpbmVfX2l0ZW1zJykuYnhTbGlkZXIoe1xuICAgICAgICAgICAgcGFnZXI6IGZhbHNlLFxuICAgICAgICAgICAgaW5maW5pdGVMb29wOiBmYWxzZSxcbiAgICAgICAgICAgIG5leHRTZWxlY3RvcjogJy50aW1lLW1hY2hpbmVfX25hdi1saW5rcycsXG4gICAgICAgICAgICBwcmV2U2VsZWN0b3I6ICcudGltZS1tYWNoaW5lX19uYXYtbGlua3MnLFxuICAgICAgICAgICAgc2xpZGVXaWR0aDogdGhpcy4kKCcudGltZS1tYWNoaW5lX19uYXYnKS53aWR0aCgpLFxuICAgICAgICAgICAgaGlkZUNvbnRyb2xPbkVuZDogdHJ1ZSxcbiAgICAgICAgICAgIG9uU2xpZGVBZnRlcjogJGVsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gcGFyc2VJbnQoJGVsLmF0dHIoJ2RhdGEteWVhcicpLCAxMCk7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVQbGF5ZXIoKTtcbiAgICAgICAgICAgICAgICAkbmF2TGFiZWwudGV4dCh5ZWFyKVxuICAgICAgICAgICAgICAgICAgICAucHJldignLnRpbWUtbWFjaGluZV9fbmF2LWxpbmtzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYngtbmV4dCcpLnRleHQoeWVhciArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAubmV4dCgnLmJ4LXByZXYnKS50ZXh0KHllYXIgLSAxKVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBzZWxmLiRjdXJyZW50U2xpZGUgPSAkZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNsaWRlci5nb1RvU2xpZGUodGhpcy5zbGlkZXIuZ2V0U2xpZGVDb3VudCgpIC0gMik7IC8vIGxhc3QgeWVhclxuICAgIH0sXG4gICAgLy8gYXVnbWVudCB0aGUgc2xpZGVyIHdpdGggZHJhZ2dpbmdcbiAgICBldmVudHM6IHtcbiAgICAgICAgLy8gJ2RyYWdzdGFydCAuYngtdmlld3BvcnQnOiAnZHJhZ0hhbmRsZXInLFxuICAgICAgICAvLyAnbW91c2Vkb3duIC5ieC12aWV3cG9ydCc6ICdtb3VzZWRvd25IYW5kbGVyJyxcbiAgICAgICAgJ2NsaWNrIC50aW1lLW1hY2hpbmVfX2l0ZW0tbWVkaWEnOiAnc3RhcnRWaWRlbydcbiAgICB9LFxuICAgIC8vIGRyYWdIYW5kZXI6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgIC8vIG1vdXNlZG93bkhhbmRsZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vICAgICBoYW5kbGVEcmFnKGUsIHRoaXMuc2xpZGVyKTtcbiAgICAvLyB9LFxuICAgIHN0YXJ0VmlkZW86IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnZpZGVvUGxheWVyID0gbmV3IFBsYXllci5WaWV3KHtcbiAgICAgICAgICAgIG1vZGVsOiBuZXcgUGxheWVyLk1vZGVsKHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogdGhpcy4kY3VycmVudFNsaWRlLmZpbmQoJ1tkYXRhLXBsYXllci1pZF0nKS5kYXRhKCdwbGF5ZXItaWQnKSxcbiAgICAgICAgICAgICAgICB2aWRlb0lkOiB0aGlzLiRjdXJyZW50U2xpZGUuZmluZCgnW2RhdGEtdmlkZW8taWRdJykuZGF0YSgndmlkZW8taWQnKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvUGxheWVyLnNldERpbWVuc2lvbnMoe1xuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLiRjdXJyZW50U2xpZGUuZmluZCgnLnRpbWUtbWFjaGluZV9faXRlbS1tZWRpYScpLmhlaWdodCgpLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuJGN1cnJlbnRTbGlkZS5maW5kKCcudGltZS1tYWNoaW5lX19pdGVtLW1lZGlhJykud2lkdGgoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9QbGF5ZXIucmVuZGVyKCkuJGVsLmluc2VydEFmdGVyKFxuICAgICAgICAgICAgdGhpcy4kY3VycmVudFNsaWRlLmZpbmQoJy50aW1lLW1hY2hpbmVfX2l0ZW0tbWVkaWEnKS5oaWRlKClcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMudmlkZW9QbGF5ZXIsICdlbmRlZCcsIHRoaXMucmVtb3ZlUGxheWVyKTtcbiAgICB9LFxuICAgIHJlbW92ZVBsYXllcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy52aWRlb1BsYXllcikgcmV0dXJuO1xuICAgICAgICB0aGlzLnN0b3BMaXN0ZW5pbmcodGhpcy52aWRlb1BsYXllcik7XG4gICAgICAgIHRoaXMudmlkZW9QbGF5ZXIucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMudmlkZW9QbGF5ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLiQoJy50aW1lLW1hY2hpbmVfX2l0ZW0tbWVkaWEnKS5zaG93KCk7XG4gICAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL2NvbnRlbnQvdHlwZXMveWUtY2hhcnQvdGltZS1tYWNoaW5lLXZpZXcuanMiLCJjb25zdCBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbmNvbnN0IGNyZWF0ZVNjcmlwdFRhZyA9IHJlcXVpcmUoJ3BnbWZlL3Rvb2xzL2NyZWF0ZS1zY3JpcHQnKS5jcmVhdGVTY3JpcHRUYWc7XG5cbi8vY29uc3QgbG9hZGVkU2NyaXB0cyA9IHt9O1xuXG5mdW5jdGlvbiBlbnN1cmVCcmlnaHRjb3ZlQXBpKHBsYXllcklkKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVNjcmlwdFRhZygnLy9wbGF5ZXJzLmJyaWdodGNvdmUubmV0LzExMjU5MTE0MTQvJyArIHBsYXllcklkICsgJ19kZWZhdWx0L2luZGV4Lm1pbi5qcycpO1xufVxuXG5jb25zdCBQbGF5ZXJWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIHRhZ05hbWU6ICd2aWRlbycsXG4gICAgY2xhc3NOYW1lOiAndmlkZW8tanMnLFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbnN1cmVCcmlnaHRjb3ZlQXBpKHRoaXMubW9kZWwuZ2V0KCdwbGF5ZXJJZCcpKTsgLy8gaGVhZHN0YXJ0XG4gICAgfSxcbiAgICBhdHRyaWJ1dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdjb250cm9scyc6ICdjb250cm9scycsXG4gICAgICAgICAgICAnYXV0b3BsYXknOiAnYXV0b3BsYXknLFxuICAgICAgICAgICAgJ2lkJzogJ3ZpZGVvLWpzLScgKyB0aGlzLm1vZGVsLmdldCgndmlkZW9JZCcpLFxuICAgICAgICAgICAgJ2RhdGEtZW1iZWQnOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICAnZGF0YS1hY2NvdW50JzogJzExMjU5MTE0MTQnLFxuICAgICAgICAgICAgJ2RhdGEtcGxheWVyJzogdGhpcy5tb2RlbC5nZXQoJ3BsYXllcklkJyksXG4gICAgICAgICAgICAnZGF0YS12aWRlby1pZCc6IHRoaXMubW9kZWwuZ2V0KCd2aWRlb0lkJyksXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXREaW1lbnNpb25zOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHZhbHVlcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB2YWx1ZXMud2lkdGgpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBlbnN1cmVCcmlnaHRjb3ZlQXBpKHRoaXMubW9kZWwuZ2V0KCdwbGF5ZXJJZCcpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYucGxheWVyKSByZXR1cm47IC8vIHByZXZlbnQgaW5zdGFudGlhdGluZyB0d2ljZVxuICAgICAgICAgICAgc2VsZi5wbGF5ZXIgPSB3aW5kb3cudmlkZW9qcygndmlkZW8tanMtJyArIHNlbGYubW9kZWwuZ2V0KCd2aWRlb0lkJykpO1xuXG4gICAgICAgICAgICBzZWxmLnBsYXllci5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdlbmRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXIoJ2VuZGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyKSB0aGlzLnBsYXllci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucGxheWVyID0gbnVsbDtcbiAgICAgICAgQmFja2JvbmUuVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIE1vZGVsOiBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoKSxcbiAgICBWaWV3OiBQbGF5ZXJWaWV3XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbW9kdWxlcy9jb250ZW50L3R5cGVzL3llLWNoYXJ0L3ZpZGVvLXBsYXllci5qcyIsImNvbnN0IEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgZXZlbnRzOiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoID8ge1xuICAgICAgICAndG91Y2hlbmQgLnllLWNoYXJ0X192b3RlLXRvb2x0aXAtd3JhcHBlcic6ICd0b2dnbGVUb29sdGlwJ1xuICAgIH0gOiB7XG4gICAgICAgICdtb3VzZWVudGVyIC55ZS1jaGFydF9fdm90ZS10b29sdGlwLXdyYXBwZXInOiAndG9nZ2xlVG9vbHRpcCcsXG4gICAgICAgICdtb3VzZWxlYXZlIC55ZS1jaGFydF9fdm90ZS10b29sdGlwLXdyYXBwZXInOiAndG9nZ2xlVG9vbHRpcCdcbiAgICB9LFxuICAgIHRvZ2dsZVRvb2x0aXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiQoJy55ZS1jaGFydF9fdm90ZS1pbmZvLXRvb2x0aXAnKS50b2dnbGVDbGFzcygneWUtY2hhcnRfX3ZvdGUtaW5mby10b29sdGlwLS12aXNpYmxlJyk7XG4gICAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL2NvbnRlbnQvdHlwZXMveWUtY2hhcnQvdm90aW5nLWJhci12aWV3LmpzIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IE1vZGVsID0gcmVxdWlyZSgnLi9tb2RlbCcpO1xuY29uc3QgZ2V0Q2hhcnRUcmFja3MgPSByZXF1aXJlKCcuL2dldC1jaGFydC10cmFja3MnKTtcbmNvbnN0IGdldEFydGlzdE9yQWxidW1UcmFja3MgPSByZXF1aXJlKCcuL2dldC10cmFja3MnKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZGVidWcnKSgnc3BvdGlmeScpO1xuY29uc3QgZXZlbnRzID0gcmVxdWlyZSgncGdtZmUvZXZlbnRzJyk7XG5cbmNvbnN0IHRyYWNrRXZlbnQgPSAoYWN0aW9uLCBsYWJlbCkgPT4ge1xuICAgIGV2ZW50cy50cmlnZ2VyKCd0cmFja0V2ZW50Jywge1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbGFiZWw6IGxhYmVsXG4gICAgfSk7XG59O1xuXG5jb25zdCBtb2RlbHMgPSB7fTtcblxudmFyIGdldERhdGFQcm9taXNlID0gZnVuY3Rpb24oJGRhdGFTb3VyY2UsIHNwb3RpZnlJZCkge1xuICAgIHZhciBzcG90aWZ5VHlwZSA9ICRkYXRhU291cmNlLmF0dHIoJ2RhdGEtc3BvdGlmeS10eXBlJyk7XG4gICAgaWYoIHR5cGVvZiBzcG90aWZ5VHlwZSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInVuZGVmaW5lZCB0eXBlIGZyb206IFwiICsgJGRhdGFTb3VyY2UpO1xuICAgIH1cbiAgICBzd2l0Y2goIHNwb3RpZnlUeXBlICkge1xuICAgICAgICBjYXNlIFwidHJhY2tcIiA6XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q2hhcnRUcmFja3MoJGRhdGFTb3VyY2UsIHNwb3RpZnlJZCk7XG4gICAgICAgIGNhc2UgXCJhcnRpc3RcIjpcbiAgICAgICAgY2FzZSBcImFsYnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXJ0aXN0T3JBbGJ1bVRyYWNrcygkZGF0YVNvdXJjZSwgc3BvdGlmeUlkKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInVua25vd24gdHlwZTogXCIgKyBzcG90aWZ5VHlwZSk7XG4gICAgfVxufTtcblxudmFyIGdldE1vZGVsID0gZnVuY3Rpb24oJGRhdGFTb3VyY2UsIHRpdGxlLCBzcG90aWZ5SWQsIHNwb3RpZnlVcmwpIHtcbiAgICB2YXIgc3BvdGlmeVR5cGUgPSAkZGF0YVNvdXJjZS5hdHRyKCdkYXRhLXNwb3RpZnktdHlwZScpO1xuICAgIGlmKCAhIG1vZGVscy5oYXNPd25Qcm9wZXJ0eShzcG90aWZ5SWQpICkge1xuICAgICAgICBtb2RlbHNbc3BvdGlmeUlkXSA9IG5ldyBNb2RlbCh0aXRsZSwgc3BvdGlmeVR5cGUsIHNwb3RpZnlVcmwsIGdldERhdGFQcm9taXNlKCRkYXRhU291cmNlLCBzcG90aWZ5SWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWxzW3Nwb3RpZnlJZF07XG59O1xuXG52YXIgcGxheWluZ01vZGVsID0gbnVsbDtcbnZhciBjdXJyZW50UmVzb2x2ZSA9IG51bGw7XG52YXIgY3VycmVudFJlamVjdCA9IG51bGw7XG5cbnZhciBvbmVUaW1lQXVkaW9FbmRlZCA9IF8ub25jZSgoJGF1ZGlvRWxlbWVudCkgPT4ge1xuICAgICRhdWRpb0VsZW1lbnQub24oICdlbmRlZC5wcmV2aWV3cycsICgpID0+IHtcbiAgICAgICAgaWYoIGN1cnJlbnRSZXNvbHZlICE9PSBudWxsICkge1xuICAgICAgICAgICAgY3VycmVudFJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbnZhciBnZXRQcmV2aWV3UmVzb2x2ZXIgPSBmdW5jdGlvbigkYXVkaW9FbGVtZW50LCBhdWRpb0VsZW1lbnQsIHRyYWNrSW5mbykge1xuICAgIG9uZVRpbWVBdWRpb0VuZGVkKCRhdWRpb0VsZW1lbnQpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgY3VycmVudFJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgY3VycmVudFJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5wYXVzZSgpO1xuICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDI0NTE2NC9hdWRpby1jdXJyZW50dGltZS1pbnZhbGlkc3RhdGVlcnJvci1pZTExLWpzLWh0bWw1XG4gICAgICAgICAgICBpZiAoIWlzTmFOKGF1ZGlvRWxlbWVudC5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICBhdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnNyYyA9IHRyYWNrSW5mby5wcmV2aWV3VXJsO1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnBsYXkoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5cbnZhciBkZWZlck1vZGVsUGxheWluZyA9IGZ1bmN0aW9uKG1vZGVsLCBpc1BsYXlpbmcpIHtcbiAgICBfLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICBtb2RlbC5zZXQoJ3BsYXlpbmcnLCBpc1BsYXlpbmcpO1xuICAgIH0pO1xufTtcblxudmFyIHBsYXlQcmV2aWV3cyA9IGZ1bmN0aW9uKCRhdWRpb0VsZW1lbnQsIGF1ZGlvRWxlbWVudCwgbW9kZWwpIHtcbiAgICB2YXIgcHJldmlld3MgPSBtb2RlbC5nZXQoJ3ByZXZpZXdzJyk7XG4gICAgaWYoICEgbW9kZWwuaGFzUHJldmlld3MoKSApIHtcbiAgICAgICAgZGVidWcoJ25vIHByZXZpZXdzIGZvcicsIG1vZGVsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWZlck1vZGVsUGxheWluZyhtb2RlbCwgdHJ1ZSk7XG4gICAgdmFyIGN1cnJlbnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIGZvciggdmFyIGkgPSAwOyBpIDwgcHJldmlld3MubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIGN1cnJlbnRQcm9taXNlID0gY3VycmVudFByb21pc2UudGhlbihcbiAgICAgICAgICAgIGdldFByZXZpZXdSZXNvbHZlcigkYXVkaW9FbGVtZW50LCBhdWRpb0VsZW1lbnQsIHByZXZpZXdzW2ldKSk7XG4gICAgfVxuICAgIGN1cnJlbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGRlZmVyTW9kZWxQbGF5aW5nKG1vZGVsLCBmYWxzZSk7XG4gICAgICAgIGN1cnJlbnRSZXNvbHZlID0gbnVsbDtcbiAgICAgICAgY3VycmVudFJlamVjdCA9IG51bGw7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwcm9taXNlIGNhdWdodCcsIGFyZ3VtZW50cyk7XG4gICAgfSk7XG59O1xuXG52YXIgdG9nZ2xlUHJldmlldyA9IGZ1bmN0aW9uKCRhdWRpb0VsZW1lbnQsIG1vZGVsKSB7XG4gICAgdmFyIGF1ZGlvRWxlbWVudCA9ICRhdWRpb0VsZW1lbnRbMF07XG4gICAgaWYoIHR5cGVvZiBhdWRpb0VsZW1lbnQgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICBkZWJ1ZygnYXVkaW9FbGVtZW50IHVuZGVmaW5lZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmKCBtb2RlbCA9PT0gcGxheWluZ01vZGVsICkge1xuICAgICAgICAvLyB3ZSBhcmUgcGxheWluZywgc28gcGF1c2UvcGxheSB0aGUgYXVkaW9FbGVtZW50XG4gICAgICAgIC8vIGRvIG5vdCByZWplY3QgdGhlIGN1cnJlbnQgcHJvbWlzZXMgdG8gcHJlc2VydmUgcHJvZ3Jlc3NcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmKCBtb2RlbC5nZXQoJ3BsYXlpbmcnKSApIHtcbiAgICAgICAgICAgICAgICBkZWZlck1vZGVsUGxheWluZyhtb2RlbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmZXJNb2RlbFBsYXlpbmcobW9kZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgZGVidWcoJ2lzc3VlIHBsYXlpbmcvcGF1c2luZycsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmKCBjdXJyZW50UmVqZWN0ICE9PSBudWxsICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gc29tZW9uZSBlbHNlIGlzIHBsYXlpbmcgYW5kIHdlIHdhbnQgdG9cbiAgICAgICAgICAgIHBsYXlpbmdNb2RlbC5zZXQoJ3BsYXlpbmcnLCBmYWxzZSk7XG4gICAgICAgICAgICBjdXJyZW50UmVqZWN0KCk7XG4gICAgICAgICAgICBjdXJyZW50UmVqZWN0ID0gbnVsbDtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBkZWJ1ZygnaXNzdWUgcmVqZWN0aW5nJywgZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGF5aW5nTW9kZWwgPSBtb2RlbDtcblxuICAgIHRyYWNrRXZlbnQoJ3BsYXktcHJldmlldycsIG1vZGVsLmdldCgndGl0bGUnKSk7XG4gICAgcGxheVByZXZpZXdzKCRhdWRpb0VsZW1lbnQsIGF1ZGlvRWxlbWVudCwgbW9kZWwpO1xufTtcblxudmFyIG9wZW5TcG90aWZ5VXJsID0gZnVuY3Rpb24oJGF1ZGlvRWxlbWVudCwgbW9kZWwpIHtcbiAgICB0cmFja0V2ZW50KCdwbGF5LWZ1bGx0cmFjaycsIG1vZGVsLmdldCgndGl0bGUnKSk7XG4gICAgdmFyIGF1ZGlvRWxlbWVudCA9ICRhdWRpb0VsZW1lbnRbMF07XG4gICAgaWYoIHR5cGVvZiBhdWRpb0VsZW1lbnQgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICBkZWJ1ZygnYXVkaW9FbGVtZW50IHVuZGVmaW5lZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzcG90aWZ5VXJsID0gbW9kZWwuZ2V0KCdzcG90aWZ5VXJsJyk7XG4gICAgaWYoIHBsYXlpbmdNb2RlbCAhPT0gbnVsbCApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlZmVyTW9kZWxQbGF5aW5nKHBsYXlpbmdNb2RlbCwgZmFsc2UpO1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgZGVidWcoJ2lzc3VlIHBsYXlpbmcvcGF1c2luZycsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpbmRvdy5vcGVuKHNwb3RpZnlVcmwsICdfYmxhbmsnKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGdldE1vZGVsOiBnZXRNb2RlbCxcbiAgICB0b2dnbGVQcmV2aWV3OiB0b2dnbGVQcmV2aWV3LFxuICAgIG9wZW5TcG90aWZ5VXJsOiBvcGVuU3BvdGlmeVVybFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21vZHVsZXMvc3BvdGlmeS9jb250cm9sbGVyLmpzIiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuY29uc3QgY291bnRyeUNvZGUgPSByZXF1aXJlKCdwZ21mZS90b29scy9nZW8nKTtcblxudmFyIHRyYWNrc0RhdGFCeVVybCA9IHt9O1xudmFyIHByb21pc2VzQnlVcmwgPSB7fTtcblxuLy8gL2ZlLWFqYXgvc3BvdGlmeS9wcmV2aWV3L2NoYXJ0LXRyYWNrcy8zNzkvMjAxNi0wMS0wOS9VU1xudmFyIGdldENoYXJ0VHJhY2tzID0gZnVuY3Rpb24oJGRhdGFTb3VyY2UsIHNwb3RpZnlJZCkge1xuICAgIHZhciBjaGFydENvZGUgPSAkZGF0YVNvdXJjZS5hdHRyKCdkYXRhLWNoYXJ0LWNvZGUnKTtcbiAgICB2YXIgZGF0ZSA9ICRkYXRhU291cmNlLmF0dHIoJ2RhdGEtY2hhcnQtZGF0ZScpO1xuICAgIGlmKCB0eXBlb2YgY2hhcnRDb2RlID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdjaGFydENvZGUgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGlmKCB0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZGF0ZSB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gW1xuICAgICAgICAnL2ZlLWFqYXgvc3BvdGlmeS9wcmV2aWV3L2NoYXJ0LXRyYWNrcycsXG4gICAgICAgIGNoYXJ0Q29kZSxcbiAgICAgICAgZGF0ZSxcbiAgICAgICAgY291bnRyeUNvZGVcbiAgICBdLmpvaW4oJy8nKTtcblxuICAgIGlmKCB0cmFja3NEYXRhQnlVcmxbdXJsXSApIHtcbiAgICAgICAgLy8gd2UgaGF2ZSB0aGUgZGF0YVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFt0cmFja3NEYXRhQnlVcmxbdXJsXVtzcG90aWZ5SWRdXSk7XG4gICAgfVxuXG4gICAgaWYoIHR5cGVvZiBwcm9taXNlc0J5VXJsW3VybF0gPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAvLyBzZXQgdXAgdGhlIGZldGNoZXJcbiAgICAgICAgdmFyIGZldGNoaW5nUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiggZGF0YSApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tzRGF0YUJ5VXJsW3VybF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNSb3cgPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tzRGF0YUJ5VXJsW3VybF1bdGhpc1Jvdy5vcmlnaW5hbElkXSA9IHRoaXNSb3cucHJldmlld3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb21pc2VzQnlVcmxbdXJsXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHByb21pc2VzQnlVcmxbdXJsXSA9IGZldGNoaW5nUHJvbWlzZTtcbiAgICB9XG5cbiAgICAvLyBzb21lb25lIGlzIChvciB3ZSBhcmUpIGFscmVhZHkgaW4gZmxpZ2h0IGZvciB1c1xuICAgIHJldHVybiBwcm9taXNlc0J5VXJsW3VybF0udGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFt0cmFja3NEYXRhQnlVcmxbdXJsXVtzcG90aWZ5SWRdXTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0Q2hhcnRUcmFja3M7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL3Nwb3RpZnkvZ2V0LWNoYXJ0LXRyYWNrcy5qcyIsImNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbmNvbnN0IGNvdW50cnlDb2RlID0gcmVxdWlyZSgncGdtZmUvdG9vbHMvZ2VvJyk7XG5cbi8vIC9mZS1hamF4L3Nwb3RpZnkvcHJldmlldy9hcnRpc3QtdHJhY2tzLzVwS0NDS0UyYWpKSFo5S0FpYUsxMUgvVVNcbi8vIC9mZS1hamF4L3Nwb3RpZnkvcHJldmlldy9hbGJ1bS10cmFja3MvMzRFWWs4dnZKSENVbE5ycEd4ZXBlYS9VU1xudmFyIGdldFRyYWNrcyA9IGZ1bmN0aW9uKCRkYXRhU291cmNlLCBzcG90aWZ5SWQpIHtcbiAgICB2YXIgc3BvdGlmeVR5cGUgPSAkZGF0YVNvdXJjZS5hdHRyKCdkYXRhLXNwb3RpZnktdHlwZScpO1xuICAgIHZhciB1cmwgPSBudWxsO1xuICAgIGlmKCBzcG90aWZ5VHlwZSA9PT0gJ2FydGlzdCcgKSB7XG4gICAgICAgIHVybCA9ICcvZmUtYWpheC9zcG90aWZ5L3ByZXZpZXcvYXJ0aXN0LXRyYWNrcy8nICsgc3BvdGlmeUlkICsgJy8nICsgY291bnRyeUNvZGU7XG4gICAgfVxuICAgIGVsc2UgaWYoIHNwb3RpZnlUeXBlID09PSAnYWxidW0nICkge1xuICAgICAgICB1cmwgPSAnL2ZlLWFqYXgvc3BvdGlmeS9wcmV2aWV3L2FsYnVtLXRyYWNrcy8nICsgc3BvdGlmeUlkICsgJy8nICsgY291bnRyeUNvZGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ3Nwb3RpZnlUeXBlIHVua25vd246JyArIHNwb3RpZnlUeXBlKTtcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdERhdGE7XG4gICAgdmFyIGRhdGFQcm9taXNlID0gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xuICAgICAgICByZXF1ZXN0RGF0YSA9IHJlc29sdmU7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiggZGF0YSApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhLnByZXZpZXdzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gcHJldmlld3MsIGRhdGFQcm9taXNlLCByZXF1ZXN0RGF0YVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xuICAgICAgICBbXSwgLy8gZ2l2ZSBhIGRlZmF1bHQgcHJldmlld3Mgb2JqZWN0IGZvciBkaXNwbGF5aW5nIHByZXZpZXcgbGlua3NcbiAgICAgICAgZGF0YVByb21pc2UsIC8vIGxldCB0aGUgbW9kZWwgY2hhaW4gdG8gc2V0IHRoZSBhY3R1YWwgcHJldmlld3NcbiAgICAgICAgcmVxdWVzdERhdGEgLy8gbGV0IHRoZSBtb2RlbCB0ZWxsIHVzIHRvIGdvIGdldCBkYXRhXG4gICAgXSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFRyYWNrcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21vZHVsZXMvc3BvdGlmeS9nZXQtdHJhY2tzLmpzIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbmNvbnN0IGNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXInKTtcblxuY29uc3QgY3JlYXRlU3BvdGlmeVZpZXcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cbiAgICB2YXIgU3BvdGlmeVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF8uYmluZEFsbCh0aGlzLCAncmVuZGVyJywgJ2RvU3BvdGlmeVByZXZpZXcnLCAnZG9TcG90aWZ5VXJsJyk7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlID0gb3B0aW9ucy50ZW1wbGF0ZTtcbiAgICAgICAgICAgIHRoaXMubW9kZWwgPSBjb250cm9sbGVyLmdldE1vZGVsKG9wdGlvbnMuJGRhdGFTb3VyY2UsIG9wdGlvbnMudGl0bGUsIG9wdGlvbnMuc3BvdGlmeUlkLCBvcHRpb25zLnNwb3RpZnlVcmwpO1xuICAgICAgICAgICAgdGhpcy4kYXVkaW9FbGVtZW50ID0gb3B0aW9ucy4kYXVkaW9FbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlJywgdGhpcy50cmlnZ2VyQ2hhbmdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJpZ2dlckNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoIHRoaXMubW9kZWwuZ2V0KCdwcmV2aWV3cycpICkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAnY2xpY2sgLmpzLXNwb3RpZnktcHJldmlldyc6ICdkb1Nwb3RpZnlQcmV2aWV3JyxcbiAgICAgICAgICAgICdjbGljayAuanMtc3BvdGlmeS1zcG90aWZ5VXJsJzogJ2RvU3BvdGlmeVVybCdcbiAgICAgICAgfSxcbiAgICAgICAgZG9TcG90aWZ5UHJldmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLmdldFByZXZpZXdzUHJvbWlzZSgpLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnRvZ2dsZVByZXZpZXcodGhpcy4kYXVkaW9FbGVtZW50LCB0aGlzLm1vZGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkb1Nwb3RpZnlVcmw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5vcGVuU3BvdGlmeVVybCh0aGlzLiRhdWRpb0VsZW1lbnQsIHRoaXMubW9kZWwpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IFNwb3RpZnlWaWV3KG9wdGlvbnMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVTcG90aWZ5VmlldztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21vZHVsZXMvc3BvdGlmeS9pbmRleC5qcyIsImNvbnN0IEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxuY29uc3QgTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHRpdGxlLCBzcG90aWZ5VHlwZSwgc3BvdGlmeVVybCwgZGF0YVByb21pc2UpIHtcbiAgICAgICAgdmFyIGZvb3RlclR5cGUgPSBudWxsO1xuICAgICAgICBpZiggc3BvdGlmeVR5cGUgPT09ICdhcnRpc3QnICkge1xuICAgICAgICAgICAgZm9vdGVyVHlwZSA9ICdhcnRpc3QnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoIHNwb3RpZnlUeXBlID09PSAnYWxidW0nICkge1xuICAgICAgICAgICAgZm9vdGVyVHlwZSA9ICdmdWxsIGFsYnVtJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvb3RlclR5cGUgPSAnZnVsbCB0cmFjayc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldCh7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBzcG90aWZ5VHlwZTogc3BvdGlmeVR5cGUsXG4gICAgICAgICAgICBzcG90aWZ5VXJsOiBzcG90aWZ5VXJsLFxuICAgICAgICAgICAgZm9vdGVyVHlwZTogZm9vdGVyVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgZGF0YVByb21pc2UudGhlbiggKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdmFyIHByZXZpZXdzID0gcmVzdWx0WzBdO1xuICAgICAgICAgICAgdGhpcy5mZXRjaFByb21pc2UgPSByZXN1bHRbMV07XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REYXRhID0gcmVzdWx0WzJdO1xuICAgICAgICAgICAgdGhpcy5zZXQoe1xuICAgICAgICAgICAgICAgIHByZXZpZXdzOiBwcmV2aWV3cyxcbiAgICAgICAgICAgICAgICBwbGF5aW5nOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgaGFzUHJldmlld3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcHJldmlld3MgPSB0aGlzLmdldCgncHJldmlld3MnKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwcmV2aWV3cyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJldmlld3MubGVuZ3RoID4gMDtcbiAgICB9LFxuICAgIGdldFByZXZpZXdzUHJvbWlzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCB0aGlzLmhhc1ByZXZpZXdzKCkgKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hQcm9taXNlLnRoZW4ocHJldmlld3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3czogcHJldmlld3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5aW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTt9KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdERhdGEoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kZWw7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL3Nwb3RpZnkvbW9kZWwuanMiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpe1xuICBpZighKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSl7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2FuLWluc3RhbmNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwodmFsdWUsIHN0YXJ0ID0gMCwgZW5kID0gdGhpcy5sZW5ndGgpXG4ndXNlIHN0cmljdCc7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIHRvSW5kZXggID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKVxuICAsIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbGwodmFsdWUgLyosIHN0YXJ0ID0gMCwgZW5kID0gQGxlbmd0aCAqLyl7XG4gIHZhciBPICAgICAgPSB0b09iamVjdCh0aGlzKVxuICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgLCBhTGVuICAgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSB0b0luZGV4KGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCBsZW5ndGgpXG4gICAgLCBlbmQgICAgPSBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZFxuICAgICwgZW5kUG9zID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0luZGV4KGVuZCwgbGVuZ3RoKTtcbiAgd2hpbGUoZW5kUG9zID4gaW5kZXgpT1tpbmRleCsrXSA9IHZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fYXJyYXktZmlsbC5qc1xuLy8gbW9kdWxlIGlkID0gMTE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBNQVRDSCA9IHJlcXVpcmUoJy4vX3drcycpKCdtYXRjaCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVkpe1xuICB2YXIgcmUgPSAvLi87XG4gIHRyeSB7XG4gICAgJy8uLydbS0VZXShyZSk7XG4gIH0gY2F0Y2goZSl7XG4gICAgdHJ5IHtcbiAgICAgIHJlW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICEnLy4vJ1tLRVldKHJlKTtcbiAgICB9IGNhdGNoKGYpeyAvKiBlbXB0eSAqLyB9XG4gIH0gcmV0dXJuIHRydWU7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2ZhaWxzLWlzLXJlZ2V4cC5qc1xuLy8gbW9kdWxlIGlkID0gMTE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICwgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvTGVuZ3RoICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJylcbiAgLCBCUkVBSyAgICAgICA9IHt9XG4gICwgUkVUVVJOICAgICAgPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKXtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKVxuICAgICwgZiAgICAgID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICByZXN1bHQgPSBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7ICl7XG4gICAgcmVzdWx0ID0gY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyAgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2Zvci1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMTIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcbi8vIG1vZHVsZSBpZCA9IDEyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faW52b2tlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMTIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBJVEVSQVRPUiAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1xuLy8gbW9kdWxlIGlkID0gMTI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDcuMi44IElzUmVnRXhwKGFyZ3VtZW50KVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBjb2YgICAgICA9IHJlcXVpcmUoJy4vX2NvZicpXG4gICwgTUFUQ0ggICAgPSByZXF1aXJlKCcuL193a3MnKSgnbWF0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgaXNSZWdFeHA7XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgKChpc1JlZ0V4cCA9IGl0W01BVENIXSkgIT09IHVuZGVmaW5lZCA/ICEhaXNSZWdFeHAgOiBjb2YoaXQpID09ICdSZWdFeHAnKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faXMtcmVnZXhwLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2goZSl7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1jYWxsLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDEyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgSVRFUkFUT1IgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG4gIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHJldHVybiB7ZG9uZTogc2FmZSA9IHRydWV9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAxMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG4gIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLXN0ZXAuanNcbi8vIG1vZHVsZSBpZCA9IDEyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgT2JzZXJ2ZXIgID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcbiAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIFByb21pc2UgICA9IGdsb2JhbC5Qcm9taXNlXG4gICwgaXNOb2RlICAgID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSlwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlKGhlYWQpe1xuICAgICAgZm4gICA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIGlmKGhlYWQpbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYoaXNOb2RlKXtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG4gIH0gZWxzZSBpZihPYnNlcnZlcil7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWVcbiAgICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZihQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSl7XG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oZm4pe1xuICAgIHZhciB0YXNrID0ge2ZuOiBmbiwgbmV4dDogdW5kZWZpbmVkfTtcbiAgICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYoIWhlYWQpe1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19taWNyb3Rhc2suanNcbi8vIG1vZHVsZSBpZCA9IDEzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZFBzICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKVxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG4gICAgLCBsdCAgICAgPSAnPCdcbiAgICAsIGd0ICAgICA9ICc+J1xuICAgICwgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcbiAgdmFyIHJlc3VsdDtcbiAgaWYoTyAhPT0gbnVsbCl7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGRQICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcyl7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyAgID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGkgPSAwXG4gICAgLCBQO1xuICB3aGlsZShsZW5ndGggPiBpKWRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZHBzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9PYmplY3QgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZihoYXMoTywgSUVfUFJPVE8pKXJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9JT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSlcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGtleTtcbiAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDEzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG4gIGZvcih2YXIga2V5IGluIHNyYylyZWRlZmluZSh0YXJnZXQsIGtleSwgc3JjW2tleV0sIHNhZmUpO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19yZWRlZmluZS1hbGwuanNcbi8vIG1vZHVsZSBpZCA9IDEzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGRQICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBTUEVDSUVTICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZKXtcbiAgdmFyIEMgPSBnbG9iYWxbS0VZXTtcbiAgaWYoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSlkUC5mKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanNcbi8vIG1vZHVsZSBpZCA9IDEzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIFNQRUNJRVMgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpe1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLCBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3NwZWNpZXMtY29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDEzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19zdHJpbmctYXQuanNcbi8vIG1vZHVsZSBpZCA9IDEzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfVxudmFyIGlzUmVnRXhwID0gcmVxdWlyZSgnLi9faXMtcmVnZXhwJylcbiAgLCBkZWZpbmVkICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0aGF0LCBzZWFyY2hTdHJpbmcsIE5BTUUpe1xuICBpZihpc1JlZ0V4cChzZWFyY2hTdHJpbmcpKXRocm93IFR5cGVFcnJvcignU3RyaW5nIycgKyBOQU1FICsgXCIgZG9lc24ndCBhY2NlcHQgcmVnZXghXCIpO1xuICByZXR1cm4gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL19zdHJpbmctY29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMTQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwodmFsdWUsIHN0YXJ0ID0gMCwgZW5kID0gdGhpcy5sZW5ndGgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCwgJ0FycmF5Jywge2ZpbGw6IHJlcXVpcmUoJy4vX2FycmF5LWZpbGwnKX0pO1xuXG5yZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKSgnZmlsbCcpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbGwuanNcbi8vIG1vZHVsZSBpZCA9IDE0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsIHRlc3QgICAgPSB7fTtcbnRlc3RbcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyldID0gJ3onO1xuaWYodGVzdCArICcnICE9ICdbb2JqZWN0IHpdJyl7XG4gIHJlcXVpcmUoJy4vX3JlZGVmaW5lJykoT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YodGhpcykgKyAnXSc7XG4gIH0sIHRydWUpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDE0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGNsYXNzb2YgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsICRleHBvcnQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgaXNPYmplY3QgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gICAgICAgICAgPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBhbkluc3RhbmNlICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpXG4gICwgZm9yT2YgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZm9yLW9mJylcbiAgLCBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJylcbiAgLCB0YXNrICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgbWljcm90YXNrICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKVxuICAsIFBST01JU0UgICAgICAgICAgICA9ICdQcm9taXNlJ1xuICAsIFR5cGVFcnJvciAgICAgICAgICA9IGdsb2JhbC5UeXBlRXJyb3JcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsICRQcm9taXNlICAgICAgICAgICA9IGdsb2JhbFtQUk9NSVNFXVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgaXNOb2RlICAgICAgICAgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcydcbiAgLCBlbXB0eSAgICAgICAgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgSW50ZXJuYWwsIEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uKCl7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgICAgID0gJFByb21pc2UucmVzb2x2ZSgxKVxuICAgICAgLCBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24oZXhlYyl7IGV4ZWMoZW1wdHksIGVtcHR5KTsgfTtcbiAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gICAgcmV0dXJuIChpc05vZGUgfHwgdHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCA9PSAnZnVuY3Rpb24nKSAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2U7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpe1xuICAvLyB3aXRoIGxpYnJhcnkgd3JhcHBlciBzcGVjaWFsIGNhc2VcbiAgcmV0dXJuIGEgPT09IGIgfHwgYSA9PT0gJFByb21pc2UgJiYgYiA9PT0gV3JhcHBlcjtcbn07XG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgcmV0dXJuIHNhbWVDb25zdHJ1Y3RvcigkUHJvbWlzZSwgQylcbiAgICA/IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgIDogbmV3IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG52YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCl7XG4gICAgaWYocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCAgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgID0gYUZ1bmN0aW9uKHJlamVjdCk7XG59O1xudmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICBleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24ocHJvbWlzZSwgaXNSZWplY3Qpe1xuICBpZihwcm9taXNlLl9uKXJldHVybjtcbiAgcHJvbWlzZS5fbiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG4gIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgb2sgICAgPSBwcm9taXNlLl9zID09IDFcbiAgICAgICwgaSAgICAgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsXG4gICAgICAgICwgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmVcbiAgICAgICAgLCByZWplY3QgID0gcmVhY3Rpb24ucmVqZWN0XG4gICAgICAgICwgZG9tYWluICA9IHJlYWN0aW9uLmRvbWFpblxuICAgICAgICAsIHJlc3VsdCwgdGhlbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmKGhhbmRsZXIpe1xuICAgICAgICAgIGlmKCFvayl7XG4gICAgICAgICAgICBpZihwcm9taXNlLl9oID09IDIpb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoaGFuZGxlciA9PT0gdHJ1ZSlyZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmKGRvbWFpbilkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSl7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZih0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKXtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoKGUpe1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBwcm9taXNlLl9jID0gW107XG4gICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuICAgIGlmKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKW9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG4gICAgICAsIGFicnVwdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZihpc1VuaGFuZGxlZChwcm9taXNlKSl7XG4gICAgICBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKGlzTm9kZSl7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKXtcbiAgICAgICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSBpZigoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKXtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcbiAgICB9IHByb21pc2UuX2EgPSB1bmRlZmluZWQ7XG4gICAgaWYoYWJydXB0KXRocm93IGFicnVwdC5lcnJvcjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIGlmKHByb21pc2UuX2ggPT0gMSlyZXR1cm4gZmFsc2U7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2EgfHwgcHJvbWlzZS5fY1xuICAgICwgaSAgICAgPSAwXG4gICAgLCByZWFjdGlvbjtcbiAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSl7XG4gICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgIGlmKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKXJldHVybiBmYWxzZTtcbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZihpc05vZGUpe1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKXtcbiAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdn0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgaWYocHJvbWlzZS5fZClyZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYoIXByb21pc2UuX2EpcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmKHByb21pc2UgPT09IHZhbHVlKXRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSl7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7X3c6IHByb21pc2UsIF9kOiBmYWxzZX07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaChlKXtcbiAgICAkcmVqZWN0LmNhbGwoe193OiBwcm9taXNlLCBfZDogZmFsc2V9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYoIVVTRV9OQVRJVkUpe1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoKGVycil7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgdGhpcy5fYyA9IFtdOyAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgIHRoaXMuX2QgPSBmYWxzZTsgICAgICAgICAgLy8gPC0gZG9uZVxuICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcbiAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG4gICAgdGhpcy5fbiA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgfTtcbiAgSW50ZXJuYWwucHJvdG90eXBlID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJykoJFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcbiAgICAgIHZhciByZWFjdGlvbiAgICA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgICAgID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsICAgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9hKXRoaXMuX2EucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9zKW5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCl7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbigpe1xuICAgIHZhciBwcm9taXNlICA9IG5ldyBJbnRlcm5hbDtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7UHJvbWlzZTogJFByb21pc2V9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKVxuICAgICAgLCAkJHJlamVjdCAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICAvLyBpbnN0YW5jZW9mIGluc3RlYWQgb2YgaW50ZXJuYWwgc2xvdCBjaGVjayBiZWNhdXNlIHdlIHNob3VsZCBmaXggaXQgd2l0aG91dCByZXBsYWNlbWVudCBuYXRpdmUgUHJvbWlzZSBjb3JlXG4gICAgaWYoeCBpbnN0YW5jZW9mICRQcm9taXNlICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlyZXR1cm4geDtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVzb2x2ZSAgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgJCRyZXNvbHZlKHgpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXtcbiAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpe1xuICAgIHZhciBDICAgICAgICAgID0gdGhpc1xuICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgICwgcmVzb2x2ZSAgICA9IGNhcGFiaWxpdHkucmVzb2x2ZVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIHZhciB2YWx1ZXMgICAgPSBbXVxuICAgICAgICAsIGluZGV4ICAgICA9IDBcbiAgICAgICAgLCByZW1haW5pbmcgPSAxO1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgdmFyICRpbmRleCAgICAgICAgPSBpbmRleCsrXG4gICAgICAgICAgLCBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgaWYoYWxyZWFkeUNhbGxlZClyZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCAgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL2VzNi5wcm9taXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRhdCAgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDE0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgJGl0ZXJhdG9ycyAgICA9IHJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJylcbiAgLCByZWRlZmluZSAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIGdsb2JhbCAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBJdGVyYXRvcnMgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCB3a3MgICAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJylcbiAgLCBJVEVSQVRPUiAgICAgID0gd2tzKCdpdGVyYXRvcicpXG4gICwgVE9fU1RSSU5HX1RBRyA9IHdrcygndG9TdHJpbmdUYWcnKVxuICAsIEFycmF5VmFsdWVzICAgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG4gICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG4gICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZVxuICAgICwga2V5O1xuICBpZihwcm90byl7XG4gICAgaWYoIXByb3RvW0lURVJBVE9SXSloaWRlKHByb3RvLCBJVEVSQVRPUiwgQXJyYXlWYWx1ZXMpO1xuICAgIGlmKCFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgICBJdGVyYXRvcnNbTkFNRV0gPSBBcnJheVZhbHVlcztcbiAgICBmb3Ioa2V5IGluICRpdGVyYXRvcnMpaWYoIXByb3RvW2tleV0pcmVkZWZpbmUocHJvdG8sIGtleSwgJGl0ZXJhdG9yc1trZXldLCB0cnVlKTtcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMTQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbigpIHtcbiAgdmFyIGJhc2U2NG1hcFxuICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycsXG5cbiAgY3J5cHQgPSB7XG4gICAgLy8gQml0LXdpc2Ugcm90YXRpb24gbGVmdFxuICAgIHJvdGw6IGZ1bmN0aW9uKG4sIGIpIHtcbiAgICAgIHJldHVybiAobiA8PCBiKSB8IChuID4+PiAoMzIgLSBiKSk7XG4gICAgfSxcblxuICAgIC8vIEJpdC13aXNlIHJvdGF0aW9uIHJpZ2h0XG4gICAgcm90cjogZnVuY3Rpb24obiwgYikge1xuICAgICAgcmV0dXJuIChuIDw8ICgzMiAtIGIpKSB8IChuID4+PiBiKTtcbiAgICB9LFxuXG4gICAgLy8gU3dhcCBiaWctZW5kaWFuIHRvIGxpdHRsZS1lbmRpYW4gYW5kIHZpY2UgdmVyc2FcbiAgICBlbmRpYW46IGZ1bmN0aW9uKG4pIHtcbiAgICAgIC8vIElmIG51bWJlciBnaXZlbiwgc3dhcCBlbmRpYW5cbiAgICAgIGlmIChuLmNvbnN0cnVjdG9yID09IE51bWJlcikge1xuICAgICAgICByZXR1cm4gY3J5cHQucm90bChuLCA4KSAmIDB4MDBGRjAwRkYgfCBjcnlwdC5yb3RsKG4sIDI0KSAmIDB4RkYwMEZGMDA7XG4gICAgICB9XG5cbiAgICAgIC8vIEVsc2UsIGFzc3VtZSBhcnJheSBhbmQgc3dhcCBhbGwgaXRlbXNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKylcbiAgICAgICAgbltpXSA9IGNyeXB0LmVuZGlhbihuW2ldKTtcbiAgICAgIHJldHVybiBuO1xuICAgIH0sXG5cbiAgICAvLyBHZW5lcmF0ZSBhbiBhcnJheSBvZiBhbnkgbGVuZ3RoIG9mIHJhbmRvbSBieXRlc1xuICAgIHJhbmRvbUJ5dGVzOiBmdW5jdGlvbihuKSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdOyBuID4gMDsgbi0tKVxuICAgICAgICBieXRlcy5wdXNoKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NikpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBiaWctZW5kaWFuIDMyLWJpdCB3b3Jkc1xuICAgIGJ5dGVzVG9Xb3JkczogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIHdvcmRzID0gW10sIGkgPSAwLCBiID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrLCBiICs9IDgpXG4gICAgICAgIHdvcmRzW2IgPj4+IDVdIHw9IGJ5dGVzW2ldIDw8ICgyNCAtIGIgJSAzMik7XG4gICAgICByZXR1cm4gd29yZHM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYmlnLWVuZGlhbiAzMi1iaXQgd29yZHMgdG8gYSBieXRlIGFycmF5XG4gICAgd29yZHNUb0J5dGVzOiBmdW5jdGlvbih3b3Jkcykge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgYiA9IDA7IGIgPCB3b3Jkcy5sZW5ndGggKiAzMjsgYiArPSA4KVxuICAgICAgICBieXRlcy5wdXNoKCh3b3Jkc1tiID4+PiA1XSA+Pj4gKDI0IC0gYiAlIDMyKSkgJiAweEZGKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBoZXggc3RyaW5nXG4gICAgYnl0ZXNUb0hleDogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIGhleCA9IFtdLCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhleC5wdXNoKChieXRlc1tpXSA+Pj4gNCkudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgaGV4LnB1c2goKGJ5dGVzW2ldICYgMHhGKS50b1N0cmluZygxNikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhleC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGhleCBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgaGV4VG9CeXRlczogZnVuY3Rpb24oaGV4KSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBjID0gMDsgYyA8IGhleC5sZW5ndGg7IGMgKz0gMilcbiAgICAgICAgYnl0ZXMucHVzaChwYXJzZUludChoZXguc3Vic3RyKGMsIDIpLCAxNikpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBhIGJhc2UtNjQgc3RyaW5nXG4gICAgYnl0ZXNUb0Jhc2U2NDogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIGJhc2U2NCA9IFtdLCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciB0cmlwbGV0ID0gKGJ5dGVzW2ldIDw8IDE2KSB8IChieXRlc1tpICsgMV0gPDwgOCkgfCBieXRlc1tpICsgMl07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgaisrKVxuICAgICAgICAgIGlmIChpICogOCArIGogKiA2IDw9IGJ5dGVzLmxlbmd0aCAqIDgpXG4gICAgICAgICAgICBiYXNlNjQucHVzaChiYXNlNjRtYXAuY2hhckF0KCh0cmlwbGV0ID4+PiA2ICogKDMgLSBqKSkgJiAweDNGKSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYmFzZTY0LnB1c2goJz0nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlNjQuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBiYXNlLTY0IHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBiYXNlNjRUb0J5dGVzOiBmdW5jdGlvbihiYXNlNjQpIHtcbiAgICAgIC8vIFJlbW92ZSBub24tYmFzZS02NCBjaGFyYWN0ZXJzXG4gICAgICBiYXNlNjQgPSBiYXNlNjQucmVwbGFjZSgvW15BLVowLTkrXFwvXS9pZywgJycpO1xuXG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBpID0gMCwgaW1vZDQgPSAwOyBpIDwgYmFzZTY0Lmxlbmd0aDtcbiAgICAgICAgICBpbW9kNCA9ICsraSAlIDQpIHtcbiAgICAgICAgaWYgKGltb2Q0ID09IDApIGNvbnRpbnVlO1xuICAgICAgICBieXRlcy5wdXNoKCgoYmFzZTY0bWFwLmluZGV4T2YoYmFzZTY0LmNoYXJBdChpIC0gMSkpXG4gICAgICAgICAgICAmIChNYXRoLnBvdygyLCAtMiAqIGltb2Q0ICsgOCkgLSAxKSkgPDwgKGltb2Q0ICogMikpXG4gICAgICAgICAgICB8IChiYXNlNjRtYXAuaW5kZXhPZihiYXNlNjQuY2hhckF0KGkpKSA+Pj4gKDYgLSBpbW9kNCAqIDIpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzID0gY3J5cHQ7XG59KSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NyeXB0L2NyeXB0LmpzXG4vLyBtb2R1bGUgaWQgPSAxNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBFdkVtaXR0ZXIgdjEuMC4zXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBnbG9iYWwuRXZFbWl0dGVyID0gZmFjdG9yeSgpO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIEV2RW1pdHRlcigpIHt9XG5cbnZhciBwcm90byA9IEV2RW1pdHRlci5wcm90b3R5cGU7XG5cbnByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNldCBldmVudHMgaGFzaFxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG4gIHZhciBsaXN0ZW5lcnMgPSBldmVudHNbIGV2ZW50TmFtZSBdID0gZXZlbnRzWyBldmVudE5hbWUgXSB8fCBbXTtcbiAgLy8gb25seSBhZGQgb25jZVxuICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuICAgIGxpc3RlbmVycy5wdXNoKCBsaXN0ZW5lciApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vbmNlID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBldmVudFxuICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gIC8vIHNldCBvbmNlIGZsYWdcbiAgLy8gc2V0IG9uY2VFdmVudHMgaGFzaFxuICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgb25jZUxpc3RlbmVycyBvYmplY3RcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdIHx8IHt9O1xuICAvLyBzZXQgZmxhZ1xuICBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpID0gMDtcbiAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgLy8gb25jZSBzdHVmZlxuICB2YXIgb25jZUxpc3RlbmVycyA9IHRoaXMuX29uY2VFdmVudHMgJiYgdGhpcy5fb25jZUV2ZW50c1sgZXZlbnROYW1lIF07XG5cbiAgd2hpbGUgKCBsaXN0ZW5lciApIHtcbiAgICB2YXIgaXNPbmNlID0gb25jZUxpc3RlbmVycyAmJiBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIGlmICggaXNPbmNlICkge1xuICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgICAvLyByZW1vdmUgYmVmb3JlIHRyaWdnZXIgdG8gcHJldmVudCByZWN1cnNpb25cbiAgICAgIHRoaXMub2ZmKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gICAgICAvLyB1bnNldCBvbmNlIGZsYWdcbiAgICAgIGRlbGV0ZSBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIH1cbiAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG4gICAgbGlzdGVuZXIuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgICAvLyBnZXQgbmV4dCBsaXN0ZW5lclxuICAgIGkgKz0gaXNPbmNlID8gMCA6IDE7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnJldHVybiBFdkVtaXR0ZXI7XG5cbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9ldi1lbWl0dGVyL2V2LWVtaXR0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIGltYWdlc0xvYWRlZCB2NC4xLjFcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHsgJ3VzZSBzdHJpY3QnO1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cblxuICAvKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlLCByZXF1aXJlOiBmYWxzZSAqL1xuXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJ1xuICAgIF0sIGZ1bmN0aW9uKCBFdkVtaXR0ZXIgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuaW1hZ2VzTG9hZGVkID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXJcbiAgICApO1xuICB9XG5cbn0pKCB3aW5kb3csXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBmYWN0b3J5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gd2luZG93LmpRdWVyeTtcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZXh0ZW5kIG9iamVjdHNcbmZ1bmN0aW9uIGV4dGVuZCggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XG5mdW5jdGlvbiBtYWtlQXJyYXkoIG9iaiApIHtcbiAgdmFyIGFyeSA9IFtdO1xuICBpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkge1xuICAgIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxuICAgIGFyeSA9IG9iajtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG9iai5sZW5ndGggPT0gJ251bWJlcicgKSB7XG4gICAgLy8gY29udmVydCBub2RlTGlzdCB0byBhcnJheVxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBvYmoubGVuZ3RoOyBpKysgKSB7XG4gICAgICBhcnkucHVzaCggb2JqW2ldICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxuICAgIGFyeS5wdXNoKCBvYmogKTtcbiAgfVxuICByZXR1cm4gYXJ5O1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZXNMb2FkZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5LCBFbGVtZW50LCBOb2RlTGlzdCwgU3RyaW5nfSBlbGVtXG4gKiBAcGFyYW0ge09iamVjdCBvciBGdW5jdGlvbn0gb3B0aW9ucyAtIGlmIGZ1bmN0aW9uLCB1c2UgYXMgY2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQWx3YXlzIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApIHtcbiAgLy8gY29lcmNlIEltYWdlc0xvYWRlZCgpIHdpdGhvdXQgbmV3LCB0byBiZSBuZXcgSW1hZ2VzTG9hZGVkKClcbiAgaWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgSW1hZ2VzTG9hZGVkICkgKSB7XG4gICAgcmV0dXJuIG5ldyBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICk7XG4gIH1cbiAgLy8gdXNlIGVsZW0gYXMgc2VsZWN0b3Igc3RyaW5nXG4gIGlmICggdHlwZW9mIGVsZW0gPT0gJ3N0cmluZycgKSB7XG4gICAgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsZW0gKTtcbiAgfVxuXG4gIHRoaXMuZWxlbWVudHMgPSBtYWtlQXJyYXkoIGVsZW0gKTtcbiAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7XG5cbiAgaWYgKCB0eXBlb2Ygb3B0aW9ucyA9PSAnZnVuY3Rpb24nICkge1xuICAgIG9uQWx3YXlzID0gb3B0aW9ucztcbiAgfSBlbHNlIHtcbiAgICBleHRlbmQoIHRoaXMub3B0aW9ucywgb3B0aW9ucyApO1xuICB9XG5cbiAgaWYgKCBvbkFsd2F5cyApIHtcbiAgICB0aGlzLm9uKCAnYWx3YXlzJywgb25BbHdheXMgKTtcbiAgfVxuXG4gIHRoaXMuZ2V0SW1hZ2VzKCk7XG5cbiAgaWYgKCAkICkge1xuICAgIC8vIGFkZCBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0XG4gICAgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcbiAgfVxuXG4gIC8vIEhBQ0sgY2hlY2sgYXN5bmMgdG8gYWxsb3cgdGltZSB0byBiaW5kIGxpc3RlbmVyc1xuICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNoZWNrKCk7XG4gIH0uYmluZCggdGhpcyApKTtcbn1cblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5vcHRpb25zID0ge307XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuZ2V0SW1hZ2VzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1hZ2VzID0gW107XG5cbiAgLy8gZmlsdGVyICYgZmluZCBpdGVtcyBpZiB3ZSBoYXZlIGFuIGl0ZW0gc2VsZWN0b3JcbiAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKCB0aGlzLmFkZEVsZW1lbnRJbWFnZXMsIHRoaXMgKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBlbGVtZW50XG4gKi9cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkRWxlbWVudEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAvLyBmaWx0ZXIgc2libGluZ3NcbiAgaWYgKCBlbGVtLm5vZGVOYW1lID09ICdJTUcnICkge1xuICAgIHRoaXMuYWRkSW1hZ2UoIGVsZW0gKTtcbiAgfVxuICAvLyBnZXQgYmFja2dyb3VuZCBpbWFnZSBvbiBlbGVtZW50XG4gIGlmICggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgPT09IHRydWUgKSB7XG4gICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggZWxlbSApO1xuICB9XG5cbiAgLy8gZmluZCBjaGlsZHJlblxuICAvLyBubyBub24tZWxlbWVudCBub2RlcywgIzE0M1xuICB2YXIgbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuICBpZiAoICFub2RlVHlwZSB8fCAhZWxlbWVudE5vZGVUeXBlc1sgbm9kZVR5cGUgXSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNoaWxkSW1ncyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7XG4gIC8vIGNvbmNhdCBjaGlsZEVsZW1zIHRvIGZpbHRlckZvdW5kIGFycmF5XG4gIGZvciAoIHZhciBpPTA7IGkgPCBjaGlsZEltZ3MubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIGltZyA9IGNoaWxkSW1nc1tpXTtcbiAgICB0aGlzLmFkZEltYWdlKCBpbWcgKTtcbiAgfVxuXG4gIC8vIGdldCBjaGlsZCBiYWNrZ3JvdW5kIGltYWdlc1xuICBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PSAnc3RyaW5nJyApIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kICk7XG4gICAgZm9yICggaT0wOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIHRoaXMuYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXMoIGNoaWxkICk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgZWxlbWVudE5vZGVUeXBlcyA9IHtcbiAgMTogdHJ1ZSxcbiAgOTogdHJ1ZSxcbiAgMTE6IHRydWVcbn07XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuICBpZiAoICFzdHlsZSApIHtcbiAgICAvLyBGaXJlZm94IHJldHVybnMgbnVsbCBpZiBpbiBhIGhpZGRlbiBpZnJhbWUgaHR0cHM6Ly9idWd6aWwubGEvNTQ4Mzk3XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGdldCB1cmwgaW5zaWRlIHVybChcIi4uLlwiKVxuICB2YXIgcmVVUkwgPSAvdXJsXFwoKFsnXCJdKT8oLio/KVxcMVxcKS9naTtcbiAgdmFyIG1hdGNoZXMgPSByZVVSTC5leGVjKCBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgKTtcbiAgd2hpbGUgKCBtYXRjaGVzICE9PSBudWxsICkge1xuICAgIHZhciB1cmwgPSBtYXRjaGVzICYmIG1hdGNoZXNbMl07XG4gICAgaWYgKCB1cmwgKSB7XG4gICAgICB0aGlzLmFkZEJhY2tncm91bmQoIHVybCwgZWxlbSApO1xuICAgIH1cbiAgICBtYXRjaGVzID0gcmVVUkwuZXhlYyggc3R5bGUuYmFja2dyb3VuZEltYWdlICk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtJbWFnZX0gaW1nXG4gKi9cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkSW1hZ2UgPSBmdW5jdGlvbiggaW1nICkge1xuICB2YXIgbG9hZGluZ0ltYWdlID0gbmV3IExvYWRpbmdJbWFnZSggaW1nICk7XG4gIHRoaXMuaW1hZ2VzLnB1c2goIGxvYWRpbmdJbWFnZSApO1xufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRCYWNrZ3JvdW5kID0gZnVuY3Rpb24oIHVybCwgZWxlbSApIHtcbiAgdmFyIGJhY2tncm91bmQgPSBuZXcgQmFja2dyb3VuZCggdXJsLCBlbGVtICk7XG4gIHRoaXMuaW1hZ2VzLnB1c2goIGJhY2tncm91bmQgKTtcbn07XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgdGhpcy5wcm9ncmVzc2VkQ291bnQgPSAwO1xuICB0aGlzLmhhc0FueUJyb2tlbiA9IGZhbHNlO1xuICAvLyBjb21wbGV0ZSBpZiBubyBpbWFnZXNcbiAgaWYgKCAhdGhpcy5pbWFnZXMubGVuZ3RoICkge1xuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBmdW5jdGlvbiBvblByb2dyZXNzKCBpbWFnZSwgZWxlbSwgbWVzc2FnZSApIHtcbiAgICAvLyBIQUNLIC0gQ2hyb21lIHRyaWdnZXJzIGV2ZW50IGJlZm9yZSBvYmplY3QgcHJvcGVydGllcyBoYXZlIGNoYW5nZWQuICM4M1xuICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMucHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICk7XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLmltYWdlcy5mb3JFYWNoKCBmdW5jdGlvbiggbG9hZGluZ0ltYWdlICkge1xuICAgIGxvYWRpbmdJbWFnZS5vbmNlKCAncHJvZ3Jlc3MnLCBvblByb2dyZXNzICk7XG4gICAgbG9hZGluZ0ltYWdlLmNoZWNrKCk7XG4gIH0pO1xufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uKCBpbWFnZSwgZWxlbSwgbWVzc2FnZSApIHtcbiAgdGhpcy5wcm9ncmVzc2VkQ291bnQrKztcbiAgdGhpcy5oYXNBbnlCcm9rZW4gPSB0aGlzLmhhc0FueUJyb2tlbiB8fCAhaW1hZ2UuaXNMb2FkZWQ7XG4gIC8vIHByb2dyZXNzIGV2ZW50XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIGltYWdlLCBlbGVtIF0gKTtcbiAgaWYgKCB0aGlzLmpxRGVmZXJyZWQgJiYgdGhpcy5qcURlZmVycmVkLm5vdGlmeSApIHtcbiAgICB0aGlzLmpxRGVmZXJyZWQubm90aWZ5KCB0aGlzLCBpbWFnZSApO1xuICB9XG4gIC8vIGNoZWNrIGlmIGNvbXBsZXRlZFxuICBpZiAoIHRoaXMucHJvZ3Jlc3NlZENvdW50ID09IHRoaXMuaW1hZ2VzLmxlbmd0aCApIHtcbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cblxuICBpZiAoIHRoaXMub3B0aW9ucy5kZWJ1ZyAmJiBjb25zb2xlICkge1xuICAgIGNvbnNvbGUubG9nKCAncHJvZ3Jlc3M6ICcgKyBtZXNzYWdlLCBpbWFnZSwgZWxlbSApO1xuICB9XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBldmVudE5hbWUgPSB0aGlzLmhhc0FueUJyb2tlbiA/ICdmYWlsJyA6ICdkb25lJztcbiAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgdGhpcy5lbWl0RXZlbnQoIGV2ZW50TmFtZSwgWyB0aGlzIF0gKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdhbHdheXMnLCBbIHRoaXMgXSApO1xuICBpZiAoIHRoaXMuanFEZWZlcnJlZCApIHtcbiAgICB2YXIganFNZXRob2QgPSB0aGlzLmhhc0FueUJyb2tlbiA/ICdyZWplY3QnIDogJ3Jlc29sdmUnO1xuICAgIHRoaXMuanFEZWZlcnJlZFsganFNZXRob2QgXSggdGhpcyApO1xuICB9XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gTG9hZGluZ0ltYWdlKCBpbWcgKSB7XG4gIHRoaXMuaW1nID0gaW1nO1xufVxuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gIC8vIElmIGNvbXBsZXRlIGlzIHRydWUgYW5kIGJyb3dzZXIgc3VwcG9ydHMgbmF0dXJhbCBzaXplcyxcbiAgLy8gdHJ5IHRvIGNoZWNrIGZvciBpbWFnZSBzdGF0dXMgbWFudWFsbHkuXG4gIHZhciBpc0NvbXBsZXRlID0gdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKTtcbiAgaWYgKCBpc0NvbXBsZXRlICkge1xuICAgIC8vIHJlcG9ydCBiYXNlZCBvbiBuYXR1cmFsV2lkdGhcbiAgICB0aGlzLmNvbmZpcm0oIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgJ25hdHVyYWxXaWR0aCcgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBub25lIG9mIHRoZSBjaGVja3MgYWJvdmUgbWF0Y2hlZCwgc2ltdWxhdGUgbG9hZGluZyBvbiBkZXRhY2hlZCBlbGVtZW50LlxuICB0aGlzLnByb3h5SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgdGhpcy5wcm94eUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLnByb3h5SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICAvLyBiaW5kIHRvIGltYWdlIGFzIHdlbGwgZm9yIEZpcmVmb3guICMxOTFcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgdGhpcy5wcm94eUltYWdlLnNyYyA9IHRoaXMuaW1nLnNyYztcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuZ2V0SXNJbWFnZUNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmltZy5jb21wbGV0ZSAmJiB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IHVuZGVmaW5lZDtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICB0aGlzLmVtaXRFdmVudCggJ3Byb2dyZXNzJywgWyB0aGlzLCB0aGlzLmltZywgbWVzc2FnZSBdICk7XG59O1xuXG4vLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cblxuLy8gdHJpZ2dlciBzcGVjaWZpZWQgaGFuZGxlciBmb3IgZXZlbnQgdHlwZVxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICB9XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbmZpcm0oIHRydWUsICdvbmxvYWQnICk7XG4gIHRoaXMudW5iaW5kRXZlbnRzKCk7XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb25maXJtKCBmYWxzZSwgJ29uZXJyb3InICk7XG4gIHRoaXMudW5iaW5kRXZlbnRzKCk7XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByb3h5SW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMucHJveHlJbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBCYWNrZ3JvdW5kIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIEJhY2tncm91bmQoIHVybCwgZWxlbWVudCApIHtcbiAgdGhpcy51cmwgPSB1cmw7XG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG59XG5cbi8vIGluaGVyaXQgTG9hZGluZ0ltYWdlIHByb3RvdHlwZVxuQmFja2dyb3VuZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBMb2FkaW5nSW1hZ2UucHJvdG90eXBlICk7XG5cbkJhY2tncm91bmQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIHRoaXMuaW1nLnNyYyA9IHRoaXMudXJsO1xuICAvLyBjaGVjayBpZiBpbWFnZSBpcyBhbHJlYWR5IGNvbXBsZXRlXG4gIHZhciBpc0NvbXBsZXRlID0gdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKTtcbiAgaWYgKCBpc0NvbXBsZXRlICkge1xuICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gIH1cbn07XG5cbkJhY2tncm91bmQucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xufTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICB0aGlzLmVtaXRFdmVudCggJ3Byb2dyZXNzJywgWyB0aGlzLCB0aGlzLmVsZW1lbnQsIG1lc3NhZ2UgXSApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0galF1ZXJ5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbkltYWdlc0xvYWRlZC5tYWtlSlF1ZXJ5UGx1Z2luID0gZnVuY3Rpb24oIGpRdWVyeSApIHtcbiAgalF1ZXJ5ID0galF1ZXJ5IHx8IHdpbmRvdy5qUXVlcnk7XG4gIGlmICggIWpRdWVyeSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2V0IGxvY2FsIHZhcmlhYmxlXG4gICQgPSBqUXVlcnk7XG4gIC8vICQoKS5pbWFnZXNMb2FkZWQoKVxuICAkLmZuLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBjYWxsYmFjayApIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgSW1hZ2VzTG9hZGVkKCB0aGlzLCBvcHRpb25zLCBjYWxsYmFjayApO1xuICAgIHJldHVybiBpbnN0YW5jZS5qcURlZmVycmVkLnByb21pc2UoICQodGhpcykgKTtcbiAgfTtcbn07XG4vLyB0cnkgbWFraW5nIHBsdWdpblxuSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4oKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnJldHVybiBJbWFnZXNMb2FkZWQ7XG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWQuanNcbi8vIG1vZHVsZSBpZCA9IDE1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG4oZnVuY3Rpb24oKSB7XG5cbi8qIHByZWJpZC5qcyB2MC4xNi4wXG5VcGRhdGVkIDogMjAxNi0xMi0wOSAqL1xuIWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBpPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLHQpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gdC5tPWUsdC5jPW4sdC5wPVwiXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBpKCl7Zm9yKHZhciBlPTA7ZTxTLnF1ZS5sZW5ndGg7ZSsrKWlmKGgoUy5xdWVbZV0uY2FsbGVkKT09PVApdHJ5e1MucXVlW2VdLmNhbGwoKSxTLnF1ZVtlXS5jYWxsZWQ9ITB9Y2F0Y2godCl7Qy5sb2dFcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6XCIsXCJwcmViaWQuanNcIix0KX19ZnVuY3Rpb24gbyhlKXt2YXIgdD1TLl9iaWRzUmVxdWVzdGVkLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5wbGFjZW1lbnRDb2RlfSl9KS5yZWR1Y2UoSS5mbGF0dGVuKS5maWx0ZXIoSS51bmlxdWVzKTtyZXR1cm4gQy5jb250YWlucyh0LGUpPyEwOihDLmxvZ0Vycm9yKCdUaGUgXCInK2UrJ1wiIHBsYWNlbWVudCBpcyBub3QgZGVmaW5lZC4nKSx2b2lkIDApfWZ1bmN0aW9uIGEoKXtJLmlzR3B0UHViYWRzRGVmaW5lZCgpJiZ3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt6LmZvckVhY2goZnVuY3Rpb24odCl7ZS5zZXRUYXJnZXRpbmcodCxudWxsKX0pfSl9ZnVuY3Rpb24gZChlKXt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSlbMF09PT10LmdldEFkVW5pdFBhdGgoKXx8T2JqZWN0LmtleXMoZSlbMF09PT10LmdldFNsb3RFbGVtZW50SWQoKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGVbT2JqZWN0LmtleXMoZSlbMF1dLmZvckVhY2goZnVuY3Rpb24oZSl7ZVtPYmplY3Qua2V5cyhlKVswXV0ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBDLmxvZ01lc3NhZ2UoXCJBdHRlbXB0aW5nIHRvIHNldCBrZXkgdmFsdWUgZm9yIHNsb3Q6IFwiK3QuZ2V0U2xvdEVsZW1lbnRJZCgpK1wiIGtleTogXCIrT2JqZWN0LmtleXMoZSlbMF0rXCIgdmFsdWU6IFwiK24pLG59KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3Quc2V0VGFyZ2V0aW5nKE9iamVjdC5rZXlzKGUpWzBdLG4pfSl9KX0pfSl9ZnVuY3Rpb24gcygpe3JldHVybiBPLmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmcoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5fSkuY29uY2F0KHcuVEFSR0VUSU5HX0tFWVMpLmZpbHRlcihJLnVuaXF1ZXMpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZT9bZV06Uy5fYWRVbml0Q29kZXM7cmV0dXJuIFMuX2JpZHNSZWNlaXZlZC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5jbHVkZXMoZS5hZFVuaXRDb2RlKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5jcG0+MH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkuZmlsdGVyKEkudW5pcXVlcykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBTLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lP3Q6bnVsbH0pLnJlZHVjZShJLmdldEhpZ2hlc3RDcG0se2FkVW5pdENvZGU6ZSxjcG06MCxhZHNlcnZlclRhcmdldGluZzp7fSx0aW1lVG9SZXNwb25kOjB9KX0pfWZ1bmN0aW9uIGMoKXt2YXIgZT11KCk7ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVhbElkfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw9ZS5kZWFsSWR9KTt2YXIgdD1zKCk7cmV0dXJuIGU9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIoe30sZS5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fGUuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nfHwtMT09PXQuaW5kZXhPZihuKX0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcih7fSx0LnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1t0XV0pfSkpfSl9ZnVuY3Rpb24gbCgpe3JldHVybiBTLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlYWxJZH0pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1cImhiX2RlYWxfXCIrZS5iaWRkZXJDb2RlO3JldHVybiByKHt9LGUuYWRVbml0Q29kZSxnKGUsdy5UQVJHRVRJTkdfS0VZUykuY29uY2F0KHIoe30sdC5zdWJzdHJpbmcoMCwyMCksW2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKSkpfSl9ZnVuY3Rpb24gZihlKXt2YXIgdD1zKCk7cmV0dXJuIFMuX2JpZHNSZWNlaXZlZC5maWx0ZXIoSS5hZFVuaXRzRmlsdGVyLmJpbmQodGhpcyxlKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFsd2F5c1VzZUJpZD9yKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQuaW5kZXhPZihuKT4tMT92b2lkIDA6cih7fSxuLnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1tuXV0pfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpOnZvaWQgMH0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9dy5UQVJHRVRJTkdfS0VZUztyZXR1cm4gUy5fYmlkc1JlY2VpdmVkLmZpbHRlcihJLmFkVW5pdHNGaWx0ZXIuYmluZCh0aGlzLGUpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRzZXJ2ZXJUYXJnZXRpbmc/cih7fSxlLmFkVW5pdENvZGUsZyhlLHQpKTp2b2lkIDB9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX1mdW5jdGlvbiBnKGUsdCl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiByKHt9LCh0K1wiX1wiK2UuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUmJmUubGVuZ3RoP1tlXTpTLl9hZFVuaXRDb2RlcyxuPWModCkuY29uY2F0KGYodCkpLmNvbmNhdChTLl9zZW5kQWxsQmlkcz9wKHQpOltdKS5jb25jYXQobCh0KSk7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXtlW3RdLm1hcChmdW5jdGlvbihlKXstMT09PXouaW5kZXhPZihPYmplY3Qua2V5cyhlKVswXSkmJih6PU9iamVjdC5rZXlzKGUpLmNvbmNhdCh6KSl9KX0pfSksbn1mdW5jdGlvbiBiKCl7Uy5fYmlkc1JlcXVlc3RlZD1bXSxTLl9iaWRzUmVjZWl2ZWQ9Uy5fYmlkc1JlY2VpdmVkLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hUy5fYWRVbml0Q29kZXMuaW5jbHVkZXMoZS5hZFVuaXRDb2RlKX0pfWZ1bmN0aW9uIHYoZSx0LG4pe2UuZGVmYXVsdFZpZXcmJmUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50JiYoZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQud2lkdGg9dCxlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudC5oZWlnaHQ9bil9dmFyIHk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0saD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxBPW4oMSksST1uKDIpLFQ9big0KTtuKDE5KTt2YXIgRT1uKDE1KSxfPW4oMTMpLFM9QS5nZXRHbG9iYWwoKSx3PW4oMyksQz1uKDIpLE89bigxMiksQj1uKDUpLGo9bigxMSksUj1uKDE4KSxVPW4oOCksTj1uKDIwKSx4PVwiZnVuY3Rpb25cIixQPVwidW5kZWZpbmVkXCIsaz1cIm9iamVjdFwiLEQ9dy5FVkVOVFMuQklEX1dPTixNPXcuRVZFTlRTLkFVQ1RJT05fRU5ELHE9ITEsRz1bXSx6PVtdLEw9e2JpZFdvbjpvfTtTLl9iaWRzUmVxdWVzdGVkPVtdLFMuX2JpZHNSZWNlaXZlZD1bXSxTLl9hZFVuaXRDb2Rlcz1bXSxTLl93aW5uaW5nQmlkcz1bXSxTLl9hZHNSZWNlaXZlZD1bXSxTLl9zZW5kQWxsQmlkcz0hMSxTLmJpZGRlclNldHRpbmdzPVMuYmlkZGVyU2V0dGluZ3N8fHt9LFMuYmlkZGVyVGltZW91dD1TLmJpZGRlclRpbWVvdXR8fDNlMyxTLmNiVGltZW91dD1TLmNiVGltZW91dHx8MjAwLFMudGltZW91dEJ1ZmZlcj0yMDAsUy5sb2dnaW5nPVMubG9nZ2luZ3x8ITEsUy5saWJMb2FkZWQ9ITAsUy52ZXJzaW9uPVwidjAuMTYuMFwiLEMubG9nSW5mbyhcIlByZWJpZC5qcyB2MC4xNi4wIGxvYWRlZFwiKSxTLmFkVW5pdHM9Uy5hZFVuaXRzfHxbXSxTLnF1ZS5wdXNoPWZ1bmN0aW9uKGUpe2lmKChcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmgoZSkpPT09eCl0cnl7ZS5jYWxsKCl9Y2F0Y2godCl7Qy5sb2dFcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6XCIrdC5tZXNzYWdlKX1lbHNlIEMubG9nRXJyb3IoXCJDb21tYW5kcyB3cml0dGVuIGludG8gcGJqcy5xdWUucHVzaCBtdXN0IHdyYXBwZWQgaW4gYSBmdW5jdGlvblwiKX0sUy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHI9ZnVuY3Rpb24oZSl7aWYoQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHJcIixhcmd1bWVudHMpLGUpe3ZhciB0PVMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlKGUpO3JldHVybiBDLnRyYW5zZm9ybUFkU2VydmVyVGFyZ2V0aW5nT2JqKHQpfUMubG9nTWVzc2FnZShcIk5lZWQgdG8gY2FsbCBnZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIgd2l0aCBhZHVuaXRDb2RlXCIpfSxTLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm4gUy5nZXRBZHNlcnZlclRhcmdldGluZyhlKVtlXX0sUy5nZXRBZHNlcnZlclRhcmdldGluZz1mdW5jdGlvbihlKXtyZXR1cm4gQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5nZXRBZHNlcnZlclRhcmdldGluZ1wiLGFyZ3VtZW50cyksbShlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLmpvaW4oXCIsIFwiKSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4geSh0LGUpfSx7fSkpfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXModClbMF07cmV0dXJuIGVbbl09eSh7fSxlW25dLHRbbl0pLGV9LHt9KX0sUy5nZXRCaWRSZXNwb25zZXM9ZnVuY3Rpb24oKXtDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmdldEJpZFJlc3BvbnNlc1wiLGFyZ3VtZW50cyk7dmFyIGU9Uy5fYmlkc1JlY2VpdmVkLmZpbHRlcihJLmFkVW5pdHNGaWx0ZXIuYmluZCh0aGlzLFMuX2FkVW5pdENvZGVzKSksdD1lJiZlLmxlbmd0aCYmZVtlLmxlbmd0aC0xXS5yZXF1ZXN0SWQ7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KS5maWx0ZXIoSS51bmlxdWVzKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcXVlc3RJZD09PXQmJmUuYWRVbml0Q29kZT09PW59KX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSYmZVswXSYmZVswXS5hZFVuaXRDb2RlfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByKHt9LGVbMF0uYWRVbml0Q29kZSx7YmlkczplfSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4geShlLHQpfSx7fSl9LFMuZ2V0QmlkUmVzcG9uc2VzRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXt2YXIgdD1TLl9iaWRzUmVjZWl2ZWQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSk7cmV0dXJue2JpZHM6dH19LFMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM9ZnVuY3Rpb24oKXtyZXR1cm4gQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luY1wiLGFyZ3VtZW50cyksSS5pc0dwdFB1YmFkc0RlZmluZWQoKT8oYSgpLGQobSgpKSx2b2lkIDApOihDLmxvZ0Vycm9yKFwid2luZG93Lmdvb2dsZXRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZVwiKSx2b2lkIDApfSxTLmFsbEJpZHNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5hbGxCaWRzQXZhaWxhYmxlXCIsYXJndW1lbnRzKSxPLmJpZHNCYWNrQWxsKCl9LFMucmVuZGVyQWQ9ZnVuY3Rpb24oZSx0KXtpZihDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLnJlbmRlckFkXCIsYXJndW1lbnRzKSxDLmxvZ01lc3NhZ2UoXCJDYWxsaW5nIHJlbmRlckFkIHdpdGggYWRJZCA6XCIrdCksZSYmdCl0cnl7dmFyIG49Uy5fYmlkc1JlY2VpdmVkLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXR9KTtpZihuKXtTLl93aW5uaW5nQmlkcy5wdXNoKG4pLFUuZW1pdChELG4pO3ZhciByPW4uaGVpZ2h0LGk9bi53aWR0aCxvPW4uYWRVcmwsYT1uLmFkO2U9PT1kb2N1bWVudHx8XCJ2aWRlb1wiPT09bi5tZWRpYVR5cGU/Qy5sb2dFcnJvcihcIkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQWQgcmVuZGVyIGNhbGwgYWQgaWQgXCIrdCtcIiB3YXMgcHJldmVudGVkIGZyb20gd3JpdGluZyB0byB0aGUgbWFpbiBkb2N1bWVudC5cIik6YT8oZS53cml0ZShhKSxlLmNsb3NlKCksdihlLGkscikpOm8/KGUud3JpdGUoJzxJRlJBTUUgU1JDPVwiJytvKydcIiBGUkFNRUJPUkRFUj1cIjBcIiBTQ1JPTExJTkc9XCJub1wiIE1BUkdJTkhFSUdIVD1cIjBcIiBNQVJHSU5XSURUSD1cIjBcIiBUT1BNQVJHSU49XCIwXCIgTEVGVE1BUkdJTj1cIjBcIiBBTExPV1RSQU5TUEFSRU5DWT1cInRydWVcIiBXSURUSD1cIicraSsnXCIgSEVJR0hUPVwiJytyKydcIj48L0lGUkFNRT4nKSxlLmNsb3NlKCksdihlLGkscikpOkMubG9nRXJyb3IoXCJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIE5vIGFkIGZvciBiaWQgcmVzcG9uc2UgaWQ6IFwiK3QpfWVsc2UgQy5sb2dFcnJvcihcIkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQ2Fubm90IGZpbmQgYWQgYnkgZ2l2ZW4gaWQgOiBcIit0KX1jYXRjaChkKXtDLmxvZ0Vycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDpcIit0K1wiIHRvIHRoZSBwYWdlOlwiK2QubWVzc2FnZSl9ZWxzZSBDLmxvZ0Vycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDpcIit0K1wiIHRvIHRoZSBwYWdlLiBNaXNzaW5nIGRvY3VtZW50IG9yIGFkSWRcIil9LFMucmVtb3ZlQWRVbml0PWZ1bmN0aW9uKGUpe2lmKEMubG9nSW5mbyhcIkludm9raW5nIHBianMucmVtb3ZlQWRVbml0XCIsYXJndW1lbnRzKSxlKWZvcih2YXIgdD0wO3Q8Uy5hZFVuaXRzLmxlbmd0aDt0KyspUy5hZFVuaXRzW3RdLmNvZGU9PT1lJiZTLmFkVW5pdHMuc3BsaWNlKHQsMSl9LFMuY2xlYXJBdWN0aW9uPWZ1bmN0aW9uKCl7cT0hMSxDLmxvZ01lc3NhZ2UoXCJQcmViaWQgYXVjdGlvbiBjbGVhcmVkXCIpLFUuZW1pdChNKSxHLmxlbmd0aCYmRy5zaGlmdCgpKCl9LFMucmVxdWVzdEJpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRzQmFja0hhbmRsZXIsbj1lLnRpbWVvdXQscj1lLmFkVW5pdHMsaT1lLmFkVW5pdENvZGVzLG89Uy5jYlRpbWVvdXQ9bnx8Uy5iaWRkZXJUaW1lb3V0O3I9cnx8Uy5hZFVuaXRzLEMubG9nSW5mbyhcIkludm9raW5nIHBianMucmVxdWVzdEJpZHNcIixhcmd1bWVudHMpLGkmJmkubGVuZ3RoP3I9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGkuaW5jbHVkZXMoZS5jb2RlKX0pOmk9ciYmci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZX0pO3ZhciBhPXIuZmlsdGVyKFQudmlkZW9BZFVuaXQpLmZpbHRlcihULmhhc05vblZpZGVvQmlkZGVyKTtpZihhLmZvckVhY2goZnVuY3Rpb24oZSl7Qy5sb2dFcnJvcihcImFkVW5pdCBcIitlLmNvZGUrXCIgaGFzICdtZWRpYVR5cGUnIHNldCB0byAndmlkZW8nIGJ1dCBjb250YWlucyBhIGJpZGRlciB0aGF0IGRvZXNuJ3Qgc3VwcG9ydCB2aWRlby4gTm8gUHJlYmlkIGRlbWFuZCByZXF1ZXN0cyB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhpcyBhZFVuaXQuXCIpO2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXJbdF0uY29kZT09PWUuY29kZSYmci5zcGxpY2UodCwxKX0pLHEpcmV0dXJuIEcucHVzaChmdW5jdGlvbigpe1MucmVxdWVzdEJpZHMoe2JpZHNCYWNrSGFuZGxlcjp0LHRpbWVvdXQ6byxhZFVuaXRzOnIsYWRVbml0Q29kZXM6aX0pfSksdm9pZCAwO2lmKHE9ITAsUy5fYWRVbml0Q29kZXM9aSxPLmV4dGVybmFsQ2FsbGJhY2tSZXNldCgpLGIoKSwhcnx8MD09PXIubGVuZ3RoKXJldHVybiBDLmxvZ01lc3NhZ2UoXCJObyBhZFVuaXRzIGNvbmZpZ3VyZWQuIE5vIGJpZHMgcmVxdWVzdGVkLlwiKSwoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpoKHQpKT09PXgmJk8uYWRkT25lVGltZUNhbGxiYWNrKHQsITEpLE8uZXhlY3V0ZUNhbGxiYWNrKCksdm9pZCAwO3ZhciBkPSEwLHM9Ty5leGVjdXRlQ2FsbGJhY2suYmluZChPLGQpLHU9c2V0VGltZW91dChzLG8pOyhcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOmgodCkpPT09eCYmTy5hZGRPbmVUaW1lQ2FsbGJhY2sodCx1KSxCLmNhbGxCaWRzKHthZFVuaXRzOnIsYWRVbml0Q29kZXM6aSxjYlRpbWVvdXQ6b30pLDA9PT1TLl9iaWRzUmVxdWVzdGVkLmxlbmd0aCYmTy5leGVjdXRlQ2FsbGJhY2soKX0sUy5hZGRBZFVuaXRzPWZ1bmN0aW9uKGUpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMuYWRkQWRVbml0c1wiLGFyZ3VtZW50cyksQy5pc0FycmF5KGUpP1MuYWRVbml0cy5wdXNoLmFwcGx5KFMuYWRVbml0cyxlKTooXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpoKGUpKT09PWsmJlMuYWRVbml0cy5wdXNoKGUpfSxTLm9uRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLm9uRXZlbnRcIixhcmd1bWVudHMpLEMuaXNGbih0KT9uJiYhTFtlXS5jYWxsKG51bGwsbik/KEMubG9nRXJyb3IoJ1RoZSBpZCBwcm92aWRlZCBpcyBub3QgdmFsaWQgZm9yIGV2ZW50IFwiJytlKydcIiBhbmQgbm8gaGFuZGxlciB3YXMgc2V0LicpLHZvaWQgMCk6KFUub24oZSx0LG4pLHZvaWQgMCk6KEMubG9nRXJyb3IoJ1RoZSBldmVudCBoYW5kbGVyIHByb3ZpZGVkIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3YXMgbm90IHNldCBvbiBldmVudCBcIicrZSsnXCIuJyksdm9pZCAwKX0sUy5vZmZFdmVudD1mdW5jdGlvbihlLHQsbil7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5vZmZFdmVudFwiLGFyZ3VtZW50cyksKCFufHxMW2VdLmNhbGwobnVsbCxuKSkmJlUub2ZmKGUsdCxuKX0sUy5hZGRDYWxsYmFjaz1mdW5jdGlvbihlLHQpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMuYWRkQ2FsbGJhY2tcIixhcmd1bWVudHMpO3ZhciBuPW51bGw7cmV0dXJuIGUmJnQmJihcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOmgodCkpPT09eD8obj1DLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIsTy5hZGRDYWxsYmFjayhuLHQsZSksbik6KEMubG9nRXJyb3IoXCJlcnJvciByZWdpc3RlcmluZyBjYWxsYmFjay4gQ2hlY2sgbWV0aG9kIHNpZ25hdHVyZVwiKSxuKX0sUy5yZW1vdmVDYWxsYmFjaz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxTLnJlZ2lzdGVyQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMucmVnaXN0ZXJCaWRBZGFwdGVyXCIsYXJndW1lbnRzKTt0cnl7Qi5yZWdpc3RlckJpZEFkYXB0ZXIoZSgpLHQpfWNhdGNoKG4pe0MubG9nRXJyb3IoXCJFcnJvciByZWdpc3RlcmluZyBiaWRkZXIgYWRhcHRlciA6IFwiK24ubWVzc2FnZSl9fSxTLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlclwiLGFyZ3VtZW50cyk7dHJ5e0IucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKGUpfWNhdGNoKHQpe0MubG9nRXJyb3IoXCJFcnJvciByZWdpc3RlcmluZyBhbmFseXRpY3MgYWRhcHRlciA6IFwiK3QubWVzc2FnZSl9fSxTLmJpZHNBdmFpbGFibGVGb3JBZGFwdGVyPWZ1bmN0aW9uKGUpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMuYmlkc0F2YWlsYWJsZUZvckFkYXB0ZXJcIixhcmd1bWVudHMpLFMuX2JpZHNSZXF1ZXN0ZWQuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRkZXJDb2RlPT09ZX0pLmJpZHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB5KHQsai5jcmVhdGVCaWQoMSkse2JpZGRlckNvZGU6ZSxhZFVuaXRDb2RlOnQucGxhY2VtZW50Q29kZX0pfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBTLl9iaWRzUmVjZWl2ZWQucHVzaChlKX0pfSxTLmNyZWF0ZUJpZD1mdW5jdGlvbihlKXtyZXR1cm4gQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5jcmVhdGVCaWRcIixhcmd1bWVudHMpLGouY3JlYXRlQmlkKGUpfSxTLmFkZEJpZFJlc3BvbnNlPWZ1bmN0aW9uKGUsdCl7Qy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5hZGRCaWRSZXNwb25zZVwiLGFyZ3VtZW50cyksTy5hZGRCaWRSZXNwb25zZShlLHQpfSxTLmxvYWRTY3JpcHQ9ZnVuY3Rpb24oZSx0LG4pe0MubG9nSW5mbyhcIkludm9raW5nIHBianMubG9hZFNjcmlwdFwiLGFyZ3VtZW50cyksUi5sb2FkU2NyaXB0KGUsdCxuKX0sUy5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7ZSYmIUMuaXNFbXB0eShlKT8oQy5sb2dJbmZvKFwiSW52b2tpbmcgcGJqcy5lbmFibGVBbmFseXRpY3MgZm9yOiBcIixlKSxCLmVuYWJsZUFuYWx5dGljcyhlKSk6Qy5sb2dFcnJvcihcInBianMuZW5hYmxlQW5hbHl0aWNzIHNob3VsZCBiZSBjYWxsZWQgd2l0aCBvcHRpb24ge31cIil9LFMuYWxpYXNCaWRkZXI9ZnVuY3Rpb24oZSx0KXtDLmxvZ0luZm8oXCJJbnZva2luZyBwYmpzLmFsaWFzQmlkZGVyXCIsYXJndW1lbnRzKSxlJiZ0P0IuYWxpYXNCaWRBZGFwdGVyKGUsdCk6Qy5sb2dFcnJvcihcImJpZGRlckNvZGUgYW5kIGFsaWFzIG11c3QgYmUgcGFzc2VkIGFzIGFyZ3VtZW50c1wiLFwicGJqcy5hbGlhc0JpZGRlclwiKX0sUy5zZXRQcmljZUdyYW51bGFyaXR5PWZ1bmN0aW9uKGUpe2lmKEMubG9nSW5mbyhcIkludm9raW5nIHBianMuc2V0UHJpY2VHcmFudWxhcml0eVwiLGFyZ3VtZW50cyksIWUpcmV0dXJuIEMubG9nRXJyb3IoXCJQcmViaWQgRXJyb3I6IG5vIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYFwiKSx2b2lkIDA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpTy5zZXRQcmljZUdyYW51bGFyaXR5KGUpO2Vsc2UgaWYoXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmgoZSkpKXtpZighXy5pc1ZhbGlkZVByaWNlQ29uZmlnKGUpKXJldHVybiBDLmxvZ0Vycm9yKFwiSW52YWxpZCBjdXN0b20gcHJpY2UgdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgXCIpLHZvaWQgMDtPLnNldEN1c3RvbVByaWNlQnVja2V0KGUpLE8uc2V0UHJpY2VHcmFudWxhcml0eSh3LkdSQU5VTEFSSVRZX09QVElPTlMuQ1VTVE9NKSxDLmxvZ01lc3NhZ2UoXCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHlcIil9fSxTLmVuYWJsZVNlbmRBbGxCaWRzPWZ1bmN0aW9uKCl7Uy5fc2VuZEFsbEJpZHM9ITB9LFMuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gUy5fd2lubmluZ0JpZHN9LFMuYnVpbGRNYXN0ZXJWaWRlb1RhZ0Zyb21BZHNlcnZlclRhZz1mdW5jdGlvbihlLHQpe0MubG9nSW5mbyhcIkludm9raW5nIHBianMuYnVpbGRNYXN0ZXJWaWRlb1RhZ0Zyb21BZHNlcnZlclRhZ1wiLGFyZ3VtZW50cyk7dmFyIG49RS5wYXJzZShlKTtpZigwPT09Uy5fYmlkc1JlY2VpdmVkLmxlbmd0aClyZXR1cm4gZTt2YXIgcj1cIlwiO2lmKFwiZGZwXCIhPT10LmFkc2VydmVyLnRvTG93ZXJDYXNlKCkpcmV0dXJuIEMubG9nRXJyb3IoXCJPbmx5IERGUCBhZHNlcnZlciBpcyBzdXBwb3J0ZWRcIiksdm9pZCAwO3ZhciBpPU4uZGZwQWRzZXJ2ZXIodCxuKTtyZXR1cm4gaS52ZXJpZnlBZHNlcnZlclRhZygpfHxDLmxvZ0Vycm9yKFwiSW52YWxpZCBhZHNlcnZlclRhZywgcmVxdWlyZWQgZ29vZ2xlIHBhcmFtcyBhcmUgbWlzc2luZyBpbiBxdWVyeSBzdHJpbmdcIiksaS5hcHBlbmRRdWVyeVBhcmFtcygpLHI9RS5mb3JtYXQoaS51cmxDb21wb25lbnRzKX0sUy5zZXRCaWRkZXJTZXF1ZW5jZT1mdW5jdGlvbihlKXtlPT09dy5PUkRFUi5SQU5ET00mJkIuc2V0QmlkZGVyU2VxdWVuY2Uody5PUkRFUi5SQU5ET00pfSxTLmdldEhpZ2hlc3RDcG1CaWRzPWZ1bmN0aW9uKGUpe3JldHVybiB1KGUpfSxpKCl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3JldHVybiB3aW5kb3cucGJqc31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldEdsb2JhbD1uLHdpbmRvdy5wYmpzPXdpbmRvdy5wYmpzfHx7fSx3aW5kb3cucGJqcy5xdWU9d2luZG93LnBianMucXVlfHxbXX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXtyZXR1cm4gTygpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyKX1mdW5jdGlvbiBpKCl7cmV0dXJuIHdpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5sb2d9ZnVuY3Rpb24gbyhlLHQsbil7cmV0dXJuIG4uaW5kZXhPZihlKT09PXR9ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlLmNvbmNhdCh0KX1mdW5jdGlvbiBkKGUpe3JldHVybiBwYmpzLl9iaWRzUmVxdWVzdGVkLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRzLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lfSl9KS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSl9ZnVuY3Rpb24gdShlLHQpe3JldHVybiBlW3RdfWZ1bmN0aW9uIGMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cGJqcy5hZFVuaXRzO3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KS5yZWR1Y2UoYSxbXSl9KS5yZWR1Y2UoYSkuZmlsdGVyKG8pfWZ1bmN0aW9uIGwoKXtyZXR1cm4gd2luZG93Lmdvb2dsZXRhZyYmdC5pc0ZuKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKSYmdC5pc0ZuKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMpPyEwOnZvaWQgMH1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGUuY3BtPT09dC5jcG0/ZS50aW1lVG9SZXNwb25kPnQudGltZVRvUmVzcG9uZD90OmU6ZS5jcG08dC5jcG0/dDplfWZ1bmN0aW9uIHAoZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3Q+MDspe3ZhciBuPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0KTt0LS07dmFyIHI9ZVt0XTtlW3RdPWVbbl0sZVtuXT1yfXJldHVybiBlfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gZS5pbmNsdWRlcyh0JiZ0LnBsYWNlbWVudENvZGV8fHQmJnQuYWRVbml0Q29kZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG09XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07dC51bmlxdWVzPW8sdC5mbGF0dGVuPWEsdC5nZXRCaWRSZXF1ZXN0PWQsdC5nZXRLZXlzPXMsdC5nZXRWYWx1ZT11LHQuZ2V0QmlkZGVyQ29kZXM9Yyx0LmlzR3B0UHViYWRzRGVmaW5lZD1sLHQuZ2V0SGlnaGVzdENwbT1mLHQuc2h1ZmZsZT1wLHQuYWRVbml0c0ZpbHRlcj1nO3ZhciBiPW4oMyksdj1cIm9iamVjdFwiLHk9XCJzdHJpbmdcIixoPVwibnVtYmVyXCIsQT0hMSxJPVwiQXJyYXlcIixUPVwiU3RyaW5nXCIsRT1cIkZ1bmN0aW9uXCIsXz1cIk51bWJlclwiLFM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx3PW51bGw7dHJ5e3c9Y29uc29sZS5pbmZvLmJpbmQod2luZG93LmNvbnNvbGUpfWNhdGNoKEMpe310LnJlcGxhY2VUb2tlbkluU3RyaW5nPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5fZWFjaCh0LGZ1bmN0aW9uKHQscil7dD12b2lkIDA9PT10P1wiXCI6dDt2YXIgaT1uK3IudG9VcHBlckNhc2UoKStuLG89bmV3IFJlZ0V4cChpLFwiZ1wiKTtlPWUucmVwbGFjZShvLHQpfSksZX07dmFyIE89ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKyssZX19KCk7dC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPXIsdC5nZW5lcmF0ZVVVSUQ9ZnVuY3Rpb24gTihlKXtyZXR1cm4gZT8oZV4xNipNYXRoLnJhbmRvbSgpPj5lLzQpLnRvU3RyaW5nKDE2KTooWzFlN10rLTFlMystNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csTil9LHQuZ2V0QmlkSWRQYXJhbWV0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdFtlXT90W2VdOlwiXCJ9LHQudHJ5QXBwZW5kUXVlcnlTdHJpbmc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuP2UrPXQrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pK1wiJlwiOmV9LHQucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodCs9bitcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrXCImXCIpO3JldHVybiB0fSx0LnRyYW5zZm9ybUFkU2VydmVyVGFyZ2V0aW5nT2JqPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5sZW5ndGg+MD9zKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCtcIj1cIitlbmNvZGVVUklDb21wb25lbnQodShlLHQpKX0pLmpvaW4oXCImXCIpOlwiXCJ9LHQuZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZXx8e30sdGhpcy5fZWFjaCh0LGZ1bmN0aW9uKG4scil7ZVtyXT1tKHRbcl0pPT09dj90aGlzLmV4dGVuZChlW3JdLHRbcl0pOnRbcl19KSxlfSx0LnBhcnNlU2l6ZXNJbnB1dD1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjptKGUpKT09PXkpe3ZhciBuPWUuc3BsaXQoXCIsXCIpLHI9L14oXFxkKSt4KFxcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pVShuLGkpJiZuW2ldLm1hdGNoKHIpJiZ0LnB1c2gobltpXSl9ZWxzZSBpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjptKGUpKT09PXYpe3ZhciBvPWUubGVuZ3RoO2lmKG8+MClpZigyPT09byYmbShlWzBdKT09PWgmJm0oZVsxXSk9PT1oKXQucHVzaCh0aGlzLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KGUpKTtlbHNlIGZvcih2YXIgYT0wO28+YTthKyspdC5wdXNoKHRoaXMucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkoZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmlzQXJyYXkoZSl8fDIhPT1lLmxlbmd0aHx8aXNOYU4oZVswXSl8fGlzTmFOKGVbMV0pP3ZvaWQgMDplWzBdK1wieFwiK2VbMV19LHQuZ2V0VG9wV2luZG93TG9jYXRpb249ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDA7dHJ5e2U9d2luZG93LnRvcC5sb2NhdGlvbn1jYXRjaCh0KXtlPXdpbmRvdy5sb2NhdGlvbn1yZXR1cm4gZX0sdC5nZXRUb3BXaW5kb3dVcmw9ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDA7dHJ5e2U9dGhpcy5nZXRUb3BXaW5kb3dMb2NhdGlvbigpLmhyZWZ9Y2F0Y2godCl7ZT1cIlwifXJldHVybiBlfSx0LmxvZ1dhcm49ZnVuY3Rpb24oZSl7aigpJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIldBUk5JTkc6IFwiK2UpfSx0LmxvZ0luZm89ZnVuY3Rpb24oZSx0KXtqKCkmJmkoKSYmdyYmKHQmJjAhPT10Lmxlbmd0aHx8KHQ9XCJcIiksdyhcIklORk86IFwiK2UrKFwiXCI9PT10P1wiXCI6XCIgOiBwYXJhbXMgOiBcIiksdCkpfSx0LmxvZ01lc3NhZ2U9ZnVuY3Rpb24oZSl7aigpJiZpKCkmJmNvbnNvbGUubG9nKFwiTUVTU0FHRTogXCIrZSl9LHQuaGFzQ29uc29sZUxvZ2dlcj1pO3ZhciBCPWZ1bmN0aW9uKGUpe3JldHVybiBlP3dpbmRvdy5jb25zb2xlLmVycm9yP1wiZXJyb3JcIjpcImxvZ1wiOlwiXCJ9KGkoKSksaj1mdW5jdGlvbigpe3JldHVybiBwYmpzLmxvZ2dpbmc9PT0hMSYmQT09PSExJiYocGJqcy5sb2dnaW5nPVwiVFJVRVwiPT09UihiLkRFQlVHX01PREUpLnRvVXBwZXJDYXNlKCksQT0hMCksISFwYmpzLmxvZ2dpbmd9O3QuZGVidWdUdXJuZWRPbj1qLHQubG9nRXJyb3I9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXR8fFwiRVJST1JcIjtqKCkmJmkoKSYmY29uc29sZVtCXShjb25zb2xlLHIrXCI6IFwiK2Usbnx8XCJcIil9LHQuY3JlYXRlSW52aXNpYmxlSWZyYW1lPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtyZXR1cm4gZS5pZD1yKCksZS5oZWlnaHQ9MCxlLndpZHRoPTAsZS5ib3JkZXI9XCIwcHhcIixlLmhzcGFjZT1cIjBcIixlLnZzcGFjZT1cIjBcIixlLm1hcmdpbldpZHRoPVwiMFwiLGUubWFyZ2luSGVpZ2h0PVwiMFwiLGUuc3R5bGUuYm9yZGVyPVwiMFwiLGUuc2Nyb2xsaW5nPVwibm9cIixlLmZyYW1lQm9yZGVyPVwiMFwiLGUuc3JjPVwiYWJvdXQ6YmxhbmtcIixlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZX07dmFyIFI9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJbXFxcXD8mXVwiK2UrXCI9KFteJiNdKilcIixuPW5ldyBSZWdFeHAodCkscj1uLmV4ZWMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7cmV0dXJuIG51bGw9PT1yP1wiXCI6ZGVjb2RlVVJJQ29tcG9uZW50KHJbMV0ucmVwbGFjZSgvXFwrL2csXCIgXCIpKX07dC5oYXNWYWxpZEJpZFJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSxuKXtuPT09dFtvXSYmKGk9ITApfWZvcih2YXIgaT0hMSxvPTA7bzx0Lmxlbmd0aDtvKyspaWYoaT0hMSx0aGlzLl9lYWNoKGUsciksIWkpcmV0dXJuIHRoaXMubG9nRXJyb3IoXCJQYXJhbXMgYXJlIG1pc3NpbmcgZm9yIGJpZCByZXF1ZXN0LiBPbmUgb2YgdGhlc2UgcmVxdWlyZWQgcGFyYW1hdGVycyBhcmUgbWlzc2luZzogXCIrdCxuKSwhMTtyZXR1cm4hMH0sdC5hZGRFdmVudEhhbmRsZXI9ZnVuY3Rpb24oZSx0LG4pe2UuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIodCxuLCEwKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KFwib25cIit0LG4pfSx0LmlzQT1mdW5jdGlvbihlLHQpe3JldHVybiBTLmNhbGwoZSk9PT1cIltvYmplY3QgXCIrdCtcIl1cIn0sdC5pc0ZuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzQShlLEUpfSx0LmlzU3RyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzQShlLFQpfSx0LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNBKGUsSSl9LHQuaXNOdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNBKGUsXyl9LHQuaXNFbXB0eT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMDtpZih0aGlzLmlzQXJyYXkoZSl8fHRoaXMuaXNTdHIoZSkpcmV0dXJuIShlLmxlbmd0aD4wKTtmb3IodmFyIHQgaW4gZSlpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9LHQuaXNFbXB0eVN0cj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc1N0cihlKSYmKCFlfHwwPT09ZS5sZW5ndGgpfSx0Ll9lYWNoPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaXNFbXB0eShlKSl7aWYodGhpcy5pc0ZuKGUuZm9yRWFjaCkpcmV0dXJuIGUuZm9yRWFjaCh0LHRoaXMpO3ZhciBuPTAscj1lLmxlbmd0aDtpZihyPjApZm9yKDtyPm47bisrKXQoZVtuXSxuLGUpO2Vsc2UgZm9yKG4gaW4gZSloYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQuY2FsbCh0aGlzLGVbbl0sbil9fSx0LmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5pc0VtcHR5KGUpKXJldHVybiExO2lmKHRoaXMuaXNGbihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSx0LmluZGV4T2Y9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y/QXJyYXkucHJvdG90eXBlLmluZGV4T2Y6dm9pZCAwfSgpLHQuX21hcD1mdW5jdGlvbihlLHQpe2lmKHRoaXMuaXNFbXB0eShlKSlyZXR1cm5bXTtpZih0aGlzLmlzRm4oZS5tYXApKXJldHVybiBlLm1hcCh0KTt2YXIgbj1bXTtyZXR1cm4gdGhpcy5fZWFjaChlLGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pLG59O3ZhciBVPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHk/ZS5oYXNPd25Qcm9wZXJ0eSh0KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZVt0XSYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbdF0hPT1lW3RdfTt0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVyblwiXCI7dmFyIHQ9ZW5jb2RlVVJJKGUpLG49JzxkaXYgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuO1wiPic7cmV0dXJuIG4rPSc8aW1nIHNyYz1cIicrdCsnXCI+PC9kaXY+J30sdC5nZXRJZnJhbWVEb2N1bWVudD1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD12b2lkIDA7dHJ5e3Q9ZS5jb250ZW50V2luZG93P2UuY29udGVudFdpbmRvdy5kb2N1bWVudDplLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudD9lLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudDplLmNvbnRlbnREb2N1bWVudH1jYXRjaChuKXt0aGlzLmxvZ0Vycm9yKFwiQ2Fubm90IGdldCBpZnJhbWUgZG9jdW1lbnRcIixuKX1yZXR1cm4gdH19LHQuZ2V0VmFsdWVTdHJpbmc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDA9PT10fHxudWxsPT09dD9uOnRoaXMuaXNTdHIodCk/dDp0aGlzLmlzTnVtYmVyKHQpP3QudG9TdHJpbmcoKToodGhpcy5sb2dXYXJuKFwiVW5zdXBvcnRlZCB0eXBlIGZvciBwYXJhbTogXCIrZStcIiByZXF1aXJlZCB0eXBlOiBTdHJpbmdcIiksdm9pZCAwKX19LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz17SlNPTl9NQVBQSU5HOntQTF9DT0RFOlwiY29kZVwiLFBMX1NJWkU6XCJzaXplc1wiLFBMX0JJRFM6XCJiaWRzXCIsQkRfQklEREVSOlwiYmlkZGVyXCIsQkRfSUQ6XCJwYXJhbXNkXCIsQkRfUExfSUQ6XCJwbGFjZW1lbnRJZFwiLEFEU0VSVkVSX1RBUkdFVElORzpcImFkc2VydmVyVGFyZ2V0aW5nXCIsQkRfU0VUVElOR19TVEFOREFSRDpcInN0YW5kYXJkXCJ9LFJFUE9fQU5EX1ZFUlNJT046XCJwcmViaWRfcHJlYmlkXzAuMTYuMFwiLERFQlVHX01PREU6XCJwYmpzX2RlYnVnXCIsU1RBVFVTOntHT09EOjEsTk9fQklEOjJ9LENCOntUWVBFOntBTExfQklEU19CQUNLOlwiYWxsUmVxdWVzdGVkQmlkc0JhY2tcIixBRF9VTklUX0JJRFNfQkFDSzpcImFkVW5pdEJpZHNCYWNrXCIsQklEX1dPTjpcImJpZFdvblwifX0sb2JqZWN0VHlwZV9mdW5jdGlvbjpcImZ1bmN0aW9uXCIsb2JqZWN0VHlwZV91bmRlZmluZWQ6XCJ1bmRlZmluZWRcIixvYmplY3RUeXBlX29iamVjdDpcIm9iamVjdFwiLG9iamVjdFR5cGVfc3RyaW5nOlwic3RyaW5nXCIsb2JqZWN0VHlwZV9udW1iZXI6XCJudW1iZXJcIixFVkVOVFM6e0FVQ1RJT05fSU5JVDpcImF1Y3Rpb25Jbml0XCIsQVVDVElPTl9FTkQ6XCJhdWN0aW9uRW5kXCIsQklEX0FESlVTVE1FTlQ6XCJiaWRBZGp1c3RtZW50XCIsQklEX1RJTUVPVVQ6XCJiaWRUaW1lb3V0XCIsQklEX1JFUVVFU1RFRDpcImJpZFJlcXVlc3RlZFwiLEJJRF9SRVNQT05TRTpcImJpZFJlc3BvbnNlXCIsQklEX1dPTjpcImJpZFdvblwifSxFVkVOVF9JRF9QQVRIUzp7YmlkV29uOlwiYWRVbml0Q29kZVwifSxPUkRFUjp7UkFORE9NOlwicmFuZG9tXCJ9LEdSQU5VTEFSSVRZX09QVElPTlM6e0xPVzpcImxvd1wiLE1FRElVTTpcIm1lZGl1bVwiLEhJR0g6XCJoaWdoXCIsQVVUTzpcImF1dG9cIixERU5TRTpcImRlbnNlXCIsQ1VTVE9NOlwiY3VzdG9tXCJ9LFRBUkdFVElOR19LRVlTOltcImhiX2JpZGRlclwiLFwiaGJfYWRpZFwiLFwiaGJfcGJcIixcImhiX3NpemVcIl19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5oYXNOb25WaWRlb0JpZGRlcj10LnZpZGVvQWRVbml0PXZvaWQgMDt7dmFyIHI9big1KSxpPSh0LnZpZGVvQWRVbml0PWZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUubWVkaWFUeXBlfSxmdW5jdGlvbihlKXtyZXR1cm4hci52aWRlb0FkYXB0ZXJzLmluY2x1ZGVzKGUuYmlkZGVyKX0pO3QuaGFzTm9uVmlkZW9CaWRkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoaSkubGVuZ3RofX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3ZhciB0PWUuYmlkZGVyQ29kZSxuPWUucmVxdWVzdElkLHI9ZS5iaWRkZXJSZXF1ZXN0SWQsaT1lLmFkVW5pdHM7cmV0dXJuIGkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXR9KS5tYXAoZnVuY3Rpb24odCl7dmFyIGk9ZS5zaXplcztpZihlLnNpemVNYXBwaW5nKXt2YXIgYT1kLm1hcFNpemVzKGUpO2lmKFwiXCI9PT1hKXJldHVyblwiXCI7aT1hfXJldHVybiBvKHQse3BsYWNlbWVudENvZGU6ZS5jb2RlLG1lZGlhVHlwZTplLm1lZGlhVHlwZSxzaXplczppLGJpZElkOnUuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGJpZGRlclJlcXVlc3RJZDpyLHJlcXVlc3RJZDpufSl9KX0pLnJlZHVjZShhLmZsYXR0ZW4sW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIlwiIT09ZX0pfXZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0sYT1uKDIpLGQ9big2KSxzPW4oNyksdT1uKDIpLGM9bigzKSxsPW4oOCksZj17fTt0LmJpZGRlclJlZ2lzdHJ5PWY7dmFyIHA9e30sZz1udWxsO3QuY2FsbEJpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXRzLG49ZS5jYlRpbWVvdXQsaT11LmdlbmVyYXRlVVVJRCgpLG89RGF0ZS5ub3coKSxkPXt0aW1lc3RhbXA6byxyZXF1ZXN0SWQ6aX07bC5lbWl0KGMuRVZFTlRTLkFVQ1RJT05fSU5JVCxkKTt2YXIgcz1hLmdldEJpZGRlckNvZGVzKHQpO2c9PT1jLk9SREVSLlJBTkRPTSYmKHM9YS5zaHVmZmxlKHMpKSxzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGE9ZltlXTtpZihhKXt2YXIgZD11LmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxzPXtiaWRkZXJDb2RlOmUscmVxdWVzdElkOmksYmlkZGVyUmVxdWVzdElkOmQsYmlkczpyKHtiaWRkZXJDb2RlOmUscmVxdWVzdElkOmksYmlkZGVyUmVxdWVzdElkOmQsYWRVbml0czp0fSksc3RhcnQ6KG5ldyBEYXRlKS5nZXRUaW1lKCksYXVjdGlvblN0YXJ0Om8sdGltZW91dDpufTtzLmJpZHMmJjAhPT1zLmJpZHMubGVuZ3RoJiYodS5sb2dNZXNzYWdlKFwiQ0FMTElORyBCSURERVIgPT09PT09PSBcIitlKSxwYmpzLl9iaWRzUmVxdWVzdGVkLnB1c2gocyksbC5lbWl0KGMuRVZFTlRTLkJJRF9SRVFVRVNURUQscyksYS5jYWxsQmlkcyhzKSl9ZWxzZSB1LmxvZ0Vycm9yKFwiQWRhcHRlciB0cnlpbmcgdG8gYmUgY2FsbGVkIHdoaWNoIGRvZXMgbm90IGV4aXN0OiBcIitlK1wiIGFkYXB0ZXJtYW5hZ2VyLmNhbGxCaWRzXCIpfSl9LHQucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7ZSYmdD9pKGUuY2FsbEJpZHMpPT09Yy5vYmplY3RUeXBlX2Z1bmN0aW9uP2ZbdF09ZTp1LmxvZ0Vycm9yKFwiQmlkZGVyIGFkYXB0b3IgZXJyb3IgZm9yIGJpZGRlciBjb2RlOiBcIit0K1wiYmlkZGVyIG11c3QgaW1wbGVtZW50IGEgY2FsbEJpZHMoKSBmdW5jdGlvblwiKTp1LmxvZ0Vycm9yKFwiYmlkQWRhcHRvciBvciBiaWRkZXJDb2RlIG5vdCBzcGVjaWZpZWRcIil9LHQuYWxpYXNCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49Zlt0XTtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIG4/XCJ1bmRlZmluZWRcIjppKG4pKT09PWMub2JqZWN0VHlwZV91bmRlZmluZWQpe3ZhciByPWZbZV07aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiByP1widW5kZWZpbmVkXCI6aShyKSk9PT1jLm9iamVjdFR5cGVfdW5kZWZpbmVkKXUubG9nRXJyb3IoJ2JpZGRlckNvZGUgXCInK2UrJ1wiIGlzIG5vdCBhbiBleGlzdGluZyBiaWRkZXIuJyxcImFkYXB0ZXJtYW5hZ2VyLmFsaWFzQmlkQWRhcHRlclwiKTtlbHNlIHRyeXt2YXIgbz1udWxsO3IgaW5zdGFuY2VvZiBzLkJhc2VBZGFwdGVyP3UubG9nRXJyb3IoZStcIiBiaWRkZXIgZG9lcyBub3QgY3VycmVudGx5IHN1cHBvcnQgYWxpYXNpbmcuXCIsXCJhZGFwdGVybWFuYWdlci5hbGlhc0JpZEFkYXB0ZXJcIik6KG89ci5jcmVhdGVOZXcoKSxvLnNldEJpZGRlckNvZGUodCksdGhpcy5yZWdpc3RlckJpZEFkYXB0ZXIobyx0KSl9Y2F0Y2goYSl7dS5sb2dFcnJvcihlK1wiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy5cIixcImFkYXB0ZXJtYW5hZ2VyLmFsaWFzQmlkQWRhcHRlclwiKX19ZWxzZSB1LmxvZ01lc3NhZ2UoJ2FsaWFzIG5hbWUgXCInK3QrJ1wiIGhhcyBiZWVuIGFscmVhZHkgc3BlY2lmaWVkLicpfSx0LnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmFkYXB0ZXIsbj1lLmNvZGU7dCYmbj9pKHQuZW5hYmxlQW5hbHl0aWNzKT09PWMub2JqZWN0VHlwZV9mdW5jdGlvbj8odC5jb2RlPW4scFtuXT10KTp1LmxvZ0Vycm9yKCdQcmViaWQgRXJyb3I6IEFuYWx5dGljcyBhZGFwdG9yIGVycm9yIGZvciBhbmFseXRpY3MgXCInK24rJ1wiXFxuICAgICAgICBhbmFseXRpY3MgYWRhcHRlciBtdXN0IGltcGxlbWVudCBhbiBlbmFibGVBbmFseXRpY3MoKSBmdW5jdGlvbicpOnUubG9nRXJyb3IoXCJQcmViaWQgRXJyb3I6IGFuYWx5dGljc0FkYXB0ZXIgb3IgYW5hbHl0aWNzQ29kZSBub3Qgc3BlY2lmaWVkXCIpfSx0LmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXt1LmlzQXJyYXkoZSl8fChlPVtlXSksdS5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0PXBbZS5wcm92aWRlcl07dD90LmVuYWJsZUFuYWx5dGljcyhlKTp1LmxvZ0Vycm9yKFwiUHJlYmlkIEVycm9yOiBubyBhbmFseXRpY3MgYWRhcHRlciBmb3VuZCBpbiByZWdpc3RyeSBmb3JcXG4gICAgICAgIFwiK2UucHJvdmlkZXIrXCIuXCIpfSl9LHQuc2V0QmlkZGVyU2VxdWVuY2U9ZnVuY3Rpb24oZSl7Zz1lfTt2YXIgbT1uKDkpO3QucmVnaXN0ZXJCaWRBZGFwdGVyKG5ldyBtLFwicnViaWNvblwiKTt2YXIgYj1uKDE2KTt0LnJlZ2lzdGVyQmlkQWRhcHRlcihuZXcgYixcImFvbFwiKTt2YXIgdj1uKDE3KTt0LnJlZ2lzdGVyQmlkQWRhcHRlcihuZXcgdixcImFwcG5leHVzXCIpLHQudmlkZW9BZGFwdGVycz1bXX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pO3JldHVybiB0W1wiZGVmYXVsdFwiXT1lLHR9ZnVuY3Rpb24gaShlKXtpZighbyhlLnNpemVNYXBwaW5nKSlyZXR1cm4gZS5zaXplczt2YXIgdD1hKCk7aWYoIXQpe3ZhciBuPWUuc2l6ZU1hcHBpbmcucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWluV2lkdGg8dC5taW5XaWR0aD90OmV9KTtyZXR1cm4gbi5zaXplcz9uLnNpemVzOmUuc2l6ZXN9dmFyIHI9XCJcIixpPWUuc2l6ZU1hcHBpbmcuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gdD5lLm1pbldpZHRofSk7cmV0dXJuIGkmJmkuc2l6ZXM/KHI9aS5zaXplcyx1LmxvZ01lc3NhZ2UoXCJBZFVuaXQgOiBcIitlLmNvZGUrXCIgcmVzaXplZCBiYXNlZCBvbiBkZXZpY2Ugd2lkdGggdG8gOiBcIityKSk6dS5sb2dNZXNzYWdlKFwiQWRVbml0IDogXCIrZS5jb2RlK1wiIG5vdCBtYXBwZWQgdG8gYW55IHNpemVzIGZvciBkZXZpY2Ugd2lkdGguIFRoaXMgcmVxdWVzdCB3aWxsIGJlIHN1cHByZXNzZWQuXCIpLHJ9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wPyEwOih1LmxvZ0luZm8oXCJObyBzaXplIG1hcHBpbmcgZGVmaW5lZFwiKSwhMSl9ZnVuY3Rpb24gYShlKXt2YXIgdD1lfHxjfHx3aW5kb3c7cmV0dXJuIHQuc2NyZWVuJiZ0LnNjcmVlbi53aWR0aD90LnNjcmVlbi53aWR0aDowfWZ1bmN0aW9uIGQoZSl7Yz1lfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuc2V0V2luZG93PXQuZ2V0U2NyZWVuV2lkdGg9dC5tYXBTaXplcz12b2lkIDA7dmFyIHM9bigyKSx1PXIocyksYz12b2lkIDA7dC5tYXBTaXplcz1pLHQuZ2V0U2NyZWVuV2lkdGg9YSx0LnNldFdpbmRvdz1kfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3t2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpO3QuQmFzZUFkYXB0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe24odGhpcyxlKSx0aGlzLmNvZGU9dH1yZXR1cm4gcihlLFt7a2V5OlwiZ2V0Q29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29kZX19LHtrZXk6XCJzZXRDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb2RlPWV9fSx7a2V5OlwiY2FsbEJpZHNcIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93XCJhZGFwdGVyIGltcGxlbWVudGF0aW9uIG11c3Qgb3ZlcnJpZGUgY2FsbEJpZHMgbWV0aG9kXCJ9fV0pLGV9KCl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMyksbz1BcnJheS5wcm90b3R5cGUuc2xpY2UsYT1BcnJheS5wcm90b3R5cGUucHVzaCxkPXIuX21hcChpLkVWRU5UUyxmdW5jdGlvbihlKXtyZXR1cm4gZX0pLHM9aS5FVkVOVF9JRF9QQVRIUyx1PVtdO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtyLmxvZ01lc3NhZ2UoXCJFbWl0dGluZyBldmVudCBmb3I6IFwiK2UpO3ZhciBpPXRbMF18fHt9LG89c1tlXSxkPWlbb10sYz1uW2VdfHx7cXVlOltdfSxsPXIuX21hcChjLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSxmPVtdO3UucHVzaCh7ZXZlbnRUeXBlOmUsYXJnczppLGlkOmR9KSxkJiZyLmNvbnRhaW5zKGwsZCkmJmEuYXBwbHkoZixjW2RdLnF1ZSksYS5hcHBseShmLGMucXVlKSxyLl9lYWNoKGYsZnVuY3Rpb24oZSl7aWYoZSl0cnl7ZS5hcHBseShudWxsLHQpfWNhdGNoKG4pe3IubG9nRXJyb3IoXCJFcnJvciBleGVjdXRpbmcgaGFuZGxlcjpcIixcImV2ZW50cy5qc1wiLG4pfX0pfWZ1bmN0aW9uIHQoZSl7cmV0dXJuIHIuY29udGFpbnMoZCxlKX12YXIgbj17fSxpPXt9O3JldHVybiBpLm9uPWZ1bmN0aW9uKGUsaSxvKXtpZih0KGUpKXt2YXIgYT1uW2VdfHx7cXVlOltdfTtvPyhhW29dPWFbb118fHtxdWU6W119LGFbb10ucXVlLnB1c2goaSkpOmEucXVlLnB1c2goaSksbltlXT1hfWVsc2Ugci5sb2dFcnJvcihcIldyb25nIGV2ZW50IG5hbWUgOiBcIitlK1wiIFZhbGlkIGV2ZW50IG5hbWVzIDpcIitkKX0saS5lbWl0PWZ1bmN0aW9uKHQpe3ZhciBuPW8uY2FsbChhcmd1bWVudHMsMSk7ZSh0LG4pfSxpLm9mZj1mdW5jdGlvbihlLHQsaSl7dmFyIG89bltlXTtyLmlzRW1wdHkobyl8fHIuaXNFbXB0eShvLnF1ZSkmJnIuaXNFbXB0eShvW2ldKXx8aSYmKHIuaXNFbXB0eShvW2ldKXx8ci5pc0VtcHR5KG9baV0ucXVlKSl8fChpP3IuX2VhY2gob1tpXS5xdWUsZnVuY3Rpb24oZSl7dmFyIG49b1tpXS5xdWU7ZT09PXQmJm4uc3BsaWNlKHIuaW5kZXhPZi5jYWxsKG4sZSksMSl9KTpyLl9lYWNoKG8ucXVlLGZ1bmN0aW9uKGUpe3ZhciBuPW8ucXVlO2U9PT10JiZuLnNwbGljZShyLmluZGV4T2YuY2FsbChuLGUpLDEpfSksbltlXT1vKX0saS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbn0saS5nZXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci5fZWFjaCh1LGZ1bmN0aW9uKHQpe3ZhciBuPXIuZXh0ZW5kKHt9LHQpO2UucHVzaChuKX0pLGV9LGl9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gaShlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHRbXCJkZWZhdWx0XCJdPWUsdH1mdW5jdGlvbiBvKCl7ZnVuY3Rpb24gZShlKXt2YXIgcj1lLmJpZHN8fFtdO3IuZm9yRWFjaChmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQpe3RyeXtiLmxvZ01lc3NhZ2UoXCJYSFIgY2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGZvciBhZCBJRDogXCIrZS5iaWRJZCksbih0LGUpfWNhdGNoKHIpe1wic3RyaW5nXCI9PXR5cGVvZiByP2IubG9nV2FybihyK1wiIHdoZW4gcHJvY2Vzc2luZyBydWJpY29uIHJlc3BvbnNlIGZvciBwbGFjZW1lbnQgY29kZSBcIitlLnBsYWNlbWVudENvZGUpOmIubG9nRXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIHJ1Ymljb24gcmVzcG9uc2UgZm9yIHBsYWNlbWVudCBjb2RlIFwiK2UucGxhY2VtZW50Q29kZSxudWxsLHIpO3ZhciBpPWZbXCJkZWZhdWx0XCJdLmNyZWF0ZUJpZCh5LlNUQVRVUy5OT19CSUQsZSk7aS5iaWRkZXJDb2RlPWUuYmlkZGVyLGkuZXJyb3I9cixnW1wiZGVmYXVsdFwiXS5hZGRCaWRSZXNwb25zZShlLnBsYWNlbWVudENvZGUsaSl9fXRyeXt2LmFqYXgodChlKSxyLHZvaWQgMCx7d2l0aENyZWRlbnRpYWxzOiEwfSl9Y2F0Y2goaSl7Yi5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgcnViaWNvbiByZXF1ZXN0IGZvciBwbGFjZW1lbnQgY29kZSBcIitlLnBsYWNlbWVudENvZGUsbnVsbCxpKX19KX1mdW5jdGlvbiB0KGUpe2Uuc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciB0PWUucGFyYW1zLG49dC5hY2NvdW50SWQscj10LnNpdGVJZCxpPXQuem9uZUlkLGE9dC5wb3NpdGlvbixkPXQua2V5d29yZHMsdT10LnZpc2l0b3IsYz10LmludmVudG9yeSxsPXQudXNlcklkLGY9dC5yZWZlcnJlcjthPWF8fFwiYnRmXCI7dmFyIHA9by5tYXNTaXplT3JkZXJpbmcoQXJyYXkuaXNBcnJheShlLnBhcmFtcy5zaXplcyk/ZS5wYXJhbXMuc2l6ZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybihBW2VdfHxcIlwiKS5zcGxpdChcInhcIil9KTplLnNpemVzKTtpZihwLmxlbmd0aDwxKXRocm93XCJubyB2YWxpZCBzaXplc1wiO3ZhciBnPVtcImFjY291bnRfaWRcIixuLFwic2l0ZV9pZFwiLHIsXCJ6b25lX2lkXCIsaSxcInNpemVfaWRcIixwWzBdLFwiYWx0X3NpemVfaWRzXCIscC5zbGljZSgxKS5qb2luKFwiLFwiKXx8dm9pZCAwLFwicF9wb3NcIixhLFwicnBfZmxvb3JcIixcIjAuMDFcIixcInRrX2ZsaW50XCIsXCJwYmpzLmxpdGVcIixcInBfc2NyZWVuX3Jlc1wiLHdpbmRvdy5zY3JlZW4ud2lkdGgrXCJ4XCIrd2luZG93LnNjcmVlbi5oZWlnaHQsXCJrd1wiLGQsXCJ0a191c2VyX2tleVwiLGxdO3JldHVybiBudWxsIT09dSYmXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgdT9cInVuZGVmaW5lZFwiOnModSkpJiZiLl9lYWNoKHUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZy5wdXNoKFwidGdfdi5cIit0LGUpfSksbnVsbCE9PWMmJlwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGM/XCJ1bmRlZmluZWRcIjpzKGMpKSYmYi5fZWFjaChjLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcucHVzaChcInRnX2kuXCIrdCxlKX0pLGcucHVzaChcInJhbmRcIixNYXRoLnJhbmRvbSgpLFwicmZcIixmP2Y6Yi5nZXRUb3BXaW5kb3dVcmwoKSksZy5yZWR1Y2UoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuJTI9PT0wJiZ2b2lkIDAhPT1nW24rMV0/ZSt0K1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChnW24rMV0pK1wiJlwiOmV9LFwiLy9mYXN0bGFuZS5ydWJpY29ucHJvamVjdC5jb20vYS9hcGkvZmFzdGxhbmUuanNvbj9cIikuc2xpY2UoMCwtMSl9ZnVuY3Rpb24gbihlLHQpe3ZhciBuPUpTT04ucGFyc2UoZSk7aWYoXCJvYmplY3RcIiE9PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygbj9cInVuZGVmaW5lZFwiOnMobikpfHxcIm9rXCIhPT1uLnN0YXR1c3x8IUFycmF5LmlzQXJyYXkobi5hZHMpfHxuLmFkcy5sZW5ndGg8MSl0aHJvd1wiYmFkIHJlc3BvbnNlXCI7dmFyIG89bi5hZHM7bz1vLnNvcnQociksby5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKFwib2tcIiE9PWUuc3RhdHVzKXRocm93XCJiYWQgYWQgc3RhdHVzXCI7dmFyIG49ZltcImRlZmF1bHRcIl0uY3JlYXRlQmlkKHkuU1RBVFVTLkdPT0QsdCk7bi5jcmVhdGl2ZV9pZD1lLmFkX2lkLG4uYmlkZGVyQ29kZT10LmJpZGRlcixuLmNwbT1lLmNwbXx8MCxuLmFkPWkoZS5zY3JpcHQsZS5pbXByZXNzaW9uX2lkKTt2YXIgcj1BW2Uuc2l6ZV9pZF0uc3BsaXQoXCJ4XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKGUpfSksbz1kKHIsMik7bi53aWR0aD1vWzBdLG4uaGVpZ2h0PW9bMV0sbi5kZWFsSWQ9ZS5kZWFsLGdbXCJkZWZhdWx0XCJdLmFkZEJpZFJlc3BvbnNlKHQucGxhY2VtZW50Q29kZSxuKX0pfWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4odC5jcG18fDApLShlLmNwbXx8MCl9dmFyIGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIjxodG1sPlxcbjxoZWFkPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz5pbkRhcElGPXRydWU7PC9zY3JpcHQ+PC9oZWFkPlxcbjxib2R5IHN0eWxlPSdtYXJnaW4gOiAwOyBwYWRkaW5nOiAwOyc+XFxuPCEtLSBSdWJpY29uIFByb2plY3QgQWQgVGFnIC0tPlxcbjxkaXYgZGF0YS1ycC1pbXByZXNzaW9uLWlkPSdcIit0K1wiJz5cXG48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+XCIrZStcIjwvc2NyaXB0PlxcbjwvZGl2PlxcbjwvYm9keT5cXG48L2h0bWw+XCJ9O3JldHVybiBhKGMuY3JlYXRlTmV3KGgpLHtjYWxsQmlkczplLGNyZWF0ZU5ldzpvLmNyZWF0ZU5ld30pfXZhciBhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9LGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEsZD1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9ZC5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChzKXtpPSEwLG89c31maW5hbGx5e3RyeXshciYmZFtcInJldHVyblwiXSYmZFtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn1yZXR1cm4gZnVuY3Rpb24odCxuKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpcmV0dXJuIGUodCxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCkscz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSx1PW4oMTApLGM9aSh1KSxsPW4oMTEpLGY9cihsKSxwPW4oMTIpLGc9cihwKSxtPW4oMiksYj1pKG0pLHY9bigxNCkseT1uKDMpLGg9XCJydWJpY29uXCIsQT17MTpcIjQ2OHg2MFwiLDI6XCI3Mjh4OTBcIiw4OlwiMTIweDYwMFwiLDk6XCIxNjB4NjAwXCIsMTA6XCIzMDB4NjAwXCIsMTU6XCIzMDB4MjUwXCIsMTY6XCIzMzZ4MjgwXCIsMTk6XCIzMDB4MTAwXCIsNDM6XCIzMjB4NTBcIiw0NDpcIjMwMHg1MFwiLDQ4OlwiMzAweDMwMFwiLDU0OlwiMzAweDEwNTBcIiw1NTpcIjk3MHg5MFwiLDU3OlwiOTcweDI1MFwiLDU4OlwiMTAwMHg5MFwiLDU5OlwiMzIweDgwXCIsNjE6XCIxMDAweDEwMDBcIiw2NTpcIjY0MHg0ODBcIiw2NzpcIjMyMHg0ODBcIiw2ODpcIjE4MDB4MTAwMFwiLDcyOlwiMzIweDMyMFwiLDczOlwiMzIweDE2MFwiLDgzOlwiNDgweDMwMFwiLDk0OlwiOTcweDMxMFwiLDk2OlwiOTcweDIxMFwiLDEwMTpcIjQ4MHgzMjBcIiwxMDI6XCI3Njh4MTAyNFwiLDExMzpcIjEwMDB4MzAwXCIsMTE3OlwiMzIweDEwMFwiLDEyNTpcIjgwMHgyNTBcIiwxMjY6XCIyMDB4NjAwXCJ9O2IuX2VhY2goQSxmdW5jdGlvbihlLHQpe3JldHVybiBBW2VdPXR9KSxvLm1hc1NpemVPcmRlcmluZz1mdW5jdGlvbihlKXt2YXIgdD1bMTUsMiw5XTtyZXR1cm4gYi5wYXJzZVNpemVzSW5wdXQoZSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49cGFyc2VJbnQoQVt0XSwxMCk7cmV0dXJuIG4mJmUucHVzaChuKSxlfSxbXSkuc29ydChmdW5jdGlvbihlLG4pe3ZhciByPXQuaW5kZXhPZihlKSxpPXQuaW5kZXhPZihuKTtyZXR1cm4gcj4tMXx8aT4tMT8tMT09PXI/MTotMT09PWk/LTE6ci1pOmUtbn0pfSxvLmNyZWF0ZU5ldz1mdW5jdGlvbigpe3JldHVybiBuZXcgb30sZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtmdW5jdGlvbiB0KGUpe2k9ZX1mdW5jdGlvbiBuKCl7cmV0dXJuIGl9ZnVuY3Rpb24gcigpe312YXIgaT1lO3JldHVybntjYWxsQmlkczpyLHNldEJpZGRlckNvZGU6dCxnZXRCaWRkZXJDb2RlOm59fXQuY3JlYXRlTmV3PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbihlKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCl7ZnVuY3Rpb24gbigpe3N3aXRjaChvKXtjYXNlIDA6cmV0dXJuXCJQZW5kaW5nXCI7Y2FzZSAxOnJldHVyblwiQmlkIGF2YWlsYWJsZVwiO2Nhc2UgMjpyZXR1cm5cIkJpZCByZXR1cm5lZCBlbXB0eSBvciBlcnJvciByZXNwb25zZVwiO2Nhc2UgMzpyZXR1cm5cIkJpZCB0aW1lZCBvdXRcIn19dmFyIHI9dCYmdC5iaWRJZHx8aS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksbz1lfHwwO3RoaXMuYmlkZGVyQ29kZT1cIlwiLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuc3RhdHVzTWVzc2FnZT1uKCksdGhpcy5hZElkPXIsdGhpcy5nZXRTdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIG99LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoK1wieFwiK3RoaXMuaGVpZ2h0fX12YXIgaT1uKDIpO3QuY3JlYXRlQmlkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyhGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShyLFtudWxsXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpKVxufX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX1mdW5jdGlvbiBpKGUpe3JldHVybiBlLmJpZGRlckNvZGV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZS5iaWRkZXJ9ZnVuY3Rpb24gYShlKXt2YXIgdD10aGlzLG49cGJqcy5fYmlkc1JlcXVlc3RlZC5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4uYmlkcy5maWx0ZXIoQS5hZFVuaXRzRmlsdGVyLmJpbmQodCxwYmpzLl9hZFVuaXRDb2RlcykpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5wbGFjZW1lbnRDb2RlPT09ZX0pfSkucmVkdWNlKEEuZmxhdHRlbikubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiaW5kZXhFeGNoYW5nZVwiPT09ZS5iaWRkZXI/ZS5zaXplcy5sZW5ndGg6MX0pLnJlZHVjZShkLDApLHI9cGJqcy5fYmlkc1JlY2VpdmVkLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pLmxlbmd0aDtyZXR1cm4gbj09PXJ9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBlK3R9ZnVuY3Rpb24gcygpe3ZhciBlPXBianMuX2JpZHNSZXF1ZXN0ZWQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KS5yZWR1Y2UoQS5mbGF0dGVuKS5maWx0ZXIoQS5hZFVuaXRzRmlsdGVyLmJpbmQodGhpcyxwYmpzLl9hZFVuaXRDb2RlcykpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cImluZGV4RXhjaGFuZ2VcIj09PWUuYmlkZGVyP2Uuc2l6ZXMubGVuZ3RoOjF9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0fSwwKSx0PXBianMuX2JpZHNSZWNlaXZlZC5maWx0ZXIoQS5hZFVuaXRzRmlsdGVyLmJpbmQodGhpcyxwYmpzLl9hZFVuaXRDb2RlcykpLmxlbmd0aDtyZXR1cm4gZT09PXR9ZnVuY3Rpb24gdShlLHQpe3JldHVybiBwYmpzLl9iaWRzUmVxdWVzdGVkLmZpbmQoZnVuY3Rpb24obil7cmV0dXJuIG4uYmlkcy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4uYmlkZGVyPT09ZSYmbi5wbGFjZW1lbnRDb2RlPT09dH0pLmxlbmd0aD4wfSl8fHtzdGFydDpudWxsLHJlcXVlc3RJZDpudWxsfX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49e30scj1wYmpzLmJpZGRlclNldHRpbmdzO2lmKHQmJnIpe3ZhciBpPWIoKTtsKG4saSx0KX1yZXR1cm4gZSYmdCYmciYmcltlXSYmcltlXVtULkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddPyhsKG4scltlXSx0KSx0LmFsd2F5c1VzZUJpZD1yW2VdLmFsd2F5c1VzZUJpZCx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1yW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyk6QltlXSYmKGwobixCW2VdLHQpLHQuYWx3YXlzVXNlQmlkPUJbZV0uYWx3YXlzVXNlQmlkLHQuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nPUJbZV0uc2VuZFN0YW5kYXJkVGFyZ2V0aW5nKSxufWZ1bmN0aW9uIGwoZSx0LG4pe3ZhciByPXRbVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtyZXR1cm4gbi5zaXplPW4uZ2V0U2l6ZSgpLEUuX2VhY2gocixmdW5jdGlvbihyKXt2YXIgaT1yLmtleSxvPXIudmFsO2lmKGVbaV0mJkUubG9nV2FybihcIlRoZSBrZXk6IFwiK2krXCIgaXMgZ2V0dGluZyBvdmV3cml0dGVuXCIpLEUuaXNGbihvKSl0cnl7bz1vKG4pfWNhdGNoKGEpe0UubG9nRXJyb3IoXCJiaWRtYW5hZ2VyXCIsXCJFUlJPUlwiLGEpfVwidW5kZWZpbmVkXCI9PXR5cGVvZiB0LnN1cHByZXNzRW1wdHlLZXlzfHx0LnN1cHByZXNzRW1wdHlLZXlzIT09ITB8fCFFLmlzRW1wdHlTdHIobykmJm51bGwhPT1vJiZ2b2lkIDAhPT1vP2VbaV09bzpFLmxvZ0luZm8oXCJzdXBwcmVzc2luZyBlbXB0eSBrZXkgJ1wiK2krXCInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nXCIpfSksZX1mdW5jdGlvbiBmKGUpe3ZhciB0PVtlXTtwKHcuYnlBZFVuaXQsdCl9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPXRoaXM7RS5pc0FycmF5KGUpJiZlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dHx8cGJqcy5fYWRVbml0Q29kZXMsaT1bcGJqcy5fYmlkc1JlY2VpdmVkLmZpbHRlcihBLmFkVW5pdHNGaWx0ZXIuYmluZChuLHIpKS5yZWR1Y2UoZyx7fSldO2UuYXBwbHkocGJqcyxpKX0pfWZ1bmN0aW9uIGcoZSx0LG4scil7cmV0dXJuIHQuYWRVbml0Q29kZSBpbiBPYmplY3Qua2V5cyhlKT9lOihlW3QuYWRVbml0Q29kZV09e2JpZHM6ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZX0pfSxlKX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuYmlkZGVyQ29kZSxuPWUuY3BtO2lmKHQmJnBianMuYmlkZGVyU2V0dGluZ3MmJnBianMuYmlkZGVyU2V0dGluZ3NbdF0mJnkocGJqcy5iaWRkZXJTZXR0aW5nc1t0XS5iaWRDcG1BZGp1c3RtZW50KT09PVMpdHJ5e249cGJqcy5iaWRkZXJTZXR0aW5nc1t0XS5iaWRDcG1BZGp1c3RtZW50LmNhbGwobnVsbCxlLmNwbSxFLmV4dGVuZCh7fSxlKSl9Y2F0Y2gocil7RS5sb2dFcnJvcihcIkVycm9yIGR1cmluZyBiaWQgYWRqdXN0bWVudFwiLFwiYmlkbWFuYWdlci5qc1wiLHIpfW4+PTAmJihlLmNwbT1uKX1mdW5jdGlvbiBiKCl7dmFyIGU9cGJqcy5iaWRkZXJTZXR0aW5ncztyZXR1cm4gZVtULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXXx8KGVbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF09e2Fkc2VydmVyVGFyZ2V0aW5nOlt7a2V5OlwiaGJfYmlkZGVyXCIsdmFsOmZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGV9fSx7a2V5OlwiaGJfYWRpZFwiLHZhbDpmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkfX0se2tleTpcImhiX3BiXCIsdmFsOmZ1bmN0aW9uKGUpe3JldHVybiBDPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkFVVE8/ZS5wYkFnOkM9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuREVOU0U/ZS5wYkRnOkM9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuTE9XP2UucGJMZzpDPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLk1FRElVTT9lLnBiTWc6Qz09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5ISUdIP2UucGJIZzpDPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkNVU1RPTT9lLnBiQ2c6dm9pZCAwfX0se2tleTpcImhiX3NpemVcIix2YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2l6ZX19XX0pLGVbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF19ZnVuY3Rpb24gdigpe3JldHVybiBiKClbVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXX12YXIgeT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9LEE9bigyKSxJPW4oMTMpLFQ9bigzKSxFPW4oMiksXz1uKDgpLFM9XCJmdW5jdGlvblwiLHc9e2J5QWRVbml0OltdLGFsbDpbXSxvbmVUaW1lOm51bGwsdGltZXI6ITF9LEM9VC5HUkFOVUxBUklUWV9PUFRJT05TLk1FRElVTSxPPXZvaWQgMCxCPXt9O3Quc2V0Q3VzdG9tUHJpY2VCdWNrZXQ9ZnVuY3Rpb24oZSl7Tz1lfSx0LmdldFRpbWVkT3V0QmlkZGVycz1mdW5jdGlvbigpe3JldHVybiBwYmpzLl9iaWRzUmVxdWVzdGVkLm1hcChpKS5maWx0ZXIoQS51bmlxdWVzKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHBianMuX2JpZHNSZWNlaXZlZC5tYXAobykuZmlsdGVyKEEudW5pcXVlcykuaW5kZXhPZihlKTwwfSl9LHQuYmlkc0JhY2tBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gcygpfSx0LmFkZEJpZFJlc3BvbnNlPWZ1bmN0aW9uKGUsbil7aWYobil7dmFyIGk9dShuLmJpZGRlckNvZGUsZSksbz1pLnJlcXVlc3RJZCxkPWkuc3RhcnQ7aWYoaChuLHtyZXF1ZXN0SWQ6byxyZXNwb25zZVRpbWVzdGFtcDpyKCkscmVxdWVzdFRpbWVzdGFtcDpkLGNwbTpuLmNwbXx8MCxiaWRkZXI6bi5iaWRkZXJDb2RlLGFkVW5pdENvZGU6ZX0pLG4udGltZVRvUmVzcG9uZD1uLnJlc3BvbnNlVGltZXN0YW1wLW4ucmVxdWVzdFRpbWVzdGFtcCxuLnRpbWVUb1Jlc3BvbmQ+cGJqcy5jYlRpbWVvdXQrcGJqcy50aW1lb3V0QnVmZmVyKXt2YXIgbD0hMDt0LmV4ZWN1dGVDYWxsYmFjayhsKX1fLmVtaXQoVC5FVkVOVFMuQklEX0FESlVTVE1FTlQsbiksXy5lbWl0KFQuRVZFTlRTLkJJRF9SRVNQT05TRSxuKTt2YXIgcD1JLmdldFByaWNlQnVja2V0U3RyaW5nKG4uY3BtLE8pO24ucGJMZz1wLmxvdyxuLnBiTWc9cC5tZWQsbi5wYkhnPXAuaGlnaCxuLnBiQWc9cC5hdXRvLG4ucGJEZz1wLmRlbnNlLG4ucGJDZz1wLmN1c3RvbTt2YXIgZz17fTtuLmJpZGRlckNvZGUmJjAhPT1uLmNwbSYmKGc9YyhuLmJpZGRlckNvZGUsbiksbi5kZWFsSWQmJihnW1wiaGJfZGVhbF9cIituLmJpZGRlckNvZGVdPW4uZGVhbElkKSxuLmFkc2VydmVyVGFyZ2V0aW5nPWcpLHBianMuX2JpZHNSZWNlaXZlZC5wdXNoKG4pfW4mJm4uYWRVbml0Q29kZSYmYShuLmFkVW5pdENvZGUpJiZmKG4uYWRVbml0Q29kZSkscygpJiZ0LmV4ZWN1dGVDYWxsYmFjaygpfSx0LmdldEtleVZhbHVlVGFyZ2V0aW5nUGFpcnM9ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sdC5zZXRQcmljZUdyYW51bGFyaXR5PWZ1bmN0aW9uKGUpe3ZhciB0PVQuR1JBTlVMQVJJVFlfT1BUSU9OUztPYmplY3Qua2V5cyh0KS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIGU9PT10W25dfSk/Qz1lOihFLmxvZ1dhcm4oXCJQcmViaWQgV2FybmluZzogc2V0UHJpY2VHcmFudWxhcml0eSB3YXMgY2FsbGVkIHdpdGggaW52YWxpZCBzZXR0aW5nLCB1c2luZyBgbWVkaXVtYCBhcyBkZWZhdWx0LlwiKSxDPVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0pfSx0LnJlZ2lzdGVyRGVmYXVsdEJpZGRlclNldHRpbmc9ZnVuY3Rpb24oZSx0KXtCW2VdPXR9LHQuZXhlY3V0ZUNhbGxiYWNrPWZ1bmN0aW9uKGUpe2lmKCFlJiZ3LnRpbWVyJiZjbGVhclRpbWVvdXQody50aW1lciksdy5hbGwuY2FsbGVkIT09ITAmJihwKHcuYWxsKSx3LmFsbC5jYWxsZWQ9ITAsZSkpe3ZhciBuPXQuZ2V0VGltZWRPdXRCaWRkZXJzKCk7bi5sZW5ndGgmJl8uZW1pdChULkVWRU5UUy5CSURfVElNRU9VVCxuKX1pZih3Lm9uZVRpbWUpdHJ5e3AoW3cub25lVGltZV0pfWZpbmFsbHl7dy5vbmVUaW1lPW51bGwsdy50aW1lcj0hMSxwYmpzLmNsZWFyQXVjdGlvbigpfX0sdC5leHRlcm5hbENhbGxiYWNrUmVzZXQ9ZnVuY3Rpb24oKXt3LmFsbC5jYWxsZWQ9ITF9LHQuYWRkT25lVGltZUNhbGxiYWNrPWZ1bmN0aW9uKGUsdCl7dy5vbmVUaW1lPWUsdy50aW1lcj10fSx0LmFkZENhbGxiYWNrPWZ1bmN0aW9uKGUsdCxuKXt0LmlkPWUsVC5DQi5UWVBFLkFMTF9CSURTX0JBQ0s9PT1uP3cuYWxsLnB1c2godCk6VC5DQi5UWVBFLkFEX1VOSVRfQklEU19CQUNLPT09biYmdy5ieUFkVW5pdC5wdXNoKHQpfSxfLm9uKFQuRVZFTlRTLkJJRF9BREpVU1RNRU5ULGZ1bmN0aW9uKGUpe20oZSl9KSx0LmFkanVzdEJpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gbS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sdC5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nPXZ9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPTA7cmV0dXJuIG49cGFyc2VGbG9hdChlKSxpc05hTihuKSYmKG49XCJcIikse2xvdzpcIlwiPT09bj9cIlwiOnIoZSxkKSxtZWQ6XCJcIj09PW4/XCJcIjpyKGUscyksaGlnaDpcIlwiPT09bj9cIlwiOnIoZSx1KSxhdXRvOlwiXCI9PT1uP1wiXCI6cihlLGwpLGRlbnNlOlwiXCI9PT1uP1wiXCI6cihlLGMpLGN1c3RvbTpcIlwiPT09bj9cIlwiOnIoZSx0KX19ZnVuY3Rpb24gcihlLHQpe3ZhciBuPVwiXCI7aWYoIWkodCkpcmV0dXJuIG47dmFyIHI9dC5idWNrZXRzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLm1heD50Lm1heD9lOnR9LHttYXg6MH0pLGQ9dC5idWNrZXRzLmZpbmQoZnVuY3Rpb24odCl7aWYoZT5yLm1heCl7dmFyIGk9dC5wcmVjaXNpb258fGE7bj10Lm1heC50b0ZpeGVkKGkpfWVsc2UgaWYoZTw9dC5tYXgmJmU+PXQubWluKXJldHVybiB0fSk7cmV0dXJuIGQmJihuPW8oZSxkLmluY3JlbWVudCxkLnByZWNpc2lvbikpLG59ZnVuY3Rpb24gaShlKXtpZighZXx8IWUuYnVja2V0c3x8IUFycmF5LmlzQXJyYXkoZS5idWNrZXRzKSlyZXR1cm4hMTt2YXIgdD0hMDtyZXR1cm4gZS5idWNrZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUubWluJiZlLm1heCYmZS5pbmNyZW1lbnR8fCh0PSExKX0pLHR9ZnVuY3Rpb24gbyhlLHQsbil7bnx8KG49YSk7dmFyIHI9MS90O3JldHVybihNYXRoLmZsb29yKGUqcikvcikudG9GaXhlZChuKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT0yLGQ9e2J1Y2tldHM6W3ttaW46MCxtYXg6NSxpbmNyZW1lbnQ6LjV9XX0scz17YnVja2V0czpbe21pbjowLG1heDoyMCxpbmNyZW1lbnQ6LjF9XX0sdT17YnVja2V0czpbe21pbjowLG1heDoyMCxpbmNyZW1lbnQ6LjAxfV19LGM9e2J1Y2tldHM6W3ttaW46MCxtYXg6MyxpbmNyZW1lbnQ6LjAxfSx7bWluOjMsbWF4OjgsaW5jcmVtZW50Oi4wNX0se21pbjo4LG1heDoyMCxpbmNyZW1lbnQ6LjV9XX0sbD17YnVja2V0czpbe21pbjowLG1heDo1LGluY3JlbWVudDouMDV9LHttaW46NSxtYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWluOjEwLG1heDoyMCxpbmNyZW1lbnQ6LjV9XX07dC5nZXRQcmljZUJ1Y2tldFN0cmluZz1uLHQuaXNWYWxpZGVQcmljZUNvbmZpZz1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQsbil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O3RyeXshZnVuY3Rpb24oKXt2YXIgcz12b2lkIDAsdT0hMSxjPXIubWV0aG9kfHwobj9cIlBPU1RcIjpcIkdFVFwiKTtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3Q/KHM9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCx2b2lkIDA9PT1zLnJlc3BvbnNlVHlwZSYmKHU9ITApKTp1PSEwLHU/KHM9bmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdCxzLm9ubG9hZD1mdW5jdGlvbigpe3Qocy5yZXNwb25zZVRleHQscyl9LHMub25lcnJvcj1mdW5jdGlvbigpe2EubG9nTWVzc2FnZShcInhociBvbmVycm9yXCIpfSxzLm9udGltZW91dD1mdW5jdGlvbigpe2EubG9nTWVzc2FnZShcInhociB0aW1lb3V0XCIpfSxzLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXthLmxvZ01lc3NhZ2UoXCJ4aHIgb25wcm9ncmVzc1wiKX0pOnMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7cy5yZWFkeVN0YXRlPT09ZCYmdCYmdChzLnJlc3BvbnNlVGV4dCxzKX0sXCJHRVRcIj09PWMmJm4pe3ZhciBsPW8ucGFyc2UoZSk7aShsLnNlYXJjaCxuKSxlPW8uZm9ybWF0KGwpfXMub3BlbihjLGUpLHV8fChyLndpdGhDcmVkZW50aWFscyYmKHMud2l0aENyZWRlbnRpYWxzPSEwKSxyLnByZWZsaWdodCYmcy5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLFwiWE1MSHR0cFJlcXVlc3RcIikscy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsci5jb250ZW50VHlwZXx8XCJ0ZXh0L3BsYWluXCIpKSxzLnNlbmQoXCJQT1NUXCI9PT1jJiZuKX0oKX1jYXRjaChzKXthLmxvZ0Vycm9yKFwieGhyIGNvbnN0cnVjdGlvblwiLHMpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfTt0LmFqYXg9cjt2YXIgbz1uKDE1KSxhPW4oMiksZD00fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC9eXFw/LyxcIlwiKS5zcGxpdChcIiZcIikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5zcGxpdChcIj1cIikscj1hKG4sMiksaT1yWzBdLG89clsxXTtyZXR1cm4vXFxbXFxdJC8udGVzdChpKT8oaT1pLnJlcGxhY2UoXCJbXVwiLFwiXCIpLGVbaV09ZVtpXXx8W10sZVtpXS5wdXNoKG8pKTplW2ldPW98fFwiXCIsZX0se30pOnt9fWZ1bmN0aW9uIHIoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlW3RdKT9lW3RdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdCtcIltdPVwiK2V9KS5qb2luKFwiJlwiKTp0K1wiPVwiK2VbdF19KS5qb2luKFwiJlwiKX1mdW5jdGlvbiBpKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiB0LmhyZWY9ZGVjb2RlVVJJQ29tcG9uZW50KGUpLHtwcm90b2NvbDoodC5wcm90b2NvbHx8XCJcIikucmVwbGFjZSgvOiQvLFwiXCIpLGhvc3RuYW1lOnQuaG9zdG5hbWUscG9ydDordC5wb3J0LHBhdGhuYW1lOnQucGF0aG5hbWUsc2VhcmNoOm4odC5zZWFyY2h8fFwiXCIpLGhhc2g6KHQuaGFzaHx8XCJcIikucmVwbGFjZSgvXiMvLFwiXCIpLGhvc3Q6dC5ob3N0fX1mdW5jdGlvbiBvKGUpe3JldHVybihlLnByb3RvY29sfHxcImh0dHBcIikrXCI6Ly9cIisoZS5ob3N0fHxlLmhvc3RuYW1lKyhlLnBvcnQ/XCI6XCIrZS5wb3J0OlwiXCIpKSsoZS5wYXRobmFtZXx8XCJcIikrKGUuc2VhcmNoP1wiP1wiK3IoZS5zZWFyY2h8fFwiXCIpOlwiXCIpKyhlLmhhc2g/XCIjXCIrZS5oYXNoOlwiXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGQ9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPWQubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2gocyl7aT0hMCxvPXN9ZmluYWxseXt0cnl7IXImJmRbXCJyZXR1cm5cIl0mJmRbXCJyZXR1cm5cIl0oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59cmV0dXJuIGZ1bmN0aW9uKHQsbil7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBlKHQsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpO3QucGFyc2VRUz1uLHQuZm9ybWF0UVM9cix0LnBhcnNlPWksdC5mb3JtYXQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfXZhciBpPXIoW1wiXCIsXCI6Ly9cIixcIi9wdWJhcGkvMy4wL1wiLFwiL1wiLFwiL1wiLFwiL1wiLFwiL0FEVEVDSDt2PTI7Y21kPWJpZDtjb3JzPXllczthbGlhcz1cIixcIlwiLFwiO21pc2M9XCIsXCJcIl0sW1wiXCIsXCI6Ly9cIixcIi9wdWJhcGkvMy4wL1wiLFwiL1wiLFwiL1wiLFwiL1wiLFwiL0FEVEVDSDt2PTI7Y21kPWJpZDtjb3JzPXllczthbGlhcz1cIixcIlwiLFwiO21pc2M9XCIsXCJcIl0pLG89bigyKSxhPW4oMTQpLmFqYXgsZD1uKDExKSxzPW4oMTIpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkodD4xP3QtMTowKSxyPTE7dD5yO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodCksaT0wO3Q+aTtpKyspcltpXT1hcmd1bWVudHNbaV07dmFyIG89cltyLmxlbmd0aC0xXXx8e30sYT1bZVswXV07cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbih0LG4pe3ZhciBpPU51bWJlci5pc0ludGVnZXIodCk/clt0XTpvW3RdO2EucHVzaChpLGVbbisxXSl9KSxhLmpvaW4oXCJcIil9fWZ1bmN0aW9uIHQoZSl7dmFyIHQ9ZS5wYXJhbXMsbj10LnNlcnZlcixyPXQucmVnaW9ufHxcInVzXCIsaT12b2lkIDA7cmV0dXJuIHAuaGFzT3duUHJvcGVydHkocil8fChvLmxvZ1dhcm4oXCJVbmtub3duIHJlZ2lvbiAnXCIrcitcIicgZm9yIEFPTCBiaWRkZXIuXCIpLHI9XCJ1c1wiKSxpPW4/bjpwW3JdLHQucmVnaW9uPXIsbCh7cHJvdG9jb2w6XCJodHRwczpcIj09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sP1wiaHR0cHNcIjpcImh0dHBcIixob3N0OmksbmV0d29yazp0Lm5ldHdvcmsscGxhY2VtZW50OnBhcnNlSW50KHQucGxhY2VtZW50KSxwYWdlaWQ6dC5wYWdlSWR8fDAsc2l6ZWlkOnQuc2l6ZUlkfHwwLGFsaWFzOnQuYWxpYXN8fG8uZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGJpZGZsb29yOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmJpZEZsb29yP1wiO2JpZGZsb29yPVwiK3QuYmlkRmxvb3IudG9TdHJpbmcoKTpcIlwiLG1pc2M6KG5ldyBEYXRlKS5nZXRUaW1lKCl9KX1mdW5jdGlvbiBuKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWQuY3JlYXRlQmlkKDIsZSk7bi5iaWRkZXJDb2RlPWYsbi5yZWFzb249dC5uYnIsbi5yYXc9dCxzLmFkZEJpZFJlc3BvbnNlKGUucGxhY2VtZW50Q29kZSxuKX1mdW5jdGlvbiByKGUsdCl7dmFyIHI9dm9pZCAwO3RyeXtyPXQuc2VhdGJpZFswXS5iaWRbMF19Y2F0Y2goaSl7cmV0dXJuIG4oZSx0KSx2b2lkIDB9dmFyIGE9dm9pZCAwO2lmKHIuZXh0JiZyLmV4dC5lbmNwKWE9ci5leHQuZW5jcDtlbHNlIGlmKGE9ci5wcmljZSxudWxsPT09YXx8aXNOYU4oYSkpcmV0dXJuIG8ubG9nRXJyb3IoXCJJbnZhbGlkIHByaWNlIGluIGJpZCByZXNwb25zZVwiLGYsZSksbihlLHQpLHZvaWQgMDt2YXIgdT1yLmFkbTt0LmV4dCYmdC5leHQucGl4ZWxzJiYodSs9dC5leHQucGl4ZWxzKTt2YXIgYz1kLmNyZWF0ZUJpZCgxLGUpO2MuYmlkZGVyQ29kZT1mLGMuYWQ9dSxjLmNwbT1hLGMud2lkdGg9ci53LGMuaGVpZ2h0PXIuaCxjLmNyZWF0aXZlSWQ9ci5jcmlkLGMucHViYXBpSWQ9dC5pZCxjLmN1cnJlbmN5Q29kZT10LmN1cixyLmRlYWxpZCYmKGMuZGVhbElkPXIuZGVhbGlkKSxzLmFkZEJpZFJlc3BvbnNlKGUucGxhY2VtZW50Q29kZSxjKX1mdW5jdGlvbiB1KGUpe28uX2VhY2goZS5iaWRzLGZ1bmN0aW9uKGUpe3ZhciBpPXQoZSk7YShpLGZ1bmN0aW9uKHQpe2lmKGMmJnBianMuYmlkZGVyU2V0dGluZ3MmJnBianMuYmlkZGVyU2V0dGluZ3MuYW9sJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwYmpzLmJpZGRlclNldHRpbmdzLmFvbC5iaWRDcG1BZGp1c3RtZW50JiZvLmxvZ1dhcm4oXCJiaWRDcG1BZGp1c3RtZW50IGlzIGFjdGl2ZSBmb3IgdGhlIEFPTCBhZGFwdGVyLiBBcyBvZiBQcmViaWQgMC4xNCwgQU9MIGNhbiBiaWQgaW4gbmV0IOKAkyBwbGVhc2UgY29udGFjdCB5b3VyIGFjY291bnRzIHRlYW0gdG8gZW5hYmxlLlwiKSxjPSExLCF0JiZ0Lmxlbmd0aDw9MClyZXR1cm4gby5sb2dFcnJvcihcIkVtcHR5IGJpZCByZXNwb25zZVwiLGYsZSksbihlLHQpLHZvaWQgMDt0cnl7dD1KU09OLnBhcnNlKHQpfWNhdGNoKGkpe3JldHVybiBvLmxvZ0Vycm9yKFwiSW52YWxpZCBKU09OIGluIGJpZCByZXNwb25zZVwiLGYsZSksbihlLHQpLHZvaWQgMH1yKGUsdCl9LG51bGwse3dpdGhDcmVkZW50aWFsczohMH0pfSl9dmFyIGM9ITAsbD1lKGksXCJwcm90b2NvbFwiLFwiaG9zdFwiLFwibmV0d29ya1wiLFwicGxhY2VtZW50XCIsXCJwYWdlaWRcIixcInNpemVpZFwiLFwiYWxpYXNcIixcImJpZGZsb29yXCIsXCJtaXNjXCIpLGY9XCJhb2xcIixwPXt1czpcImFkc2VydmVyLXVzLmFkdGVjaC5hZHZlcnRpc2luZy5jb21cIixldTpcImFkc2VydmVyLWV1LmFkdGVjaC5hZHZlcnRpc2luZy5jb21cIixhczpcImFkc2VydmVyLWFzLmFkdGVjaC5hZHZlcnRpc2luZy5jb21cIn07cmV0dXJue2NhbGxCaWRzOnV9fTtlLmV4cG9ydHM9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9bigyKSxvPW4oMyksYT1uKDIpLGQ9bigxOCkscz1uKDEyKSx1PW4oMTEpLGM9bigxMCk7cj1mdW5jdGlvbiBsKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoXCJwbGFjZW1lbnRJZFwiLGUucGFyYW1zKSxyPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoXCJtZW1iZXJJZFwiLGUucGFyYW1zKSxpPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoXCJtZW1iZXJcIixlLnBhcmFtcyksbz1hLmdldEJpZElkUGFyYW1ldGVyKFwiaW52Q29kZVwiLGUucGFyYW1zKSxkPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoXCJxdWVyeVwiLGUucGFyYW1zKSxzPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoXCJyZWZlcnJlclwiLGUucGFyYW1zKSx1PWEuZ2V0QmlkSWRQYXJhbWV0ZXIoXCJhbHRfcmVmZXJyZXJcIixlLnBhcmFtcyksYz1cImh0dHBcIisoXCJodHRwczpcIj09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sP1wiczovL3NlY3VyZS5hZG54cy5jb20vanB0P1wiOlwiOi8vaWIuYWRueHMuY29tL2pwdD9cIik7Yz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJjYWxsYmFja1wiLFwicGJqcy5oYW5kbGVBbkNCXCIpLGM9YS50cnlBcHBlbmRRdWVyeVN0cmluZyhjLFwiY2FsbGJhY2tfdWlkXCIsdCksYz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJwc2FcIixcIjBcIiksYz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJpZFwiLG4pLGk/Yz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJtZW1iZXJcIixpKTpyJiYoYz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJtZW1iZXJcIixyKSxhLmxvZ01lc3NhZ2UoJ2FwcG5leHVzLmNhbGxCaWRzOiBcIm1lbWJlcklkXCIgd2lsbCBiZSBkZXByZWNhdGVkIHNvb24uIFBsZWFzZSB1c2UgXCJtZW1iZXJcIiBpbnN0ZWFkJykpLGM9YS50cnlBcHBlbmRRdWVyeVN0cmluZyhjLFwiY29kZVwiLG8pO3ZhciBsPVwiXCIsZj1hLnBhcnNlU2l6ZXNJbnB1dChlLnNpemVzKSxwPWYubGVuZ3RoO2lmKHA+MCYmKGw9XCJzaXplPVwiK2ZbMF0scD4xKSl7bCs9XCImcHJvbW9fc2l6ZXM9XCI7Zm9yKHZhciBnPTE7cD5nO2crKylsKz1mW2ddKz1cIixcIjtsJiZcIixcIj09PWwuY2hhckF0KGwubGVuZ3RoLTEpJiYobD1sLnNsaWNlKDAsbC5sZW5ndGgtMSkpfWwmJihjKz1sK1wiJlwiKTt2YXIgbT1hLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKGQpO20mJihjKz1tKTt2YXIgYj1hLmV4dGVuZCh7fSxlLnBhcmFtcyk7ZGVsZXRlIGIucGxhY2VtZW50SWQsZGVsZXRlIGIubWVtYmVySWQsZGVsZXRlIGIuaW52Q29kZSxkZWxldGUgYi5xdWVyeSxkZWxldGUgYi5yZWZlcnJlcixkZWxldGUgYi5hbHRfcmVmZXJyZXIsZGVsZXRlIGIubWVtYmVyO3ZhciB2PWEucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMoYik7cmV0dXJuIHYmJihjKz12KSxcIlwiPT09cyYmKHM9YS5nZXRUb3BXaW5kb3dVcmwoKSksYz1hLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKGMsXCJyZWZlcnJlclwiLHMpLGM9YS50cnlBcHBlbmRRdWVyeVN0cmluZyhjLFwiYWx0X3JlZmVycmVyXCIsdSksYy5sYXN0SW5kZXhPZihcIiZcIik9PT1jLmxlbmd0aC0xJiYoYz1jLnN1YnN0cmluZygwLGMubGVuZ3RoLTEpKSxhLmxvZ01lc3NhZ2UoXCJqcHQgcmVxdWVzdCBidWlsdDogXCIrYyksZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksY312YXIgdD1jLmNyZWF0ZU5ldyhcImFwcG5leHVzXCIpLG49ITE7cmV0dXJuIHQuY2FsbEJpZHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPXQuYmlkcyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl0sbz1pLmJpZElkO2QubG9hZFNjcmlwdChlKGksbykpfX0scGJqcy5oYW5kbGVBbkNCPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUmJmUuY2FsbGJhY2tfdWlkKXt2YXIgcixkPWUuY2FsbGJhY2tfdWlkLGM9XCJcIixsPWkuZ2V0QmlkUmVxdWVzdChkKTtsJiYodD1sLmJpZGRlcixjPWwucGxhY2VtZW50Q29kZSxsLnN0YXR1cz1vLlNUQVRVUy5HT09EKSxhLmxvZ01lc3NhZ2UoXCJKU09OUCBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgZm9yIGFkIElEOiBcIitkKTt2YXIgZj1bXTtpZihlLnJlc3VsdCYmZS5yZXN1bHQuY3BtJiYwIT09ZS5yZXN1bHQuY3BtKXtyPXBhcnNlSW50KGUucmVzdWx0LmNwbSwxMCksci89MWU0O3ZhciBwPWUucmVzdWx0LmNyZWF0aXZlX2lkO2Y9dS5jcmVhdGVCaWQoMSxsKSxmLmNyZWF0aXZlX2lkPXAsZi5iaWRkZXJDb2RlPXQsZi5jcG09cixmLmFkVXJsPWUucmVzdWx0LmFkLGYud2lkdGg9ZS5yZXN1bHQud2lkdGgsZi5oZWlnaHQ9ZS5yZXN1bHQuaGVpZ2h0LGYuZGVhbElkPWUucmVzdWx0LmRlYWxfaWQscy5hZGRCaWRSZXNwb25zZShjLGYpfWVsc2UgYS5sb2dNZXNzYWdlKFwiTm8gcHJlYmlkIHJlc3BvbnNlIGZyb20gQXBwTmV4dXMgZm9yIHBsYWNlbWVudCBjb2RlIFwiK2MpLGY9dS5jcmVhdGVCaWQoMixsKSxmLmJpZGRlckNvZGU9dCxzLmFkZEJpZFJlc3BvbnNlKGMsZik7aWYoIW4pe3ZhciBnPWEuY3JlYXRlSW52aXNpYmxlSWZyYW1lKCk7Zy5zcmM9XCIvL2FjZG4uYWRueHMuY29tL2liL3N0YXRpYy91c2Vyc3luYy92My9hc3luY191c2Vyc3luYy5odG1sXCI7dHJ5e2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZyl9Y2F0Y2gobSl7YS5sb2dFcnJvcihtKX1uPSEwfX1lbHNlIGEubG9nTWVzc2FnZShcIk5vIHByZWJpZCByZXNwb25zZSBmb3IgcGxhY2VtZW50ICUlUExBQ0VNRU5UJSVcIil9LHtjYWxsQmlkczp0LmNhbGxCaWRzLHNldEJpZGRlckNvZGU6dC5zZXRCaWRkZXJDb2RlLGNyZWF0ZU5ldzpsLmNyZWF0ZU5ldyxidWlsZEpQVENhbGw6ZX19LHIuY3JlYXRlTmV3PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByfSxlLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO24udHlwZT1cInRleHQvamF2YXNjcmlwdFwiLG4uYXN5bmM9ITAsdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG4ucmVhZHlTdGF0ZT9uLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyhcImxvYWRlZFwiPT09bi5yZWFkeVN0YXRlfHxcImNvbXBsZXRlXCI9PT1uLnJlYWR5U3RhdGUpJiYobi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0KCkpfTpuLm9ubG9hZD1mdW5jdGlvbigpe3QoKX0pLG4uc3JjPWU7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpO3I9ci5sZW5ndGg/cjpkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIiksci5sZW5ndGgmJihyPXJbMF0sci5pbnNlcnRCZWZvcmUobixyLmZpcnN0Q2hpbGQpKX12YXIgaT1uKDIpLG89e307dC5sb2FkU2NyaXB0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT8obj9vW2VdP3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihvW2VdLmxvYWRlZD90KCk6b1tlXS5jYWxsYmFja3MucHVzaCh0KSk6KG9bZV09e2xvYWRlZDohMSxjYWxsYmFja3M6W119LHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJm9bZV0uY2FsbGJhY2tzLnB1c2godCkscihlLGZ1bmN0aW9uKCl7b1tlXS5sb2FkZWQ9ITA7dHJ5e2Zvcih2YXIgdD0wO3Q8b1tlXS5jYWxsYmFja3MubGVuZ3RoO3QrKylvW2VdLmNhbGxiYWNrc1t0XSgpfWNhdGNoKG4pe2kubG9nRXJyb3IoXCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2tcIixcImFkbG9hZGVyLmpzOmxvYWRTY3JpcHRcIixuKX19KSk6cihlLHQpLHZvaWQgMCk6KGkubG9nRXJyb3IoXCJFcnJvciBhdHRlbXB0aW5nIHRvIHJlcXVlc3QgZW1wdHkgVVJMXCIsXCJhZGxvYWRlci5qczpsb2FkU2NyaXB0XCIpLHZvaWQgMCl9LHQudHJhY2tQaXhlbD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDAsbj12b2lkIDA7cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlPyh0PWUuaW5kZXhPZihcIj9cIik+MD9cIiZcIjpcIj9cIixuPWUrdCtcInJuZD1cIitNYXRoLmZsb29yKDFlNypNYXRoLnJhbmRvbSgpKSwobmV3IEltYWdlKS5zcmM9bixuKTooaS5sb2dNZXNzYWdlKFwiTWlzc2luZyBvciBpbnZhbGlkIHBpeGVsVXJsLlwiKSx2b2lkIDApfX0sZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtBcnJheS5wcm90b3R5cGUuZmluZHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImZpbmRcIix7dmFsdWU6ZnVuY3Rpb24gZSh0KXtpZihudWxsPT09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkucHJvdG90eXBlLmZpbmQgY2FsbGVkIG9uIG51bGwgb3IgdW5kZWZpbmVkXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcInByZWRpY2F0ZSBtdXN0IGJlIGEgZnVuY3Rpb25cIik7Zm9yKHZhciBlLG49T2JqZWN0KHRoaXMpLHI9bi5sZW5ndGg+Pj4wLGk9YXJndW1lbnRzWzFdLG89MDtyPm87bysrKWlmKGU9bltvXSx0LmNhbGwoaSxlLG8sbikpcmV0dXJuIGU7cmV0dXJuIHZvaWQgMH19KSxBcnJheS5wcm90b3R5cGUuaW5jbHVkZXN8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsXCJpbmNsdWRlc1wiLHt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QodGhpcyksbj1wYXJzZUludCh0Lmxlbmd0aCwxMCl8fDA7aWYoMD09PW4pcmV0dXJuITE7dmFyIHIsaT1wYXJzZUludChhcmd1bWVudHNbMV0sMTApfHwwO2k+PTA/cj1pOihyPW4raSwwPnImJihyPTApKTtmb3IodmFyIG87bj5yOyl7aWYobz10W3JdLGU9PT1vfHxlIT09ZSYmbyE9PW8pcmV0dXJuITA7cisrfXJldHVybiExfX0pLE51bWJlci5pc0ludGVnZXI9TnVtYmVyLmlzSW50ZWdlcnx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE1KSxpPWZ1bmN0aW9uKGUpe3RoaXMubmFtZT1lLmFkc2VydmVyLHRoaXMuY29kZT1lLmNvZGUsdGhpcy5nZXRXaW5uaW5nQmlkQnlDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXBianMuX2JpZHNSZWNlaXZlZC5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmNvZGV9KTtyZXR1cm4gdH19O3QuZGZwQWRzZXJ2ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgaShlKTtuLnVybENvbXBvbmVudHM9dDt2YXIgbz17ZW52OlwidnBcIixnZGZwX3JlcTpcIjFcIixpbXBsOlwic1wiLHVudmlld2VkX3Bvc2l0aW9uX3N0YXJ0OlwiMVwifSxhPVtcIm91dHB1dFwiLFwiaXVcIixcInN6XCIsXCJ1cmxcIixcImNvcnJlbGF0b3JcIixcImRlc2NyaXB0aW9uX3VybFwiLFwiaGxcIl0sZD1mdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHIuZm9ybWF0UVMoZSkpfTtyZXR1cm4gbi5hcHBlbmRRdWVyeVBhcmFtcz1mdW5jdGlvbigpe3ZhciBlPW4uZ2V0V2lubmluZ0JpZEJ5Q29kZSgpO3RoaXMudXJsQ29tcG9uZW50cy5zZWFyY2guZGVzY3JpcHRpb25fdXJsPWVuY29kZVVSSUNvbXBvbmVudChlLnZhc3RVcmwpLHRoaXMudXJsQ29tcG9uZW50cy5zZWFyY2guY3VzdF9wYXJhbXM9ZChlLmFkc2VydmVyVGFyZ2V0aW5nKSx0aGlzLnVybENvbXBvbmVudHMuY29ycmVsYXRvcj1EYXRlLm5vdygpfSxuLnZlcmlmeUFkc2VydmVyVGFnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIG8paWYoIXRoaXMudXJsQ29tcG9uZW50cy5zZWFyY2guaGFzT3duUHJvcGVydHkoZSl8fHRoaXMudXJsQ29tcG9uZW50cy5zZWFyY2hbZV0hPT1vW2VdKXJldHVybiExO2Zvcih2YXIgdCBpbiBhKWlmKCF0aGlzLnVybENvbXBvbmVudHMuc2VhcmNoLmhhc093blByb3BlcnR5KGFbdF0pKXJldHVybiExO3JldHVybiEwfSxufX1dKTtcblxuLyoqKiBFWFBPUlRTIEZST00gZXhwb3J0cy1sb2FkZXIgKioqL1xubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cucGJqcztcbn0uY2FsbCh3aW5kb3cpKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW1wb3J0cy1sb2FkZXI/dGhpcz0+d2luZG93IS4vfi9leHBvcnRzLWxvYWRlcj93aW5kb3cucGJqcyEuL2pzL2V4dGVybmFsX2RlcGVuZGVuY2llcy9wcmViaWQuanNcbi8vIG1vZHVsZSBpZCA9IDE1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaXMtYnVmZmVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohXG4gKiBqUXVlcnkgQ29va2llIFBsdWdpbiB2MS40LjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXJoYXJ0bC9qcXVlcnktY29va2llXG4gKlxuICogQ29weXJpZ2h0IDIwMTMgS2xhdXMgSGFydGxcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoalF1ZXJ5KTtcblx0fVxufShmdW5jdGlvbiAoJCkge1xuXG5cdHZhciBwbHVzZXMgPSAvXFwrL2c7XG5cblx0ZnVuY3Rpb24gZW5jb2RlKHMpIHtcblx0XHRyZXR1cm4gY29uZmlnLnJhdyA/IHMgOiBlbmNvZGVVUklDb21wb25lbnQocyk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWNvZGUocykge1xuXHRcdHJldHVybiBjb25maWcucmF3ID8gcyA6IGRlY29kZVVSSUNvbXBvbmVudChzKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHN0cmluZ2lmeUNvb2tpZVZhbHVlKHZhbHVlKSB7XG5cdFx0cmV0dXJuIGVuY29kZShjb25maWcuanNvbiA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IFN0cmluZyh2YWx1ZSkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcGFyc2VDb29raWVWYWx1ZShzKSB7XG5cdFx0aWYgKHMuaW5kZXhPZignXCInKSA9PT0gMCkge1xuXHRcdFx0Ly8gVGhpcyBpcyBhIHF1b3RlZCBjb29raWUgYXMgYWNjb3JkaW5nIHRvIFJGQzIwNjgsIHVuZXNjYXBlLi4uXG5cdFx0XHRzID0gcy5zbGljZSgxLCAtMSkucmVwbGFjZSgvXFxcXFwiL2csICdcIicpLnJlcGxhY2UoL1xcXFxcXFxcL2csICdcXFxcJyk7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdC8vIFJlcGxhY2Ugc2VydmVyLXNpZGUgd3JpdHRlbiBwbHVzZXMgd2l0aCBzcGFjZXMuXG5cdFx0XHQvLyBJZiB3ZSBjYW4ndCBkZWNvZGUgdGhlIGNvb2tpZSwgaWdub3JlIGl0LCBpdCdzIHVudXNhYmxlLlxuXHRcdFx0Ly8gSWYgd2UgY2FuJ3QgcGFyc2UgdGhlIGNvb2tpZSwgaWdub3JlIGl0LCBpdCdzIHVudXNhYmxlLlxuXHRcdFx0cyA9IGRlY29kZVVSSUNvbXBvbmVudChzLnJlcGxhY2UocGx1c2VzLCAnICcpKTtcblx0XHRcdHJldHVybiBjb25maWcuanNvbiA/IEpTT04ucGFyc2UocykgOiBzO1xuXHRcdH0gY2F0Y2goZSkge31cblx0fVxuXG5cdGZ1bmN0aW9uIHJlYWQocywgY29udmVydGVyKSB7XG5cdFx0dmFyIHZhbHVlID0gY29uZmlnLnJhdyA/IHMgOiBwYXJzZUNvb2tpZVZhbHVlKHMpO1xuXHRcdHJldHVybiAkLmlzRnVuY3Rpb24oY29udmVydGVyKSA/IGNvbnZlcnRlcih2YWx1ZSkgOiB2YWx1ZTtcblx0fVxuXG5cdHZhciBjb25maWcgPSAkLmNvb2tpZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlLCBvcHRpb25zKSB7XG5cblx0XHQvLyBXcml0ZVxuXG5cdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgISQuaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0XHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgY29uZmlnLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBvcHRpb25zLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdHZhciBkYXlzID0gb3B0aW9ucy5leHBpcmVzLCB0ID0gb3B0aW9ucy5leHBpcmVzID0gbmV3IERhdGUoKTtcblx0XHRcdFx0dC5zZXRUaW1lKCt0ICsgZGF5cyAqIDg2NGUrNSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoZG9jdW1lbnQuY29va2llID0gW1xuXHRcdFx0XHRlbmNvZGUoa2V5KSwgJz0nLCBzdHJpbmdpZnlDb29raWVWYWx1ZSh2YWx1ZSksXG5cdFx0XHRcdG9wdGlvbnMuZXhwaXJlcyA/ICc7IGV4cGlyZXM9JyArIG9wdGlvbnMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogJycsIC8vIHVzZSBleHBpcmVzIGF0dHJpYnV0ZSwgbWF4LWFnZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG5cdFx0XHRcdG9wdGlvbnMucGF0aCAgICA/ICc7IHBhdGg9JyArIG9wdGlvbnMucGF0aCA6ICcnLFxuXHRcdFx0XHRvcHRpb25zLmRvbWFpbiAgPyAnOyBkb21haW49JyArIG9wdGlvbnMuZG9tYWluIDogJycsXG5cdFx0XHRcdG9wdGlvbnMuc2VjdXJlICA/ICc7IHNlY3VyZScgOiAnJ1xuXHRcdFx0XS5qb2luKCcnKSk7XG5cdFx0fVxuXG5cdFx0Ly8gUmVhZFxuXG5cdFx0dmFyIHJlc3VsdCA9IGtleSA/IHVuZGVmaW5lZCA6IHt9O1xuXG5cdFx0Ly8gVG8gcHJldmVudCB0aGUgZm9yIGxvb3AgaW4gdGhlIGZpcnN0IHBsYWNlIGFzc2lnbiBhbiBlbXB0eSBhcnJheVxuXHRcdC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGNvb2tpZXMgYXQgYWxsLiBBbHNvIHByZXZlbnRzIG9kZCByZXN1bHQgd2hlblxuXHRcdC8vIGNhbGxpbmcgJC5jb29raWUoKS5cblx0XHR2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBjb29raWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dmFyIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuXHRcdFx0dmFyIG5hbWUgPSBkZWNvZGUocGFydHMuc2hpZnQoKSk7XG5cdFx0XHR2YXIgY29va2llID0gcGFydHMuam9pbignPScpO1xuXG5cdFx0XHRpZiAoa2V5ICYmIGtleSA9PT0gbmFtZSkge1xuXHRcdFx0XHQvLyBJZiBzZWNvbmQgYXJndW1lbnQgKHZhbHVlKSBpcyBhIGZ1bmN0aW9uIGl0J3MgYSBjb252ZXJ0ZXIuLi5cblx0XHRcdFx0cmVzdWx0ID0gcmVhZChjb29raWUsIHZhbHVlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFByZXZlbnQgc3RvcmluZyBhIGNvb2tpZSB0aGF0IHdlIGNvdWxkbid0IGRlY29kZS5cblx0XHRcdGlmICgha2V5ICYmIChjb29raWUgPSByZWFkKGNvb2tpZSkpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmVzdWx0W25hbWVdID0gY29va2llO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cblx0Y29uZmlnLmRlZmF1bHRzID0ge307XG5cblx0JC5yZW1vdmVDb29raWUgPSBmdW5jdGlvbiAoa2V5LCBvcHRpb25zKSB7XG5cdFx0aWYgKCQuY29va2llKGtleSkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIE11c3Qgbm90IGFsdGVyIG9wdGlvbnMsIHRodXMgZXh0ZW5kaW5nIGEgZnJlc2ggb2JqZWN0Li4uXG5cdFx0JC5jb29raWUoa2V5LCAnJywgJC5leHRlbmQoe30sIG9wdGlvbnMsIHsgZXhwaXJlczogLTEgfSkpO1xuXHRcdHJldHVybiAhJC5jb29raWUoa2V5KTtcblx0fTtcblxufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2pxdWVyeS5jb29raWUvanF1ZXJ5LmNvb2tpZS5qc1xuLy8gbW9kdWxlIGlkID0gMTU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbigpe1xyXG4gIHZhciBjcnlwdCA9IHJlcXVpcmUoJ2NyeXB0JyksXHJcbiAgICAgIHV0ZjggPSByZXF1aXJlKCdjaGFyZW5jJykudXRmOCxcclxuICAgICAgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKSxcclxuICAgICAgYmluID0gcmVxdWlyZSgnY2hhcmVuYycpLmJpbixcclxuXHJcbiAgLy8gVGhlIGNvcmVcclxuICBtZDUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgLy8gQ29udmVydCB0byBieXRlIGFycmF5XHJcbiAgICBpZiAobWVzc2FnZS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpXHJcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgPT09ICdiaW5hcnknKVxyXG4gICAgICAgIG1lc3NhZ2UgPSBiaW4uc3RyaW5nVG9CeXRlcyhtZXNzYWdlKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIG1lc3NhZ2UgPSB1dGY4LnN0cmluZ1RvQnl0ZXMobWVzc2FnZSk7XHJcbiAgICBlbHNlIGlmIChpc0J1ZmZlcihtZXNzYWdlKSlcclxuICAgICAgbWVzc2FnZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG1lc3NhZ2UsIDApO1xyXG4gICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZSkpXHJcbiAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnRvU3RyaW5nKCk7XHJcbiAgICAvLyBlbHNlLCBhc3N1bWUgYnl0ZSBhcnJheSBhbHJlYWR5XHJcblxyXG4gICAgdmFyIG0gPSBjcnlwdC5ieXRlc1RvV29yZHMobWVzc2FnZSksXHJcbiAgICAgICAgbCA9IG1lc3NhZ2UubGVuZ3RoICogOCxcclxuICAgICAgICBhID0gIDE3MzI1ODQxOTMsXHJcbiAgICAgICAgYiA9IC0yNzE3MzM4NzksXHJcbiAgICAgICAgYyA9IC0xNzMyNTg0MTk0LFxyXG4gICAgICAgIGQgPSAgMjcxNzMzODc4O1xyXG5cclxuICAgIC8vIFN3YXAgZW5kaWFuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbVtpXSA9ICgobVtpXSA8PCAgOCkgfCAobVtpXSA+Pj4gMjQpKSAmIDB4MDBGRjAwRkYgfFxyXG4gICAgICAgICAgICAgKChtW2ldIDw8IDI0KSB8IChtW2ldID4+PiAgOCkpICYgMHhGRjAwRkYwMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYWRkaW5nXHJcbiAgICBtW2wgPj4+IDVdIHw9IDB4ODAgPDwgKGwgJSAzMik7XHJcbiAgICBtWygoKGwgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gbDtcclxuXHJcbiAgICAvLyBNZXRob2Qgc2hvcnRjdXRzXHJcbiAgICB2YXIgRkYgPSBtZDUuX2ZmLFxyXG4gICAgICAgIEdHID0gbWQ1Ll9nZyxcclxuICAgICAgICBISCA9IG1kNS5faGgsXHJcbiAgICAgICAgSUkgPSBtZDUuX2lpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkgKz0gMTYpIHtcclxuXHJcbiAgICAgIHZhciBhYSA9IGEsXHJcbiAgICAgICAgICBiYiA9IGIsXHJcbiAgICAgICAgICBjYyA9IGMsXHJcbiAgICAgICAgICBkZCA9IGQ7XHJcblxyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKyAwXSwgIDcsIC02ODA4NzY5MzYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTcsICA2MDYxMDU4MTkpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsgNF0sICA3LCAtMTc2NDE4ODk3KTtcclxuICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIG1baSsgNV0sIDEyLCAgMTIwMDA4MDQyNik7XHJcbiAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBtW2krIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyA3XSwgMjIsIC00NTcwNTk4Myk7XHJcbiAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBtW2krIDhdLCAgNywgIDE3NzAwMzU0MTYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE3LCAtNDIwNjMpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKzExXSwgMjIsIC0xOTkwNDA0MTYyKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsxMl0sICA3LCAgMTgwNDYwMzY4Mik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krMTNdLCAxMiwgLTQwMzQxMTAxKTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krMTVdLCAyMiwgIDEyMzY1MzUzMjkpO1xyXG5cclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgMV0sICA1LCAtMTY1Nzk2NTEwKTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgNl0sICA5LCAtMTA2OTUwMTYzMik7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krMTFdLCAxNCwgIDY0MzcxNzcxMyk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDBdLCAyMCwgLTM3Mzg5NzMwMik7XHJcbiAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBtW2krIDVdLCAgNSwgLTcwMTU1ODY5MSk7XHJcbiAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCBtW2krMTBdLCAgOSwgIDM4MDE2MDgzKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsxNV0sIDE0LCAtNjYwNDc4MzM1KTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgOV0sICA1LCAgNTY4NDQ2NDM4KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsxNF0sICA5LCAtMTAxOTgwMzY5MCk7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDhdLCAyMCwgIDExNjM1MzE1MDEpO1xyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKzEzXSwgIDUsIC0xNDQ0NjgxNDY3KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgMl0sICA5LCAtNTE0MDM3ODQpO1xyXG4gICAgICBjID0gR0coYywgZCwgYSwgYiwgbVtpKyA3XSwgMTQsICAxNzM1MzI4NDczKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsxMl0sIDIwLCAtMTkyNjYwNzczNCk7XHJcblxyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA1XSwgIDQsIC0zNzg1NTgpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKyA4XSwgMTEsIC0yMDIyNTc0NDYzKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsxMV0sIDE2LCAgMTgzOTAzMDU2Mik7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krMTRdLCAyMywgLTM1MzA5NTU2KTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsgMV0sICA0LCAtMTUzMDk5MjA2MCk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krIDRdLCAxMSwgIDEyNzI4OTMzNTMpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKzEwXSwgMjMsIC0xMDk0NzMwNjQwKTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsxM10sICA0LCAgNjgxMjc5MTc0KTtcclxuICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIG1baSsgMF0sIDExLCAtMzU4NTM3MjIyKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsgM10sIDE2LCAtNzIyNTIxOTc5KTtcclxuICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIG1baSsgNl0sIDIzLCAgNzYwMjkxODkpO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA5XSwgIDQsIC02NDAzNjQ0ODcpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKzEyXSwgMTEsIC00MjE4MTU4MzUpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKzE1XSwgMTYsICA1MzA3NDI1MjApO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKyAyXSwgMjMsIC05OTUzMzg2NTEpO1xyXG5cclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsgMF0sICA2LCAtMTk4NjMwODQ0KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsgN10sIDEwLCAgMTEyNjg5MTQxNSk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA1XSwgMjEsIC01NzQzNDA1NSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krMTJdLCAgNiwgIDE3MDA0ODU1NzEpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcclxuICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE1LCAtMTA1MTUyMyk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDFdLCAyMSwgLTIwNTQ5MjI3OTkpO1xyXG4gICAgICBhID0gSUkoYSwgYiwgYywgZCwgbVtpKyA4XSwgIDYsICAxODczMzEzMzU5KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsxNV0sIDEwLCAtMzA2MTE3NDQpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcclxuICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIG1baSsxM10sIDIxLCAgMTMwOTE1MTY0OSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krIDRdLCAgNiwgLTE0NTUyMzA3MCk7XHJcbiAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBtW2krMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTUsICA3MTg3ODcyNTkpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xyXG5cclxuICAgICAgYSA9IChhICsgYWEpID4+PiAwO1xyXG4gICAgICBiID0gKGIgKyBiYikgPj4+IDA7XHJcbiAgICAgIGMgPSAoYyArIGNjKSA+Pj4gMDtcclxuICAgICAgZCA9IChkICsgZGQpID4+PiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjcnlwdC5lbmRpYW4oW2EsIGIsIGMsIGRdKTtcclxuICB9O1xyXG5cclxuICAvLyBBdXhpbGlhcnkgZnVuY3Rpb25zXHJcbiAgbWQ1Ll9mZiAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBjIHwgfmIgJiBkKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9nZyAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBkIHwgYyAmIH5kKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9oaCAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgXiBjIF4gZCkgKyAoeCA+Pj4gMCkgKyB0O1xyXG4gICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcclxuICB9O1xyXG4gIG1kNS5faWkgID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcclxuICAgIHZhciBuID0gYSArIChjIF4gKGIgfCB+ZCkpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuXHJcbiAgLy8gUGFja2FnZSBwcml2YXRlIGJsb2Nrc2l6ZVxyXG4gIG1kNS5fYmxvY2tzaXplID0gMTY7XHJcbiAgbWQ1Ll9kaWdlc3RzaXplID0gMTY7XHJcblxyXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcclxuICAgIGlmIChtZXNzYWdlID09PSB1bmRlZmluZWQgfHwgbWVzc2FnZSA9PT0gbnVsbClcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGFyZ3VtZW50ICcgKyBtZXNzYWdlKTtcclxuXHJcbiAgICB2YXIgZGlnZXN0Ynl0ZXMgPSBjcnlwdC53b3Jkc1RvQnl0ZXMobWQ1KG1lc3NhZ2UsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMuYXNCeXRlcyA/IGRpZ2VzdGJ5dGVzIDpcclxuICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuYXNTdHJpbmcgPyBiaW4uYnl0ZXNUb1N0cmluZyhkaWdlc3RieXRlcykgOlxyXG4gICAgICAgIGNyeXB0LmJ5dGVzVG9IZXgoZGlnZXN0Ynl0ZXMpO1xyXG4gIH07XHJcblxyXG59KSgpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWQ1L21kNS5qc1xuLy8gbW9kdWxlIGlkID0gMTU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuV2F5cG9pbnRzIC0gNC4wLjFcbkNvcHlyaWdodCDCqSAyMDExLTIwMTYgQ2FsZWIgVHJvdWdodG9uXG5MaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5odHRwczovL2dpdGh1Yi5jb20vaW1ha2V3ZWJ0aGluZ3Mvd2F5cG9pbnRzL2Jsb2IvbWFzdGVyL2xpY2Vuc2VzLnR4dFxuKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyIGtleUNvdW50ZXIgPSAwXG4gIHZhciBhbGxXYXlwb2ludHMgPSB7fVxuXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS93YXlwb2ludCAqL1xuICBmdW5jdGlvbiBXYXlwb2ludChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG9wdGlvbnMgcGFzc2VkIHRvIFdheXBvaW50IGNvbnN0cnVjdG9yJylcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmVsZW1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZWxlbWVudCBvcHRpb24gcGFzc2VkIHRvIFdheXBvaW50IGNvbnN0cnVjdG9yJylcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gaGFuZGxlciBvcHRpb24gcGFzc2VkIHRvIFdheXBvaW50IGNvbnN0cnVjdG9yJylcbiAgICB9XG5cbiAgICB0aGlzLmtleSA9ICd3YXlwb2ludC0nICsga2V5Q291bnRlclxuICAgIHRoaXMub3B0aW9ucyA9IFdheXBvaW50LkFkYXB0ZXIuZXh0ZW5kKHt9LCBXYXlwb2ludC5kZWZhdWx0cywgb3B0aW9ucylcbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLm9wdGlvbnMuZWxlbWVudFxuICAgIHRoaXMuYWRhcHRlciA9IG5ldyBXYXlwb2ludC5BZGFwdGVyKHRoaXMuZWxlbWVudClcbiAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5oYW5kbGVyXG4gICAgdGhpcy5heGlzID0gdGhpcy5vcHRpb25zLmhvcml6b250YWwgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnXG4gICAgdGhpcy5lbmFibGVkID0gdGhpcy5vcHRpb25zLmVuYWJsZWRcbiAgICB0aGlzLnRyaWdnZXJQb2ludCA9IG51bGxcbiAgICB0aGlzLmdyb3VwID0gV2F5cG9pbnQuR3JvdXAuZmluZE9yQ3JlYXRlKHtcbiAgICAgIG5hbWU6IHRoaXMub3B0aW9ucy5ncm91cCxcbiAgICAgIGF4aXM6IHRoaXMuYXhpc1xuICAgIH0pXG4gICAgdGhpcy5jb250ZXh0ID0gV2F5cG9pbnQuQ29udGV4dC5maW5kT3JDcmVhdGVCeUVsZW1lbnQodGhpcy5vcHRpb25zLmNvbnRleHQpXG5cbiAgICBpZiAoV2F5cG9pbnQub2Zmc2V0QWxpYXNlc1t0aGlzLm9wdGlvbnMub2Zmc2V0XSkge1xuICAgICAgdGhpcy5vcHRpb25zLm9mZnNldCA9IFdheXBvaW50Lm9mZnNldEFsaWFzZXNbdGhpcy5vcHRpb25zLm9mZnNldF1cbiAgICB9XG4gICAgdGhpcy5ncm91cC5hZGQodGhpcylcbiAgICB0aGlzLmNvbnRleHQuYWRkKHRoaXMpXG4gICAgYWxsV2F5cG9pbnRzW3RoaXMua2V5XSA9IHRoaXNcbiAgICBrZXlDb3VudGVyICs9IDFcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgV2F5cG9pbnQucHJvdG90eXBlLnF1ZXVlVHJpZ2dlciA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIHRoaXMuZ3JvdXAucXVldWVUcmlnZ2VyKHRoaXMsIGRpcmVjdGlvbilcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgV2F5cG9pbnQucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5jYWxsYmFjaykge1xuICAgICAgdGhpcy5jYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvZGVzdHJveSAqL1xuICBXYXlwb2ludC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY29udGV4dC5yZW1vdmUodGhpcylcbiAgICB0aGlzLmdyb3VwLnJlbW92ZSh0aGlzKVxuICAgIGRlbGV0ZSBhbGxXYXlwb2ludHNbdGhpcy5rZXldXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2Rpc2FibGUgKi9cbiAgV2F5cG9pbnQucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2VuYWJsZSAqL1xuICBXYXlwb2ludC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb250ZXh0LnJlZnJlc2goKVxuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9uZXh0ICovXG4gIFdheXBvaW50LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JvdXAubmV4dCh0aGlzKVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9wcmV2aW91cyAqL1xuICBXYXlwb2ludC5wcm90b3R5cGUucHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cC5wcmV2aW91cyh0aGlzKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBXYXlwb2ludC5pbnZva2VBbGwgPSBmdW5jdGlvbihtZXRob2QpIHtcbiAgICB2YXIgYWxsV2F5cG9pbnRzQXJyYXkgPSBbXVxuICAgIGZvciAodmFyIHdheXBvaW50S2V5IGluIGFsbFdheXBvaW50cykge1xuICAgICAgYWxsV2F5cG9pbnRzQXJyYXkucHVzaChhbGxXYXlwb2ludHNbd2F5cG9pbnRLZXldKVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgZW5kID0gYWxsV2F5cG9pbnRzQXJyYXkubGVuZ3RoOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIGFsbFdheXBvaW50c0FycmF5W2ldW21ldGhvZF0oKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvZGVzdHJveS1hbGwgKi9cbiAgV2F5cG9pbnQuZGVzdHJveUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIFdheXBvaW50Lmludm9rZUFsbCgnZGVzdHJveScpXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2Rpc2FibGUtYWxsICovXG4gIFdheXBvaW50LmRpc2FibGVBbGwgPSBmdW5jdGlvbigpIHtcbiAgICBXYXlwb2ludC5pbnZva2VBbGwoJ2Rpc2FibGUnKVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9lbmFibGUtYWxsICovXG4gIFdheXBvaW50LmVuYWJsZUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIFdheXBvaW50LkNvbnRleHQucmVmcmVzaEFsbCgpXG4gICAgZm9yICh2YXIgd2F5cG9pbnRLZXkgaW4gYWxsV2F5cG9pbnRzKSB7XG4gICAgICBhbGxXYXlwb2ludHNbd2F5cG9pbnRLZXldLmVuYWJsZWQgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL3JlZnJlc2gtYWxsICovXG4gIFdheXBvaW50LnJlZnJlc2hBbGwgPSBmdW5jdGlvbigpIHtcbiAgICBXYXlwb2ludC5Db250ZXh0LnJlZnJlc2hBbGwoKVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS92aWV3cG9ydC1oZWlnaHQgKi9cbiAgV2F5cG9pbnQudmlld3BvcnRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvdmlld3BvcnQtd2lkdGggKi9cbiAgV2F5cG9pbnQudmlld3BvcnRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgfVxuXG4gIFdheXBvaW50LmFkYXB0ZXJzID0gW11cblxuICBXYXlwb2ludC5kZWZhdWx0cyA9IHtcbiAgICBjb250ZXh0OiB3aW5kb3csXG4gICAgY29udGludW91czogdHJ1ZSxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGdyb3VwOiAnZGVmYXVsdCcsXG4gICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgb2Zmc2V0OiAwXG4gIH1cblxuICBXYXlwb2ludC5vZmZzZXRBbGlhc2VzID0ge1xuICAgICdib3R0b20taW4tdmlldyc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5pbm5lckhlaWdodCgpIC0gdGhpcy5hZGFwdGVyLm91dGVySGVpZ2h0KClcbiAgICB9LFxuICAgICdyaWdodC1pbi12aWV3JzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlubmVyV2lkdGgoKSAtIHRoaXMuYWRhcHRlci5vdXRlcldpZHRoKClcbiAgICB9XG4gIH1cblxuICB3aW5kb3cuV2F5cG9pbnQgPSBXYXlwb2ludFxufSgpKVxuOyhmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lU2hpbShjYWxsYmFjaykge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApXG4gIH1cblxuICB2YXIga2V5Q291bnRlciA9IDBcbiAgdmFyIGNvbnRleHRzID0ge31cbiAgdmFyIFdheXBvaW50ID0gd2luZG93LldheXBvaW50XG4gIHZhciBvbGRXaW5kb3dMb2FkID0gd2luZG93Lm9ubG9hZFxuXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9jb250ZXh0ICovXG4gIGZ1bmN0aW9uIENvbnRleHQoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLkFkYXB0ZXIgPSBXYXlwb2ludC5BZGFwdGVyXG4gICAgdGhpcy5hZGFwdGVyID0gbmV3IHRoaXMuQWRhcHRlcihlbGVtZW50KVxuICAgIHRoaXMua2V5ID0gJ3dheXBvaW50LWNvbnRleHQtJyArIGtleUNvdW50ZXJcbiAgICB0aGlzLmRpZFNjcm9sbCA9IGZhbHNlXG4gICAgdGhpcy5kaWRSZXNpemUgPSBmYWxzZVxuICAgIHRoaXMub2xkU2Nyb2xsID0ge1xuICAgICAgeDogdGhpcy5hZGFwdGVyLnNjcm9sbExlZnQoKSxcbiAgICAgIHk6IHRoaXMuYWRhcHRlci5zY3JvbGxUb3AoKVxuICAgIH1cbiAgICB0aGlzLndheXBvaW50cyA9IHtcbiAgICAgIHZlcnRpY2FsOiB7fSxcbiAgICAgIGhvcml6b250YWw6IHt9XG4gICAgfVxuXG4gICAgZWxlbWVudC53YXlwb2ludENvbnRleHRLZXkgPSB0aGlzLmtleVxuICAgIGNvbnRleHRzW2VsZW1lbnQud2F5cG9pbnRDb250ZXh0S2V5XSA9IHRoaXNcbiAgICBrZXlDb3VudGVyICs9IDFcbiAgICBpZiAoIVdheXBvaW50LndpbmRvd0NvbnRleHQpIHtcbiAgICAgIFdheXBvaW50LndpbmRvd0NvbnRleHQgPSB0cnVlXG4gICAgICBXYXlwb2ludC53aW5kb3dDb250ZXh0ID0gbmV3IENvbnRleHQod2luZG93KVxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlVGhyb3R0bGVkU2Nyb2xsSGFuZGxlcigpXG4gICAgdGhpcy5jcmVhdGVUaHJvdHRsZWRSZXNpemVIYW5kbGVyKClcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgQ29udGV4dC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICB2YXIgYXhpcyA9IHdheXBvaW50Lm9wdGlvbnMuaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCdcbiAgICB0aGlzLndheXBvaW50c1theGlzXVt3YXlwb2ludC5rZXldID0gd2F5cG9pbnRcbiAgICB0aGlzLnJlZnJlc2goKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5jaGVja0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhvcml6b250YWxFbXB0eSA9IHRoaXMuQWRhcHRlci5pc0VtcHR5T2JqZWN0KHRoaXMud2F5cG9pbnRzLmhvcml6b250YWwpXG4gICAgdmFyIHZlcnRpY2FsRW1wdHkgPSB0aGlzLkFkYXB0ZXIuaXNFbXB0eU9iamVjdCh0aGlzLndheXBvaW50cy52ZXJ0aWNhbClcbiAgICB2YXIgaXNXaW5kb3cgPSB0aGlzLmVsZW1lbnQgPT0gdGhpcy5lbGVtZW50LndpbmRvd1xuICAgIGlmIChob3Jpem9udGFsRW1wdHkgJiYgdmVydGljYWxFbXB0eSAmJiAhaXNXaW5kb3cpIHtcbiAgICAgIHRoaXMuYWRhcHRlci5vZmYoJy53YXlwb2ludHMnKVxuICAgICAgZGVsZXRlIGNvbnRleHRzW3RoaXMua2V5XVxuICAgIH1cbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlVGhyb3R0bGVkUmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgZnVuY3Rpb24gcmVzaXplSGFuZGxlcigpIHtcbiAgICAgIHNlbGYuaGFuZGxlUmVzaXplKClcbiAgICAgIHNlbGYuZGlkUmVzaXplID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLmFkYXB0ZXIub24oJ3Jlc2l6ZS53YXlwb2ludHMnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5kaWRSZXNpemUpIHtcbiAgICAgICAgc2VsZi5kaWRSZXNpemUgPSB0cnVlXG4gICAgICAgIFdheXBvaW50LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNpemVIYW5kbGVyKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIENvbnRleHQucHJvdG90eXBlLmNyZWF0ZVRocm90dGxlZFNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCkge1xuICAgICAgc2VsZi5oYW5kbGVTY3JvbGwoKVxuICAgICAgc2VsZi5kaWRTY3JvbGwgPSBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuYWRhcHRlci5vbignc2Nyb2xsLndheXBvaW50cycsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLmRpZFNjcm9sbCB8fCBXYXlwb2ludC5pc1RvdWNoKSB7XG4gICAgICAgIHNlbGYuZGlkU2Nyb2xsID0gdHJ1ZVxuICAgICAgICBXYXlwb2ludC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsSGFuZGxlcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5oYW5kbGVSZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICBXYXlwb2ludC5Db250ZXh0LnJlZnJlc2hBbGwoKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5oYW5kbGVTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdHJpZ2dlcmVkR3JvdXBzID0ge31cbiAgICB2YXIgYXhlcyA9IHtcbiAgICAgIGhvcml6b250YWw6IHtcbiAgICAgICAgbmV3U2Nyb2xsOiB0aGlzLmFkYXB0ZXIuc2Nyb2xsTGVmdCgpLFxuICAgICAgICBvbGRTY3JvbGw6IHRoaXMub2xkU2Nyb2xsLngsXG4gICAgICAgIGZvcndhcmQ6ICdyaWdodCcsXG4gICAgICAgIGJhY2t3YXJkOiAnbGVmdCdcbiAgICAgIH0sXG4gICAgICB2ZXJ0aWNhbDoge1xuICAgICAgICBuZXdTY3JvbGw6IHRoaXMuYWRhcHRlci5zY3JvbGxUb3AoKSxcbiAgICAgICAgb2xkU2Nyb2xsOiB0aGlzLm9sZFNjcm9sbC55LFxuICAgICAgICBmb3J3YXJkOiAnZG93bicsXG4gICAgICAgIGJhY2t3YXJkOiAndXAnXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYXhpc0tleSBpbiBheGVzKSB7XG4gICAgICB2YXIgYXhpcyA9IGF4ZXNbYXhpc0tleV1cbiAgICAgIHZhciBpc0ZvcndhcmQgPSBheGlzLm5ld1Njcm9sbCA+IGF4aXMub2xkU2Nyb2xsXG4gICAgICB2YXIgZGlyZWN0aW9uID0gaXNGb3J3YXJkID8gYXhpcy5mb3J3YXJkIDogYXhpcy5iYWNrd2FyZFxuXG4gICAgICBmb3IgKHZhciB3YXlwb2ludEtleSBpbiB0aGlzLndheXBvaW50c1theGlzS2V5XSkge1xuICAgICAgICB2YXIgd2F5cG9pbnQgPSB0aGlzLndheXBvaW50c1theGlzS2V5XVt3YXlwb2ludEtleV1cbiAgICAgICAgaWYgKHdheXBvaW50LnRyaWdnZXJQb2ludCA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdhc0JlZm9yZVRyaWdnZXJQb2ludCA9IGF4aXMub2xkU2Nyb2xsIDwgd2F5cG9pbnQudHJpZ2dlclBvaW50XG4gICAgICAgIHZhciBub3dBZnRlclRyaWdnZXJQb2ludCA9IGF4aXMubmV3U2Nyb2xsID49IHdheXBvaW50LnRyaWdnZXJQb2ludFxuICAgICAgICB2YXIgY3Jvc3NlZEZvcndhcmQgPSB3YXNCZWZvcmVUcmlnZ2VyUG9pbnQgJiYgbm93QWZ0ZXJUcmlnZ2VyUG9pbnRcbiAgICAgICAgdmFyIGNyb3NzZWRCYWNrd2FyZCA9ICF3YXNCZWZvcmVUcmlnZ2VyUG9pbnQgJiYgIW5vd0FmdGVyVHJpZ2dlclBvaW50XG4gICAgICAgIGlmIChjcm9zc2VkRm9yd2FyZCB8fCBjcm9zc2VkQmFja3dhcmQpIHtcbiAgICAgICAgICB3YXlwb2ludC5xdWV1ZVRyaWdnZXIoZGlyZWN0aW9uKVxuICAgICAgICAgIHRyaWdnZXJlZEdyb3Vwc1t3YXlwb2ludC5ncm91cC5pZF0gPSB3YXlwb2ludC5ncm91cFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgZ3JvdXBLZXkgaW4gdHJpZ2dlcmVkR3JvdXBzKSB7XG4gICAgICB0cmlnZ2VyZWRHcm91cHNbZ3JvdXBLZXldLmZsdXNoVHJpZ2dlcnMoKVxuICAgIH1cblxuICAgIHRoaXMub2xkU2Nyb2xsID0ge1xuICAgICAgeDogYXhlcy5ob3Jpem9udGFsLm5ld1Njcm9sbCxcbiAgICAgIHk6IGF4ZXMudmVydGljYWwubmV3U2Nyb2xsXG4gICAgfVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5pbm5lckhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4gICAgaWYgKHRoaXMuZWxlbWVudCA9PSB0aGlzLmVsZW1lbnQud2luZG93KSB7XG4gICAgICByZXR1cm4gV2F5cG9pbnQudmlld3BvcnRIZWlnaHQoKVxuICAgIH1cbiAgICAvKmVzbGludC1lbmFibGUgZXFlcWVxICovXG4gICAgcmV0dXJuIHRoaXMuYWRhcHRlci5pbm5lckhlaWdodCgpXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIENvbnRleHQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgZGVsZXRlIHRoaXMud2F5cG9pbnRzW3dheXBvaW50LmF4aXNdW3dheXBvaW50LmtleV1cbiAgICB0aGlzLmNoZWNrRW1wdHkoKVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5pbm5lcldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgLyplc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cbiAgICBpZiAodGhpcy5lbGVtZW50ID09IHRoaXMuZWxlbWVudC53aW5kb3cpIHtcbiAgICAgIHJldHVybiBXYXlwb2ludC52aWV3cG9ydFdpZHRoKClcbiAgICB9XG4gICAgLyplc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuaW5uZXJXaWR0aCgpXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2NvbnRleHQtZGVzdHJveSAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFsbFdheXBvaW50cyA9IFtdXG4gICAgZm9yICh2YXIgYXhpcyBpbiB0aGlzLndheXBvaW50cykge1xuICAgICAgZm9yICh2YXIgd2F5cG9pbnRLZXkgaW4gdGhpcy53YXlwb2ludHNbYXhpc10pIHtcbiAgICAgICAgYWxsV2F5cG9pbnRzLnB1c2godGhpcy53YXlwb2ludHNbYXhpc11bd2F5cG9pbnRLZXldKVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgZW5kID0gYWxsV2F5cG9pbnRzLmxlbmd0aDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICBhbGxXYXlwb2ludHNbaV0uZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgLyogUHVibGljICovXG4gIC8qIGh0dHA6Ly9pbWFrZXdlYnRoaW5ncy5jb20vd2F5cG9pbnRzL2FwaS9jb250ZXh0LXJlZnJlc2ggKi9cbiAgQ29udGV4dC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4gICAgdmFyIGlzV2luZG93ID0gdGhpcy5lbGVtZW50ID09IHRoaXMuZWxlbWVudC53aW5kb3dcbiAgICAvKmVzbGludC1lbmFibGUgZXFlcWVxICovXG4gICAgdmFyIGNvbnRleHRPZmZzZXQgPSBpc1dpbmRvdyA/IHVuZGVmaW5lZCA6IHRoaXMuYWRhcHRlci5vZmZzZXQoKVxuICAgIHZhciB0cmlnZ2VyZWRHcm91cHMgPSB7fVxuICAgIHZhciBheGVzXG5cbiAgICB0aGlzLmhhbmRsZVNjcm9sbCgpXG4gICAgYXhlcyA9IHtcbiAgICAgIGhvcml6b250YWw6IHtcbiAgICAgICAgY29udGV4dE9mZnNldDogaXNXaW5kb3cgPyAwIDogY29udGV4dE9mZnNldC5sZWZ0LFxuICAgICAgICBjb250ZXh0U2Nyb2xsOiBpc1dpbmRvdyA/IDAgOiB0aGlzLm9sZFNjcm9sbC54LFxuICAgICAgICBjb250ZXh0RGltZW5zaW9uOiB0aGlzLmlubmVyV2lkdGgoKSxcbiAgICAgICAgb2xkU2Nyb2xsOiB0aGlzLm9sZFNjcm9sbC54LFxuICAgICAgICBmb3J3YXJkOiAncmlnaHQnLFxuICAgICAgICBiYWNrd2FyZDogJ2xlZnQnLFxuICAgICAgICBvZmZzZXRQcm9wOiAnbGVmdCdcbiAgICAgIH0sXG4gICAgICB2ZXJ0aWNhbDoge1xuICAgICAgICBjb250ZXh0T2Zmc2V0OiBpc1dpbmRvdyA/IDAgOiBjb250ZXh0T2Zmc2V0LnRvcCxcbiAgICAgICAgY29udGV4dFNjcm9sbDogaXNXaW5kb3cgPyAwIDogdGhpcy5vbGRTY3JvbGwueSxcbiAgICAgICAgY29udGV4dERpbWVuc2lvbjogdGhpcy5pbm5lckhlaWdodCgpLFxuICAgICAgICBvbGRTY3JvbGw6IHRoaXMub2xkU2Nyb2xsLnksXG4gICAgICAgIGZvcndhcmQ6ICdkb3duJyxcbiAgICAgICAgYmFja3dhcmQ6ICd1cCcsXG4gICAgICAgIG9mZnNldFByb3A6ICd0b3AnXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYXhpc0tleSBpbiBheGVzKSB7XG4gICAgICB2YXIgYXhpcyA9IGF4ZXNbYXhpc0tleV1cbiAgICAgIGZvciAodmFyIHdheXBvaW50S2V5IGluIHRoaXMud2F5cG9pbnRzW2F4aXNLZXldKSB7XG4gICAgICAgIHZhciB3YXlwb2ludCA9IHRoaXMud2F5cG9pbnRzW2F4aXNLZXldW3dheXBvaW50S2V5XVxuICAgICAgICB2YXIgYWRqdXN0bWVudCA9IHdheXBvaW50Lm9wdGlvbnMub2Zmc2V0XG4gICAgICAgIHZhciBvbGRUcmlnZ2VyUG9pbnQgPSB3YXlwb2ludC50cmlnZ2VyUG9pbnRcbiAgICAgICAgdmFyIGVsZW1lbnRPZmZzZXQgPSAwXG4gICAgICAgIHZhciBmcmVzaFdheXBvaW50ID0gb2xkVHJpZ2dlclBvaW50ID09IG51bGxcbiAgICAgICAgdmFyIGNvbnRleHRNb2RpZmllciwgd2FzQmVmb3JlU2Nyb2xsLCBub3dBZnRlclNjcm9sbFxuICAgICAgICB2YXIgdHJpZ2dlcmVkQmFja3dhcmQsIHRyaWdnZXJlZEZvcndhcmRcblxuICAgICAgICBpZiAod2F5cG9pbnQuZWxlbWVudCAhPT0gd2F5cG9pbnQuZWxlbWVudC53aW5kb3cpIHtcbiAgICAgICAgICBlbGVtZW50T2Zmc2V0ID0gd2F5cG9pbnQuYWRhcHRlci5vZmZzZXQoKVtheGlzLm9mZnNldFByb3BdXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGFkanVzdG1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBhZGp1c3RtZW50ID0gYWRqdXN0bWVudC5hcHBseSh3YXlwb2ludClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYWRqdXN0bWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBhZGp1c3RtZW50ID0gcGFyc2VGbG9hdChhZGp1c3RtZW50KVxuICAgICAgICAgIGlmICh3YXlwb2ludC5vcHRpb25zLm9mZnNldC5pbmRleE9mKCclJykgPiAtIDEpIHtcbiAgICAgICAgICAgIGFkanVzdG1lbnQgPSBNYXRoLmNlaWwoYXhpcy5jb250ZXh0RGltZW5zaW9uICogYWRqdXN0bWVudCAvIDEwMClcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0TW9kaWZpZXIgPSBheGlzLmNvbnRleHRTY3JvbGwgLSBheGlzLmNvbnRleHRPZmZzZXRcbiAgICAgICAgd2F5cG9pbnQudHJpZ2dlclBvaW50ID0gTWF0aC5mbG9vcihlbGVtZW50T2Zmc2V0ICsgY29udGV4dE1vZGlmaWVyIC0gYWRqdXN0bWVudClcbiAgICAgICAgd2FzQmVmb3JlU2Nyb2xsID0gb2xkVHJpZ2dlclBvaW50IDwgYXhpcy5vbGRTY3JvbGxcbiAgICAgICAgbm93QWZ0ZXJTY3JvbGwgPSB3YXlwb2ludC50cmlnZ2VyUG9pbnQgPj0gYXhpcy5vbGRTY3JvbGxcbiAgICAgICAgdHJpZ2dlcmVkQmFja3dhcmQgPSB3YXNCZWZvcmVTY3JvbGwgJiYgbm93QWZ0ZXJTY3JvbGxcbiAgICAgICAgdHJpZ2dlcmVkRm9yd2FyZCA9ICF3YXNCZWZvcmVTY3JvbGwgJiYgIW5vd0FmdGVyU2Nyb2xsXG5cbiAgICAgICAgaWYgKCFmcmVzaFdheXBvaW50ICYmIHRyaWdnZXJlZEJhY2t3YXJkKSB7XG4gICAgICAgICAgd2F5cG9pbnQucXVldWVUcmlnZ2VyKGF4aXMuYmFja3dhcmQpXG4gICAgICAgICAgdHJpZ2dlcmVkR3JvdXBzW3dheXBvaW50Lmdyb3VwLmlkXSA9IHdheXBvaW50Lmdyb3VwXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWZyZXNoV2F5cG9pbnQgJiYgdHJpZ2dlcmVkRm9yd2FyZCkge1xuICAgICAgICAgIHdheXBvaW50LnF1ZXVlVHJpZ2dlcihheGlzLmZvcndhcmQpXG4gICAgICAgICAgdHJpZ2dlcmVkR3JvdXBzW3dheXBvaW50Lmdyb3VwLmlkXSA9IHdheXBvaW50Lmdyb3VwXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZnJlc2hXYXlwb2ludCAmJiBheGlzLm9sZFNjcm9sbCA+PSB3YXlwb2ludC50cmlnZ2VyUG9pbnQpIHtcbiAgICAgICAgICB3YXlwb2ludC5xdWV1ZVRyaWdnZXIoYXhpcy5mb3J3YXJkKVxuICAgICAgICAgIHRyaWdnZXJlZEdyb3Vwc1t3YXlwb2ludC5ncm91cC5pZF0gPSB3YXlwb2ludC5ncm91cFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgV2F5cG9pbnQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgZ3JvdXBLZXkgaW4gdHJpZ2dlcmVkR3JvdXBzKSB7XG4gICAgICAgIHRyaWdnZXJlZEdyb3Vwc1tncm91cEtleV0uZmx1c2hUcmlnZ2VycygpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIENvbnRleHQuZmluZE9yQ3JlYXRlQnlFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBDb250ZXh0LmZpbmRCeUVsZW1lbnQoZWxlbWVudCkgfHwgbmV3IENvbnRleHQoZWxlbWVudClcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgQ29udGV4dC5yZWZyZXNoQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgY29udGV4dElkIGluIGNvbnRleHRzKSB7XG4gICAgICBjb250ZXh0c1tjb250ZXh0SWRdLnJlZnJlc2goKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvY29udGV4dC1maW5kLWJ5LWVsZW1lbnQgKi9cbiAgQ29udGV4dC5maW5kQnlFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBjb250ZXh0c1tlbGVtZW50LndheXBvaW50Q29udGV4dEtleV1cbiAgfVxuXG4gIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAob2xkV2luZG93TG9hZCkge1xuICAgICAgb2xkV2luZG93TG9hZCgpXG4gICAgfVxuICAgIENvbnRleHQucmVmcmVzaEFsbCgpXG4gIH1cblxuXG4gIFdheXBvaW50LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlcXVlc3RGbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZVNoaW1cbiAgICByZXF1ZXN0Rm4uY2FsbCh3aW5kb3csIGNhbGxiYWNrKVxuICB9XG4gIFdheXBvaW50LkNvbnRleHQgPSBDb250ZXh0XG59KCkpXG47KGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCdcblxuICBmdW5jdGlvbiBieVRyaWdnZXJQb2ludChhLCBiKSB7XG4gICAgcmV0dXJuIGEudHJpZ2dlclBvaW50IC0gYi50cmlnZ2VyUG9pbnRcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ5UmV2ZXJzZVRyaWdnZXJQb2ludChhLCBiKSB7XG4gICAgcmV0dXJuIGIudHJpZ2dlclBvaW50IC0gYS50cmlnZ2VyUG9pbnRcbiAgfVxuXG4gIHZhciBncm91cHMgPSB7XG4gICAgdmVydGljYWw6IHt9LFxuICAgIGhvcml6b250YWw6IHt9XG4gIH1cbiAgdmFyIFdheXBvaW50ID0gd2luZG93LldheXBvaW50XG5cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2dyb3VwICovXG4gIGZ1bmN0aW9uIEdyb3VwKG9wdGlvbnMpIHtcbiAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWVcbiAgICB0aGlzLmF4aXMgPSBvcHRpb25zLmF4aXNcbiAgICB0aGlzLmlkID0gdGhpcy5uYW1lICsgJy0nICsgdGhpcy5heGlzXG4gICAgdGhpcy53YXlwb2ludHMgPSBbXVxuICAgIHRoaXMuY2xlYXJUcmlnZ2VyUXVldWVzKClcbiAgICBncm91cHNbdGhpcy5heGlzXVt0aGlzLm5hbWVdID0gdGhpc1xuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBHcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICB0aGlzLndheXBvaW50cy5wdXNoKHdheXBvaW50KVxuICB9XG5cbiAgLyogUHJpdmF0ZSAqL1xuICBHcm91cC5wcm90b3R5cGUuY2xlYXJUcmlnZ2VyUXVldWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50cmlnZ2VyUXVldWVzID0ge1xuICAgICAgdXA6IFtdLFxuICAgICAgZG93bjogW10sXG4gICAgICBsZWZ0OiBbXSxcbiAgICAgIHJpZ2h0OiBbXVxuICAgIH1cbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgR3JvdXAucHJvdG90eXBlLmZsdXNoVHJpZ2dlcnMgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBkaXJlY3Rpb24gaW4gdGhpcy50cmlnZ2VyUXVldWVzKSB7XG4gICAgICB2YXIgd2F5cG9pbnRzID0gdGhpcy50cmlnZ2VyUXVldWVzW2RpcmVjdGlvbl1cbiAgICAgIHZhciByZXZlcnNlID0gZGlyZWN0aW9uID09PSAndXAnIHx8IGRpcmVjdGlvbiA9PT0gJ2xlZnQnXG4gICAgICB3YXlwb2ludHMuc29ydChyZXZlcnNlID8gYnlSZXZlcnNlVHJpZ2dlclBvaW50IDogYnlUcmlnZ2VyUG9pbnQpXG4gICAgICBmb3IgKHZhciBpID0gMCwgZW5kID0gd2F5cG9pbnRzLmxlbmd0aDsgaSA8IGVuZDsgaSArPSAxKSB7XG4gICAgICAgIHZhciB3YXlwb2ludCA9IHdheXBvaW50c1tpXVxuICAgICAgICBpZiAod2F5cG9pbnQub3B0aW9ucy5jb250aW51b3VzIHx8IGkgPT09IHdheXBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgd2F5cG9pbnQudHJpZ2dlcihbZGlyZWN0aW9uXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNsZWFyVHJpZ2dlclF1ZXVlcygpXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIEdyb3VwLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICB0aGlzLndheXBvaW50cy5zb3J0KGJ5VHJpZ2dlclBvaW50KVxuICAgIHZhciBpbmRleCA9IFdheXBvaW50LkFkYXB0ZXIuaW5BcnJheSh3YXlwb2ludCwgdGhpcy53YXlwb2ludHMpXG4gICAgdmFyIGlzTGFzdCA9IGluZGV4ID09PSB0aGlzLndheXBvaW50cy5sZW5ndGggLSAxXG4gICAgcmV0dXJuIGlzTGFzdCA/IG51bGwgOiB0aGlzLndheXBvaW50c1tpbmRleCArIDFdXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIEdyb3VwLnByb3RvdHlwZS5wcmV2aW91cyA9IGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgdGhpcy53YXlwb2ludHMuc29ydChieVRyaWdnZXJQb2ludClcbiAgICB2YXIgaW5kZXggPSBXYXlwb2ludC5BZGFwdGVyLmluQXJyYXkod2F5cG9pbnQsIHRoaXMud2F5cG9pbnRzKVxuICAgIHJldHVybiBpbmRleCA/IHRoaXMud2F5cG9pbnRzW2luZGV4IC0gMV0gOiBudWxsXG4gIH1cblxuICAvKiBQcml2YXRlICovXG4gIEdyb3VwLnByb3RvdHlwZS5xdWV1ZVRyaWdnZXIgPSBmdW5jdGlvbih3YXlwb2ludCwgZGlyZWN0aW9uKSB7XG4gICAgdGhpcy50cmlnZ2VyUXVldWVzW2RpcmVjdGlvbl0ucHVzaCh3YXlwb2ludClcbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgR3JvdXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgdmFyIGluZGV4ID0gV2F5cG9pbnQuQWRhcHRlci5pbkFycmF5KHdheXBvaW50LCB0aGlzLndheXBvaW50cylcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy53YXlwb2ludHMuc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cbiAgfVxuXG4gIC8qIFB1YmxpYyAqL1xuICAvKiBodHRwOi8vaW1ha2V3ZWJ0aGluZ3MuY29tL3dheXBvaW50cy9hcGkvZmlyc3QgKi9cbiAgR3JvdXAucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMud2F5cG9pbnRzWzBdXG4gIH1cblxuICAvKiBQdWJsaWMgKi9cbiAgLyogaHR0cDovL2ltYWtld2VidGhpbmdzLmNvbS93YXlwb2ludHMvYXBpL2xhc3QgKi9cbiAgR3JvdXAucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy53YXlwb2ludHNbdGhpcy53YXlwb2ludHMubGVuZ3RoIC0gMV1cbiAgfVxuXG4gIC8qIFByaXZhdGUgKi9cbiAgR3JvdXAuZmluZE9yQ3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBncm91cHNbb3B0aW9ucy5heGlzXVtvcHRpb25zLm5hbWVdIHx8IG5ldyBHcm91cChvcHRpb25zKVxuICB9XG5cbiAgV2F5cG9pbnQuR3JvdXAgPSBHcm91cFxufSgpKVxuOyhmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyIFdheXBvaW50ID0gd2luZG93LldheXBvaW50XG5cbiAgZnVuY3Rpb24gaXNXaW5kb3coZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50ID09PSBlbGVtZW50LndpbmRvd1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0V2luZG93KGVsZW1lbnQpIHtcbiAgICBpZiAoaXNXaW5kb3coZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50LmRlZmF1bHRWaWV3XG4gIH1cblxuICBmdW5jdGlvbiBOb0ZyYW1ld29ya0FkYXB0ZXIoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmhhbmRsZXJzID0ge31cbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUuaW5uZXJIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXNXaW4gPSBpc1dpbmRvdyh0aGlzLmVsZW1lbnQpXG4gICAgcmV0dXJuIGlzV2luID8gdGhpcy5lbGVtZW50LmlubmVySGVpZ2h0IDogdGhpcy5lbGVtZW50LmNsaWVudEhlaWdodFxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLnByb3RvdHlwZS5pbm5lcldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlzV2luID0gaXNXaW5kb3codGhpcy5lbGVtZW50KVxuICAgIHJldHVybiBpc1dpbiA/IHRoaXMuZWxlbWVudC5pbm5lcldpZHRoIDogdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoXG4gIH1cblxuICBOb0ZyYW1ld29ya0FkYXB0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGVsZW1lbnQsIGxpc3RlbmVycywgaGFuZGxlcikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGVuZCA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldXG4gICAgICAgIGlmICghaGFuZGxlciB8fCBoYW5kbGVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBldmVudFBhcnRzID0gZXZlbnQuc3BsaXQoJy4nKVxuICAgIHZhciBldmVudFR5cGUgPSBldmVudFBhcnRzWzBdXG4gICAgdmFyIG5hbWVzcGFjZSA9IGV2ZW50UGFydHNbMV1cbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudFxuXG4gICAgaWYgKG5hbWVzcGFjZSAmJiB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV0gJiYgZXZlbnRUeXBlKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcnMoZWxlbWVudCwgdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdW2V2ZW50VHlwZV0sIGhhbmRsZXIpXG4gICAgICB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV1bZXZlbnRUeXBlXSA9IFtdXG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50VHlwZSkge1xuICAgICAgZm9yICh2YXIgbnMgaW4gdGhpcy5oYW5kbGVycykge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcnMoZWxlbWVudCwgdGhpcy5oYW5kbGVyc1tuc11bZXZlbnRUeXBlXSB8fCBbXSwgaGFuZGxlcilcbiAgICAgICAgdGhpcy5oYW5kbGVyc1tuc11bZXZlbnRUeXBlXSA9IFtdXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5hbWVzcGFjZSAmJiB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV0pIHtcbiAgICAgIGZvciAodmFyIHR5cGUgaW4gdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVycyhlbGVtZW50LCB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV1bdHlwZV0sIGhhbmRsZXIpXG4gICAgICB9XG4gICAgICB0aGlzLmhhbmRsZXJzW25hbWVzcGFjZV0gPSB7fVxuICAgIH1cbiAgfVxuXG4gIC8qIEFkYXB0ZWQgZnJvbSBqUXVlcnkgMS54IG9mZnNldCgpICovXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgdmFyIHdpbiA9IGdldFdpbmRvdyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudClcbiAgICB2YXIgcmVjdCA9IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xuICAgICAgcmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0XG4gICAgfVxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgdmFyIGV2ZW50UGFydHMgPSBldmVudC5zcGxpdCgnLicpXG4gICAgdmFyIGV2ZW50VHlwZSA9IGV2ZW50UGFydHNbMF1cbiAgICB2YXIgbmFtZXNwYWNlID0gZXZlbnRQYXJ0c1sxXSB8fCAnX19kZWZhdWx0J1xuICAgIHZhciBuc0hhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdID0gdGhpcy5oYW5kbGVyc1tuYW1lc3BhY2VdIHx8IHt9XG4gICAgdmFyIG5zVHlwZUxpc3QgPSBuc0hhbmRsZXJzW2V2ZW50VHlwZV0gPSBuc0hhbmRsZXJzW2V2ZW50VHlwZV0gfHwgW11cblxuICAgIG5zVHlwZUxpc3QucHVzaChoYW5kbGVyKVxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgaGFuZGxlcilcbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUub3V0ZXJIZWlnaHQgPSBmdW5jdGlvbihpbmNsdWRlTWFyZ2luKSB7XG4gICAgdmFyIGhlaWdodCA9IHRoaXMuaW5uZXJIZWlnaHQoKVxuICAgIHZhciBjb21wdXRlZFN0eWxlXG5cbiAgICBpZiAoaW5jbHVkZU1hcmdpbiAmJiAhaXNXaW5kb3codGhpcy5lbGVtZW50KSkge1xuICAgICAgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICAgIGhlaWdodCArPSBwYXJzZUludChjb21wdXRlZFN0eWxlLm1hcmdpblRvcCwgMTApXG4gICAgICBoZWlnaHQgKz0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5tYXJnaW5Cb3R0b20sIDEwKVxuICAgIH1cblxuICAgIHJldHVybiBoZWlnaHRcbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUub3V0ZXJXaWR0aCA9IGZ1bmN0aW9uKGluY2x1ZGVNYXJnaW4pIHtcbiAgICB2YXIgd2lkdGggPSB0aGlzLmlubmVyV2lkdGgoKVxuICAgIHZhciBjb21wdXRlZFN0eWxlXG5cbiAgICBpZiAoaW5jbHVkZU1hcmdpbiAmJiAhaXNXaW5kb3codGhpcy5lbGVtZW50KSkge1xuICAgICAgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICAgIHdpZHRoICs9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUubWFyZ2luTGVmdCwgMTApXG4gICAgICB3aWR0aCArPSBwYXJzZUludChjb21wdXRlZFN0eWxlLm1hcmdpblJpZ2h0LCAxMClcbiAgICB9XG5cbiAgICByZXR1cm4gd2lkdGhcbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5wcm90b3R5cGUuc2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3aW4gPSBnZXRXaW5kb3codGhpcy5lbGVtZW50KVxuICAgIHJldHVybiB3aW4gPyB3aW4ucGFnZVhPZmZzZXQgOiB0aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdFxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLnByb3RvdHlwZS5zY3JvbGxUb3AgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgd2luID0gZ2V0V2luZG93KHRoaXMuZWxlbWVudClcbiAgICByZXR1cm4gd2luID8gd2luLnBhZ2VZT2Zmc2V0IDogdGhpcy5lbGVtZW50LnNjcm9sbFRvcFxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuXG4gICAgZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBvYmopIHtcbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG9ialtrZXldXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXRcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gYXJncy5sZW5ndGg7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgbWVyZ2UoYXJnc1swXSwgYXJnc1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGFyZ3NbMF1cbiAgfVxuXG4gIE5vRnJhbWV3b3JrQWRhcHRlci5pbkFycmF5ID0gZnVuY3Rpb24oZWxlbWVudCwgYXJyYXksIGkpIHtcbiAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IC0xIDogYXJyYXkuaW5kZXhPZihlbGVtZW50LCBpKVxuICB9XG5cbiAgTm9GcmFtZXdvcmtBZGFwdGVyLmlzRW1wdHlPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IDAgKi9cbiAgICBmb3IgKHZhciBuYW1lIGluIG9iaikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBXYXlwb2ludC5hZGFwdGVycy5wdXNoKHtcbiAgICBuYW1lOiAnbm9mcmFtZXdvcmsnLFxuICAgIEFkYXB0ZXI6IE5vRnJhbWV3b3JrQWRhcHRlclxuICB9KVxuICBXYXlwb2ludC5BZGFwdGVyID0gTm9GcmFtZXdvcmtBZGFwdGVyXG59KCkpXG47XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3dheXBvaW50cy9saWIvbm9mcmFtZXdvcmsud2F5cG9pbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSAxNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnY29yZS1qcy9lczYvcHJvbWlzZScpOyAvLyBmb3Igbm9uIEVTMjAxNSBlbnZpcm9ubWVudHNcbnJlcXVpcmUoJ2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnN0YXJ0cy13aXRoJyk7XG5yZXF1aXJlKCdjb3JlLWpzL2ZuL2FycmF5L2ZpbGwnKTtcblxuY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5jb25zdCBldmVudHMgPSByZXF1aXJlKCdwZ21mZS9ldmVudHMnKTtcbmNvbnN0IGxhenlsb2FkID0gcmVxdWlyZSgncGdtZmUvbGF6eWxvYWQvbGF6eWxvYWQnKTtcbmNvbnN0IHN0b3BPdGhlclZpZGVvcyA9IHJlcXVpcmUoJ3BnbWZlL3ZpZGVvL3N0b3Atb3RoZXJzJyk7XG5jb25zdCBmbG9hdGVyID0gcmVxdWlyZSgncGdtZmUvdXgvZmxvYXRlcicpO1xuY29uc3QgaW5pdExpZ2h0Ym94ID0gcmVxdWlyZSgncGdtZmUvdXgvbGlnaHRib3gnKTtcbmNvbnN0IHRyYWNraW5nID0gcmVxdWlyZSgncGdtZmUvdHJhY2tpbmcnKTtcblxuY29uc3Qgdm90aW5nID0gcmVxdWlyZSgnLi92b3RpbmcnKTtcblxuY29uc3QgYWRzID0gcmVxdWlyZSgncGdtZmUvYWRzJyk7XG5cbi8vIGhlYWRlciBiaWRkZXJzOyBlYWNoIHJldHVybnMgYSBzaW5nbGUgYmlkZGVyIG9iamVjdCBvciBhbiBhcnJheSBvZiB0aGVtXG5jb25zdCBiaWRkZXJzID0ge1xuICAgIHJ1Ymljb246IHJlcXVpcmUoJy4vYWRzL2JpZGRlcnMvcnViaWNvbicpLFxuICAgIGFvbDogcmVxdWlyZSgnLi9hZHMvYmlkZGVycy9hb2wnKSxcbiAgICBhcHBuZXh1czogcmVxdWlyZSgnLi9hZHMvYmlkZGVycy9hcHBuZXh1cycpLFxufTtcblxuLy8gbGVmdCByYWlsIGlzIHNwZWNpYWxcbmNvbnN0IGxlZnRSYWlsID0gcmVxdWlyZSgncGdtZmUvY29udGVudC9sZWZ0LXJhaWwnKTtcblxuZXZlbnRzLm9uY2UoJ2NvbnRlbnRSZWFkeScsIGZ1bmN0aW9uKCkge1xuICAgIGxlZnRSYWlsLnNldHVwKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJCgnI3NpdGUtaGVhZGVyJykub3V0ZXJIZWlnaHQoKTtcbiAgICB9KTtcbn0pO1xuXG4vLyBzdGFydCBzZXR1cFxucmVxdWlyZSgnLi9jb250ZW50Jyk7XG5cbmFkcy5zZXR1cCh7XG4gICAgYmlkZGVyczogW10uY29uY2F0KGJpZGRlcnMucnViaWNvbikuY29uY2F0KGJpZGRlcnMuYW9sKS5jb25jYXQoYmlkZGVycy5hcHBuZXh1cylcbn0pO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcblxuICAgIGZ1bmN0aW9uIGxvYWRJbml0aWFsQ29udGVudCgpIHtcbiAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2NvbnRlbnRSZWFkeScpO1xuICAgICAgICBldmVudHMudHJpZ2dlcignaW5pdGlhbENvbnRlbnRMb2FkZWQnLCAkYm9keSk7XG4gICAgfVxuXG4gICAgdHJhY2tpbmcuc2V0Q2F0ZWdvcnkoJGJvZHkuZGF0YSgndHJhY2tjYXRlZ29yeScpIHx8ICdVbmtub3duJyk7XG5cbiAgICBsYXp5bG9hZC5sb2FkU2NyaXB0cygpO1xuICAgIGxhenlsb2FkLmxvYWRJbWFnZXMoKTtcbiAgICBsYXp5bG9hZC5sb2FkQmFja2dyb3VuZEltYWdlcygpO1xuICAgIGxhenlsb2FkLmxvYWRPbkFzeW5jQ29udGVudExvYWRlZCgpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBPT1AgYWQgZm9yIGdvb2dsZSB0cmFmZmljXG4gICAgaWYgKC0xICE9PSBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2guaW5kZXhPZigncGFydG5lcj1nb29nbGVfY2hhcnRzJykpIHtcbiAgICAgICAgJCgnI2RmcC1hZC1vMScpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIGxvYWQgaW5pdGlhbCBhZHMgYW5kIHRoZW4gY29uZmlndXJlXG4gICAgYWRzLnNldHVwKCkudGhlbihcbiAgICAgICAgbG9hZEluaXRpYWxDb250ZW50LFxuICAgICAgICBsb2FkSW5pdGlhbENvbnRlbnRcbiAgICApLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkYm9keS5pcygnLmFydGljbGUtcGFnZScpKSB7XG4gICAgICAgICAgICBhZHMuc3RpY2t5TGVhZGVyYm9hcmQoe1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGRpZG4ndCBzdWJ0cmFjdCBvbmUsIHRoZSB3YXlwb2ludFxuICAgICAgICAgICAgICAgIC8vIHdvdWxkIHRyaWdnZXIgaW1tZWRpYXRlbHkgdXBvbiBsb2FkXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuICQoJyNzaXRlLWhlYWRlcicpLm91dGVySGVpZ2h0KCkgLSAxOyB9LFxuICAgICAgICAgICAgICAgIGF2b2lkQ29sbGlzaW9uOiAnLmFydGljbGVfX2JvZHksIC5tYWluLW1lZGlhX192aWRlbydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpbml0TGlnaHRib3goKTtcblxuICAgIHN0b3BPdGhlclZpZGVvcygpO1xuXG4gICAgdmFyIGNhbGxGbG9hdGVyID0gZnVuY3Rpb24gY2FsbEZsb2F0ZXIoKSB7XG4gICAgICAgIGlmKCAkKHdpbmRvdykud2lkdGgoKSA8IDEwMjQgKSByZXR1cm47XG4gICAgICAgICQoJy5qcy1mbG9hdGVyJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmbG9hdGVyKHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyOiB0aGlzLFxuICAgICAgICAgICAgICAgIHVuZmxvYXRTZWxlY3RvcjogJy5qcy1mbG9hdGVyJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBldmVudHMub24oJ2NvbnRlbnRMb2FkZWQnLCBjYWxsRmxvYXRlcik7XG5cbiAgICBpZiggJCgnW2RhdGEtY29udGVudC10eXBlXScpLmF0dHIoJ2RhdGEtY29udGVudC10eXBlJykgPT09ICd5ZWFyRW5kQ2hhcnQnICkge1xuICAgICAgICB2b3RpbmcuZ2V0Vm90ZXMoKTtcbiAgICAgICAgdm90aW5nLnNldHVwKCk7XG4gICAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tb2R1bGVzL2hvbWUuanMiXSwic291cmNlUm9vdCI6IiJ9