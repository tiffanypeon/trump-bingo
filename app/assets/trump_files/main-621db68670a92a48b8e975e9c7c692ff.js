define("ab/libs/tracker/tagx_tracker",["ab/vendor/jquery","ab/libs/utils","ab/libs/url","ab/libs/logger"],function(t,e,r,i){"use strict";var a=function(t,e){e=e||{},this.attrs={priority:!0},this.queue=[],this.logger=i.get("tagxTracker"),this.isLiteTracking=e.isLiteTracking||!1,t&&this.setAttrs(t),e.liteTracking&&(this.liteTracking=e.liteTracking)};return a.prototype={liteTracking:["allocation"],setAttrs:function(e){this.attrs=t.extend(!0,{},this.attrs,e)},sendImpression:function(t){this.setAttrs({treatment:t}),this.trackEvent({name:"abtest",subject:"adx-ab-allocation",action:"allocation",url:r.getLocationHref()}),this.trackEvent({name:"abtest",subject:"ab-alloc",action:"allocation",url:r.getLocationHref()}),this.logger.debug("Sending impression with id: "+t),this.setAttrs({subject:"module-interactions"})},trackEvent:function(e){var r,i;if(e=t.extend(!0,{},this.attrs,e),this.isLiteTracking&&-1===t.inArray(e.action,this.liteTracking))return void this.logger.debug("Event Tracker Lite skipped "+JSON.stringify(e));r=e.name||"module-interactions",delete e.name,i="allocation"===e.action?"":"interaction",e.hasOwnProperty("type")&&delete e.type,"ab-alloc"===e.subject&&(e.variant=e.treatment,delete e.treatment,e.test=e.testName||"",delete e.testName);try{this._send({name:r,data:e,type:i})}catch(a){this._addToQueue({name:r,data:e,type:i})}},_getTracker:function(){return this._trackerInst||(this._trackerInst=TAGX.EventProxy),this._trackerInst},_send:function(t){t.type=t.type||"",this._getTracker().trigger(t.name,t.data,t.type),this.logger.info("Event sent: "+JSON.stringify(t))},_addToQueue:function(t){this.queue.push(t),this._isWorkerSpawned()||this._spawnWorker()},_isWorkerSpawned:function(){return!!this._worker},_spawnWorker:function(){this._worker=setTimeout(t.proxy(this._clearQueue,this),500)},_clearQueue:function(){var t;try{for(;t=this.queue.shift();)this._send(t)}catch(e){this._addToQueue(t),this._spawnWorker()}}},a}),define("ab/tests/bar1/lp_gbb_offers_crossword_1216/tracking",["ab/vendor/jquery"],function(t){"use strict";return{forCommonVariation:[{selector:"#nyt-button-sub",category:"hover",action:"hover",eventType:"mouseover",label:"bar1_hoverCardDisplay"},{selector:"#nyt-button-sub",category:"cta",action:"click",label:"bar1_cta"},{selector:"#hovercard",category:"cta",action:"click",label:"bar1_hoverCta"}]}}),define("ab/tests/bar1/lp_gbb_offers_crossword_1216/main",["ab/vendor/jquery","ab/libs/utils","ab/libs/tracking_strategies/delegation_tracking_strategy","ab/libs/tracking_facade","ab/libs/test/strict_test","ab/libs/variation","ab/libs/engine/ga","ab/libs/tracker/tagx_tracker","ab/tests/bar1/lp_gbb_offers_crossword_1216/config","ab/tests/bar1/lp_gbb_offers_crossword_1216/tracking"],function(t,e,r,i,a,n,s,o,c,l){"use strict";var d=e.inherits(a,{name:"lp_gbb_offers_crossword_1216"}),u=t("#Bar1, #memberTools, .masthead-tools"),b=e.inherits(n,{changeDom:function(){var r=this;t.getScript("//static01.nyt.com/marketing/ADX/bar1/bar1_meter_count_v2.js"),this.logger.info(this.name+" is applied"),t("head").append(e.Template("lp_gbb_offers_crossword_1216_bar1_style_ctrl")),u.prepend(e.Template("lp_gbb_offers_crossword_1216_bar1_ctrl",c.options.variants[this.id])),e.appendToHref(c.options.campaignId[this.id]),e.runWhenReady(function(){return"function"==typeof window.Krux},function(){var t=c.options.krux[r.id];window.Krux("admEvent",t.event,t.attrs),r.logger.info("Krux event sent: "+t.event+", "+JSON.stringify(t.attrs))},100,50)},setTracking:function(t){t.setTracking(l.forCommonVariation)}}),g=e.inherits(b,{name:"control",id:"ctrl"}),_=e.inherits(b,{name:"Variation1",id:"var1"}),h=e.inherits(b,{name:"Variation2",id:"var2"}),f=e.inherits(b,{name:"Variation3",id:"var3"}),p=e.inherits(b,{name:"Variation4",id:"var4"}),m=e.inherits(b,{name:"Variation5",id:"var5"}),k=new s({experimentId:c.experimentId,variationId:s.getForcedVariationId(c.gaStatus,c.forcedVariationId)}),v=new o({expId:c.experimentId,testName:"lp_gbb_offers_crossword_1216",module:"bar1"},{isLiteTracking:!0});k.getUid().done(function(t){v.setAttrs({UIDplatform:"Google",globalUID:t})});var y=new d({variations:[g,_,h,f,p,m],trackerFacade:new i({gua:k,tagx:v}),engine:k,trackers:c.trackers||{},trackingStrategy:r});return y.runExperiment(),y});
//# sourceMappingURL=main.js.map